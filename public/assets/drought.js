(function(){var B=this;var x=B._;var b={};var k=Array.prototype,H=Object.prototype,K=Function.prototype;var z=k.slice,D=k.unshift,C=H.toString,s=H.hasOwnProperty;var p=k.forEach,j=k.map,F=k.reduce,e=k.reduceRight,o=k.filter,a=k.every,E=k.some,A=k.indexOf,f=k.lastIndexOf,c=Array.isArray,G=Object.keys,m=K.bind;var J=function(M){return new g(M)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=J}exports._=J}else{B._=J}J.VERSION="1.3.1";var d=J.each=J.forEach=function(R,Q,P){if(R==null){return}if(p&&R.forEach===p){R.forEach(Q,P)}else{if(R.length===+R.length){for(var O=0,M=R.length;O<M;O++){if(O in R&&Q.call(P,R[O],O,R)===b){return}}}else{for(var N in R){if(J.has(R,N)){if(Q.call(P,R[N],N,R)===b){return}}}}}};J.map=J.collect=function(P,O,N){var M=[];if(P==null){return M}if(j&&P.map===j){return P.map(O,N)}d(P,function(S,Q,R){M[M.length]=O.call(N,S,Q,R)});if(P.length===+P.length){M.length=P.length}return M};J.reduce=J.foldl=J.inject=function(Q,P,M,O){var N=arguments.length>2;if(Q==null){Q=[]}if(F&&Q.reduce===F){if(O){P=J.bind(P,O)}return N?Q.reduce(P,M):Q.reduce(P)}d(Q,function(T,R,S){if(!N){M=T;N=true}else{M=P.call(O,M,T,R,S)}});if(!N){throw new TypeError("Reduce of empty array with no initial value")}return M};J.reduceRight=J.foldr=function(Q,P,M,O){var N=arguments.length>2;if(Q==null){Q=[]}if(e&&Q.reduceRight===e){if(O){P=J.bind(P,O)}return N?Q.reduceRight(P,M):Q.reduceRight(P)}var R=J.toArray(Q).reverse();if(O&&!N){P=J.bind(P,O)}return N?J.reduce(R,P,M,O):J.reduce(R,P)};J.find=J.detect=function(P,O,N){var M;u(P,function(S,Q,R){if(O.call(N,S,Q,R)){M=S;return true}});return M};J.filter=J.select=function(P,O,N){var M=[];if(P==null){return M}if(o&&P.filter===o){return P.filter(O,N)}d(P,function(S,Q,R){if(O.call(N,S,Q,R)){M[M.length]=S}});return M};J.reject=function(P,O,N){var M=[];if(P==null){return M}d(P,function(S,Q,R){if(!O.call(N,S,Q,R)){M[M.length]=S}});return M};J.every=J.all=function(P,O,N){var M=true;if(P==null){return M}if(a&&P.every===a){return P.every(O,N)}d(P,function(S,Q,R){if(!(M=M&&O.call(N,S,Q,R))){return b}});return M};var u=J.some=J.any=function(P,O,N){O||(O=J.identity);var M=false;if(P==null){return M}if(E&&P.some===E){return P.some(O,N)}d(P,function(S,Q,R){if(M||(M=O.call(N,S,Q,R))){return b}});return !!M};J.include=J.contains=function(O,N){var M=false;if(O==null){return M}if(A&&O.indexOf===A){return O.indexOf(N)!=-1}M=u(O,function(P){return P===N});return M};J.invoke=function(N,O){var M=z.call(arguments,2);return J.map(N,function(P){return(J.isFunction(O)?O||P:P[O]).apply(P,M)})};J.pluck=function(N,M){return J.map(N,function(O){return O[M]})};J.max=function(P,O,N){if(!O&&J.isArray(P)){return Math.max.apply(Math,P)}if(!O&&J.isEmpty(P)){return -Infinity}var M={computed:-Infinity};d(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R>=M.computed&&(M={value:T,computed:R})});return M.value};J.min=function(P,O,N){if(!O&&J.isArray(P)){return Math.min.apply(Math,P)}if(!O&&J.isEmpty(P)){return Infinity}var M={computed:Infinity};d(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R<M.computed&&(M={value:T,computed:R})});return M.value};J.shuffle=function(O){var M=[],N;d(O,function(R,P,Q){if(P==0){M[0]=R}else{N=Math.floor(Math.random()*(P+1));M[P]=M[N];M[N]=R}});return M};J.sortBy=function(O,N,M){return J.pluck(J.map(O,function(R,P,Q){return{value:R,criteria:N.call(M,R,P,Q)}}).sort(function(S,R){var Q=S.criteria,P=R.criteria;return Q<P?-1:Q>P?1:0}),"value")};J.groupBy=function(O,P){var M={};var N=J.isFunction(P)?P:function(Q){return Q[P]};d(O,function(S,Q){var R=N(S,Q);(M[R]||(M[R]=[])).push(S)});return M};J.sortedIndex=function(R,Q,O){O||(O=J.identity);var M=0,P=R.length;while(M<P){var N=(M+P)>>1;O(R[N])<O(Q)?M=N+1:P=N}return M};J.toArray=function(M){if(!M){return[]}if(M.toArray){return M.toArray()}if(J.isArray(M)){return z.call(M)}if(J.isArguments(M)){return z.call(M)}return J.values(M)};J.size=function(M){return J.toArray(M).length};J.first=J.head=function(O,N,M){return(N!=null)&&!M?z.call(O,0,N):O[0]};J.initial=function(O,N,M){return z.call(O,0,O.length-((N==null)||M?1:N))};J.last=function(O,N,M){if((N!=null)&&!M){return z.call(O,Math.max(O.length-N,0))}else{return O[O.length-1]}};J.rest=J.tail=function(O,M,N){return z.call(O,(M==null)||N?1:M)};J.compact=function(M){return J.filter(M,function(N){return !!N})};J.flatten=function(N,M){return J.reduce(N,function(O,P){if(J.isArray(P)){return O.concat(M?P:J.flatten(P))}O[O.length]=P;return O},[])};J.without=function(M){return J.difference(M,z.call(arguments,1))};J.uniq=J.unique=function(Q,P,O){var N=O?J.map(Q,O):Q;var M=[];J.reduce(N,function(R,T,S){if(0==S||(P===true?J.last(R)!=T:!J.include(R,T))){R[R.length]=T;M[M.length]=Q[S]}return R},[]);return M};J.union=function(){return J.uniq(J.flatten(arguments,true))};J.intersection=J.intersect=function(N){var M=z.call(arguments,1);return J.filter(J.uniq(N),function(O){return J.every(M,function(P){return J.indexOf(P,O)>=0})})};J.difference=function(N){var M=J.flatten(z.call(arguments,1));return J.filter(N,function(O){return !J.include(M,O)})};J.zip=function(){var M=z.call(arguments);var P=J.max(J.pluck(M,"length"));var O=new Array(P);for(var N=0;N<P;N++){O[N]=J.pluck(M,""+N)}return O};J.indexOf=function(Q,O,P){if(Q==null){return -1}var N,M;if(P){N=J.sortedIndex(Q,O);return Q[N]===O?N:-1}if(A&&Q.indexOf===A){return Q.indexOf(O)}for(N=0,M=Q.length;N<M;N++){if(N in Q&&Q[N]===O){return N}}return -1};J.lastIndexOf=function(O,N){if(O==null){return -1}if(f&&O.lastIndexOf===f){return O.lastIndexOf(N)}var M=O.length;while(M--){if(M in O&&O[M]===N){return M}}return -1};J.range=function(R,P,Q){if(arguments.length<=1){P=R||0;R=0}Q=arguments[2]||1;var N=Math.max(Math.ceil((P-R)/Q),0);var M=0;var O=new Array(N);while(M<N){O[M++]=R;R+=Q}return O};var h=function(){};J.bind=function L(P,N){var O,M;if(P.bind===m&&m){return m.apply(P,z.call(arguments,1))}if(!J.isFunction(P)){throw new TypeError}M=z.call(arguments,2);return O=function(){if(!(this instanceof O)){return P.apply(N,M.concat(z.call(arguments)))}h.prototype=P.prototype;var R=new h;var Q=P.apply(R,M.concat(z.call(arguments)));if(Object(Q)===Q){return Q}return R}};J.bindAll=function(N){var M=z.call(arguments,1);if(M.length==0){M=J.functions(N)}d(M,function(O){N[O]=J.bind(N[O],N)});return N};J.memoize=function(O,N){var M={};N||(N=J.identity);return function(){var P=N.apply(this,arguments);return J.has(M,P)?M[P]:(M[P]=O.apply(this,arguments))}};J.delay=function(N,O){var M=z.call(arguments,2);return setTimeout(function(){return N.apply(N,M)},O)};J.defer=function(M){return J.delay.apply(J,[M,1].concat(z.call(arguments,1)))};J.throttle=function(R,T){var P,M,S,Q,O;var N=J.debounce(function(){O=Q=false},T);return function(){P=this;M=arguments;var U=function(){S=null;if(O){R.apply(P,M)}N()};if(!S){S=setTimeout(U,T)}if(Q){O=true}else{R.apply(P,M)}N();Q=true}};J.debounce=function(M,O){var N;return function(){var R=this,Q=arguments;var P=function(){N=null;M.apply(R,Q)};clearTimeout(N);N=setTimeout(P,O)}};J.once=function(O){var M=false,N;return function(){if(M){return N}M=true;return N=O.apply(this,arguments)}};J.wrap=function(M,N){return function(){var O=[M].concat(z.call(arguments,0));return N.apply(this,O)}};J.compose=function(){var M=arguments;return function(){var N=arguments;for(var O=M.length-1;O>=0;O--){N=[M[O].apply(this,N)]}return N[0]}};J.after=function(N,M){if(N<=0){return M()}return function(){if(--N<1){return M.apply(this,arguments)}}};J.keys=G||function(O){if(O!==Object(O)){throw new TypeError("Invalid object")}var N=[];for(var M in O){if(J.has(O,M)){N[N.length]=M}}return N};J.values=function(M){return J.map(M,J.identity)};J.functions=J.methods=function(O){var N=[];for(var M in O){if(J.isFunction(O[M])){N.push(M)}}return N.sort()};J.extend=function(M){d(z.call(arguments,1),function(N){for(var O in N){M[O]=N[O]}});return M};J.defaults=function(M){d(z.call(arguments,1),function(N){for(var O in N){if(M[O]==null){M[O]=N[O]}}});return M};J.clone=function(M){if(!J.isObject(M)){return M}return J.isArray(M)?M.slice():J.extend({},M)};J.tap=function(N,M){M(N);return N};function I(P,O,N){if(P===O){return P!==0||1/P==1/O}if(P==null||O==null){return P===O}if(P._chain){P=P._wrapped}if(O._chain){O=O._wrapped}if(P.isEqual&&J.isFunction(P.isEqual)){return P.isEqual(O)}if(O.isEqual&&J.isFunction(O.isEqual)){return O.isEqual(P)}var S=C.call(P);if(S!=C.call(O)){return false}switch(S){case"[object String]":return P==String(O);case"[object Number]":return P!=+P?O!=+O:(P==0?1/P==1/O:P==+O);case"[object Date]":case"[object Boolean]":return +P==+O;case"[object RegExp]":return P.source==O.source&&P.global==O.global&&P.multiline==O.multiline&&P.ignoreCase==O.ignoreCase}if(typeof P!="object"||typeof O!="object"){return false}var T=N.length;while(T--){if(N[T]==P){return true}}N.push(P);var R=0,M=true;if(S=="[object Array]"){R=P.length;M=R==O.length;if(M){while(R--){if(!(M=R in P==R in O&&I(P[R],O[R],N))){break}}}}else{if("constructor" in P!="constructor" in O||P.constructor!=O.constructor){return false}for(var Q in P){if(J.has(P,Q)){R++;if(!(M=J.has(O,Q)&&I(P[Q],O[Q],N))){break}}}if(M){for(Q in O){if(J.has(O,Q)&&!(R--)){break}}M=!R}}N.pop();return M}J.isEqual=function(N,M){return I(N,M,[])};J.isEmpty=function(N){if(J.isArray(N)||J.isString(N)){return N.length===0}for(var M in N){if(J.has(N,M)){return false}}return true};J.isElement=function(M){return !!(M&&M.nodeType==1)};J.isArray=c||function(M){return C.call(M)=="[object Array]"};J.isObject=function(M){return M===Object(M)};J.isArguments=function(M){return C.call(M)=="[object Arguments]"};if(!J.isArguments(arguments)){J.isArguments=function(M){return !!(M&&J.has(M,"callee"))}}J.isFunction=function(M){return C.call(M)=="[object Function]"};J.isString=function(M){return C.call(M)=="[object String]"};J.isNumber=function(M){return C.call(M)=="[object Number]"};J.isNaN=function(M){return M!==M};J.isBoolean=function(M){return M===true||M===false||C.call(M)=="[object Boolean]"};J.isDate=function(M){return C.call(M)=="[object Date]"};J.isRegExp=function(M){return C.call(M)=="[object RegExp]"};J.isNull=function(M){return M===null};J.isUndefined=function(M){return M===void 0};J.has=function(N,M){return s.call(N,M)};J.noConflict=function(){B._=x;return this};J.identity=function(M){return M};J.times=function(P,O,N){for(var M=0;M<P;M++){O.call(N,M)}};J.escape=function(M){return(""+M).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};J.mixin=function(M){d(J.functions(M),function(N){v(N,J[N]=M[N])})};var n=0;J.uniqueId=function(M){var N=n++;return M?M+N:N};J.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/.^/;var t=function(M){return M.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};J.template=function(P,O){var Q=J.templateSettings;var M="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+P.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(Q.escape||y,function(R,S){return"',_.escape("+t(S)+"),'"}).replace(Q.interpolate||y,function(R,S){return"',"+t(S)+",'"}).replace(Q.evaluate||y,function(R,S){return"');"+t(S).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var N=new Function("obj","_",M);if(O){return N(O,J)}return function(R){return N.call(this,R,J)}};J.chain=function(M){return J(M).chain()};var g=function(M){this._wrapped=M};J.prototype=g.prototype;var q=function(N,M){return M?J(N).chain():N};var v=function(M,N){g.prototype[M]=function(){var O=z.call(arguments);D.call(O,this._wrapped);return q(N.apply(J,O),this._chain)}};J.mixin(J);d(["pop","push","reverse","shift","sort","splice","unshift"],function(M){var N=k[M];g.prototype[M]=function(){var O=this._wrapped;N.apply(O,arguments);var P=O.length;if((M=="shift"||M=="splice")&&P===0){delete O[0]}return q(O,this._chain)}});d(["concat","join","slice"],function(M){var N=k[M];g.prototype[M]=function(){return q(N.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped}}).call(this);Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var b=Date,a=b.prototype,d=b.CultureInfo,g=function(j,h){if(!h){h=2}return("000"+j).slice(h*-1)};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};a.setTimeToNow=function(){var h=new Date();this.setHours(h.getHours());this.setMinutes(h.getMinutes());this.setSeconds(h.getSeconds());this.setMilliseconds(h.getMilliseconds());return this};b.today=function(){return new Date().clearTime()};b.compare=function(j,h){if(isNaN(j)||isNaN(h)){throw new Error(j+" - "+h)}else{if(j instanceof Date&&h instanceof Date){return(j<h)?-1:(j>h)?1:0}else{throw new TypeError(j+" - "+h)}}};b.equals=function(j,h){return(j.compareTo(h)===0)};b.getDayNumberFromName=function(j){var t=d.dayNames,h=d.abbreviatedDayNames,q=d.shortestDayNames,p=j.toLowerCase();for(var k=0;k<t.length;k++){if(t[k].toLowerCase()==p||h[k].toLowerCase()==p||q[k].toLowerCase()==p){return k}}return -1};b.getMonthNumberFromName=function(j){var p=d.monthNames,h=d.abbreviatedMonthNames,o=j.toLowerCase();for(var k=0;k<p.length;k++){if(p[k].toLowerCase()==o||h[k].toLowerCase()==o){return k}}return -1};b.isLeapYear=function(h){return((h%4===0&&h%100!==0)||h%400===0)};b.getDaysInMonth=function(h,j){return[31,(b.isLeapYear(h)?29:28),31,30,31,30,31,31,30,31,30,31][j]};b.getTimezoneAbbreviation=function(m){var k=d.timezones,j;for(var h=0;h<k.length;h++){if(k[h].offset===m){return k[h].name}}return null};b.getTimezoneOffset=function(h){var m=d.timezones,k;for(var j=0;j<m.length;j++){if(m[j].name===h.toUpperCase()){return m[j].offset}}return null};a.clone=function(){return new Date(this.getTime())};a.compareTo=function(h){return Date.compare(this,h)};a.equals=function(h){return Date.equals(this,h||new Date())};a.between=function(j,h){return this.getTime()>=j.getTime()&&this.getTime()<=h.getTime()};a.isAfter=function(h){return this.compareTo(h||new Date())===1};a.isBefore=function(h){return(this.compareTo(h||new Date())===-1)};a.isToday=function(){return this.isSameDay(new Date())};a.isSameDay=function(h){return this.clone().clearTime().equals(h.clone().clearTime())};a.addMilliseconds=function(h){this.setMilliseconds(this.getMilliseconds()+h);return this};a.addSeconds=function(h){return this.addMilliseconds(h*1000)};a.addMinutes=function(h){return this.addMilliseconds(h*60000)};a.addHours=function(h){return this.addMilliseconds(h*3600000)};a.addDays=function(h){this.setDate(this.getDate()+h);return this};a.addWeeks=function(h){return this.addDays(h*7)};a.addMonths=function(h){var j=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+h);this.setDate(Math.min(j,b.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};a.addYears=function(h){return this.addMonths(h*12)};a.add=function(j){if(typeof j=="number"){this._orient=j;return this}var h=j;if(h.milliseconds){this.addMilliseconds(h.milliseconds)}if(h.seconds){this.addSeconds(h.seconds)}if(h.minutes){this.addMinutes(h.minutes)}if(h.hours){this.addHours(h.hours)}if(h.weeks){this.addWeeks(h.weeks)}if(h.months){this.addMonths(h.months)}if(h.years){this.addYears(h.years)}if(h.days){this.addDays(h.days)}return this};var e,f,c;a.getWeek=function(){var t,q,p,o,m,k,j,h,v,u;e=(!e)?this.getFullYear():e;f=(!f)?this.getMonth()+1:f;c=(!c)?this.getDate():c;if(f<=2){t=e-1;q=(t/4|0)-(t/100|0)+(t/400|0);p=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0);v=q-p;m=0;k=c-1+(31*(f-1))}else{t=e;q=(t/4|0)-(t/100|0)+(t/400|0);p=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0);v=q-p;m=v+1;k=c+((153*(f-3)+2)/5)+58+v}j=(t+q)%7;o=(k+j-m)%7;h=(k+3-o)|0;if(h<0){u=53-((j-v)/5|0)}else{if(h>364+v){u=1}else{u=(h/7|0)+1}}e=f=c=null;return u};a.getISOWeek=function(){e=this.getUTCFullYear();f=this.getUTCMonth()+1;c=this.getUTCDate();return g(this.getWeek())};a.setWeek=function(h){return this.moveToDayOfWeek(1).addWeeks(h-this.getWeek())};b._validate=function(m,k,h,j){if(typeof m=="undefined"){return false}else{if(typeof m!="number"){throw new TypeError(m+" is not a Number.")}else{if(m<k||m>h){throw new RangeError(m+" is not a valid value for "+j+".")}}}return true};b.validateMillisecond=function(h){return b._validate(h,0,999,"millisecond")};b.validateSecond=function(h){return b._validate(h,0,59,"second")};b.validateMinute=function(h){return b._validate(h,0,59,"minute")};b.validateHour=function(h){return b._validate(h,0,23,"hour")};b.validateDay=function(j,h,k){return b._validate(j,1,b.getDaysInMonth(h,k),"day")};b.validateMonth=function(h){return b._validate(h,0,11,"month")};b.validateYear=function(h){return b._validate(h,0,9999,"year")};a.set=function(h){if(b.validateMillisecond(h.millisecond)){this.addMilliseconds(h.millisecond-this.getMilliseconds())}if(b.validateSecond(h.second)){this.addSeconds(h.second-this.getSeconds())}if(b.validateMinute(h.minute)){this.addMinutes(h.minute-this.getMinutes())}if(b.validateHour(h.hour)){this.addHours(h.hour-this.getHours())}if(b.validateMonth(h.month)){this.addMonths(h.month-this.getMonth())}if(b.validateYear(h.year)){this.addYears(h.year-this.getFullYear())}if(b.validateDay(h.day,this.getFullYear(),this.getMonth())){this.addDays(h.day-this.getDate())}if(h.timezone){this.setTimezone(h.timezone)}if(h.timezoneOffset){this.setTimezoneOffset(h.timezoneOffset)}if(h.week&&b._validate(h.week,0,53,"week")){this.setWeek(h.week)}return this};a.moveToFirstDayOfMonth=function(){return this.set({day:1})};a.moveToLastDayOfMonth=function(){return this.set({day:b.getDaysInMonth(this.getFullYear(),this.getMonth())})};a.moveToNthOccurrence=function(j,k){var h=0;if(k>0){h=k-1}else{if(k===-1){this.moveToLastDayOfMonth();if(this.getDay()!==j){this.moveToDayOfWeek(j,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(j,+1).addWeeks(h)};a.moveToDayOfWeek=function(h,j){var k=(h-this.getDay()+7*(j||+1))%7;return this.addDays((k===0)?k+=7*(j||+1):k)};a.moveToMonth=function(k,h){var j=(k-this.getMonth()+12*(h||+1))%12;return this.addMonths((j===0)?j+=12*(h||+1):j)};a.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};a.getTimezone=function(){return b.getTimezoneAbbreviation(this.getUTCOffset())};a.setTimezoneOffset=function(k){var h=this.getTimezoneOffset(),j=Number(k)*-6/10;return this.addMinutes(j-h)};a.setTimezone=function(h){return this.setTimezoneOffset(b.getTimezoneOffset(h))};a.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};a.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset())};a.getUTCOffset=function(){var j=this.getTimezoneOffset()*-10/6,h;if(j<0){h=(j-10000).toString();return h.charAt(0)+h.substr(2)}else{h=(j+10000).toString();return"+"+h.substr(1)}};a.getElapsed=function(h){return(h||new Date())-this};if(!a.toISOString){a.toISOString=function(){function h(j){return j<10?"0"+j:j}return'"'+this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+'Z"'}}a._toString=a.toString;a.toString=function(k){var h=this;if(k&&k.length==1){var m=d.formatPatterns;h.t=h.toString;switch(k){case"d":return h.t(m.shortDate);case"D":return h.t(m.longDate);case"F":return h.t(m.fullDateTime);case"m":return h.t(m.monthDay);case"r":return h.t(m.rfc1123);case"s":return h.t(m.sortableDateTime);case"t":return h.t(m.shortTime);case"T":return h.t(m.longTime);case"u":return h.t(m.universalSortableDateTime);case"y":return h.t(m.yearMonth)}}var j=function(o){switch(o*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return k?k.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(n){if(n.charAt(0)==="\\"){return n.replace("\\","")}h.h=h.getHours;switch(n){case"hh":return g(h.h()<13?(h.h()===0?12:h.h()):(h.h()-12));case"h":return h.h()<13?(h.h()===0?12:h.h()):(h.h()-12);case"HH":return g(h.h());case"H":return h.h();case"mm":return g(h.getMinutes());case"m":return h.getMinutes();case"ss":return g(h.getSeconds());case"s":return h.getSeconds();case"yyyy":return g(h.getFullYear(),4);case"yy":return g(h.getFullYear());case"dddd":return d.dayNames[h.getDay()];case"ddd":return d.abbreviatedDayNames[h.getDay()];case"dd":return g(h.getDate());case"d":return h.getDate();case"MMMM":return d.monthNames[h.getMonth()];case"MMM":return d.abbreviatedMonthNames[h.getMonth()];case"MM":return g((h.getMonth()+1));case"M":return h.getMonth()+1;case"t":return h.h()<12?d.amDesignator.substring(0,1):d.pmDesignator.substring(0,1);case"tt":return h.h()<12?d.amDesignator:d.pmDesignator;case"S":return j(h.getDate());default:return n}}):this._toString()}}());(function(){var v=Date,g=v.prototype,x=v.CultureInfo,o=Number.prototype;g._orient=+1;g._nth=null;g._is=false;g._same=false;g._isSecond=false;o._dateElement="day";g.next=function(){this._orient=+1;return this};v.next=function(){return v.today().next()};g.last=g.prev=g.previous=function(){this._orient=-1;return this};v.last=v.prev=v.previous=function(){return v.today().last()};g.is=function(){this._is=true;return this};g.same=function(){this._same=true;this._isSecond=false;return this};g.today=function(){return this.same().day()};g.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};g.at=function(j){return(typeof j==="string")?v.parse(this.toString("d")+" "+j):this.set(j)};o.fromNow=o.after=function(j){var k={};k[this._dateElement]=this;return((!j)?new Date():j.clone()).add(k)};o.ago=o.before=function(j){var k={};k[this._dateElement]=this*-1;return((!j)?new Date():j.clone()).add(k)};var e=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),h=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),p=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),b=("final first second third fourth fifth").split(/\s/),z;g.toObject=function(){var k={};for(var j=0;j<n.length;j++){k[n[j].toLowerCase()]=this["get"+p[j]]()}return k};v.fromObject=function(j){j.week=null;return Date.today().set(j)};var y=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var B=this._nth;this._nth=null;var k=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(j,B);if(this>k){throw new RangeError(v.getDayName(j)+" does not occur "+B+" times in the month of "+v.getMonthName(k.getMonth())+" "+k.getFullYear()+".")}return this}return this.moveToDayOfWeek(j,this._orient)}};var f=function(j){return function(){var B=v.today(),k=j-B.getDay();if(j===0&&x.firstDayOfWeek===1&&B.getDay()!==0){k=k+7}return B.addDays(k)}};for(var u=0;u<e.length;u++){v[e[u].toUpperCase()]=v[e[u].toUpperCase().substring(0,3)]=u;v[e[u]]=v[e[u].substring(0,3)]=f(u);g[e[u]]=g[e[u].substring(0,3)]=y(u)}var A=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};var m=function(j){return function(){return v.today().set({month:j,day:1})}};for(var t=0;t<h.length;t++){v[h[t].toUpperCase()]=v[h[t].toUpperCase().substring(0,3)]=t;v[h[t]]=v[h[t].substring(0,3)]=m(t);g[h[t]]=g[h[t].substring(0,3)]=A(t)}var c=function(k){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var E=this.toObject(),D=(arguments[0]||new Date()).toObject(),C="",B=k.toLowerCase();for(var j=(n.length-1);j>-1;j--){C=n[j].toLowerCase();if(E[C]!=D[C]){return false}if(B==C){break}}return true}if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var d=function(j){return function(){this._dateElement=j;return this}};for(var s=0;s<n.length;s++){z=n[s].toLowerCase();g[z]=g[z+"s"]=c(n[s]);o[z]=o[z+"s"]=d(z)}g._ss=c("Second");var a=function(j){return function(k){if(this._same){return this._ss(arguments[0])}if(k||k===0){return this.moveToNthOccurrence(k,j)}this._nth=j;if(j===2&&(k===undefined||k===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var q=0;q<b.length;q++){g[b[q]]=(q===0)?a(-1):a(q)}}());(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(k){var m=k.match(j);if(m){return([m[0],k.substring(m[0].length)])}else{throw new a.Exception(k)}}},token:function(j){return function(k){return c.rtoken(new RegExp("^s*"+k+"s*"))(k)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(k){var m=[],o=null;while(k.length){try{o=j.call(this,k)}catch(n){m.push(o[0]);k=o[1];continue}break}return[m,k]}},many:function(j){return function(k){var o=[],m=null;while(k.length){try{m=j.call(this,k)}catch(n){return[o,k]}o.push(m[0]);k=m[1]}return[o,k]}},optional:function(j){return function(k){var m=null;try{m=j.call(this,k)}catch(n){return[null,k]}return[m[0],m[1]]}},not:function(j){return function(k){try{j.call(this,k)}catch(m){return[null,k]}throw new a.Exception(k)}},ignore:function(j){return j?function(k){var m=null;m=j.call(this,k);return[null,m[1]]}:null},product:function(){var k=arguments[0],m=Array.prototype.slice.call(arguments,1),n=[];for(var j=0;j<k.length;j++){n.push(c.each(k[j],m))}return n},cache:function(m){var j={},k=null;return function(n){try{k=j[n]=(j[n]||m.call(this,n))}catch(o){k=j[n]=o}if(k instanceof a.Exception){throw k}else{return k}}},any:function(){var j=arguments;return function(m){var n=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{n=(j[k].call(this,m))}catch(o){n=null}if(n){return n}}throw new a.Exception(m)}},each:function(){var j=arguments;return function(m){var p=[],n=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{n=(j[k].call(this,m))}catch(o){throw new a.Exception(m)}p.push(n[0]);m=n[1]}return[p,m]}},all:function(){var k=arguments,j=j;return j.each(j.optional(k))},sequence:function(j,k,m){k=k||c.rtoken(/^\s*/);m=m||null;if(j.length==1){return j[0]}return function(t){var u=null,v=null;var y=[];for(var p=0;p<j.length;p++){try{u=j[p].call(this,t)}catch(x){break}y.push(u[0]);try{v=k.call(this,u[1])}catch(o){v=null;break}t=v[1]}if(!u){throw new a.Exception(t)}if(v){throw new a.Exception(v[1])}if(m){try{u=m.call(this,u[1])}catch(n){throw new a.Exception(u[1])}}return[y,(u?u[1]:t)]}},between:function(k,m,j){j=j||k;var n=c.each(c.ignore(k),m,c.ignore(j));return function(o){var p=n.call(this,o);return[[p[0][0],r[0][2]],p[1]]}},list:function(j,k,m){k=k||c.rtoken(/^\s*/);m=m||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(k)),j.slice(-1),c.ignore(m)):c.each(c.many(c.each(j,c.ignore(k))),px,c.ignore(m)))},set:function(j,k,m){k=k||c.rtoken(/^\s*/);m=m||null;return function(E){var n=null,t=null,o=null,u=null,v=[[],E],D=false;for(var y=0;y<j.length;y++){o=null;t=null;n=null;D=(j.length==1);try{n=j[y].call(this,E)}catch(B){continue}u=[[n[0]],n[1]];if(n[1].length>0&&!D){try{o=k.call(this,n[1])}catch(C){D=true}}else{D=true}if(!D&&o[1].length===0){D=true}if(!D){var z=[];for(var x=0;x<j.length;x++){if(y!=x){z.push(j[x])}}t=c.set(z,k).call(this,o[1]);if(t[0].length>0){u[0]=u[0].concat(t[0]);u[1]=t[1]}}if(u[1].length<v[1].length){v=u}if(v[1].length===0){break}}if(v[0].length===0){return v}if(m){try{o=m.call(this,v[1])}catch(A){throw new a.Exception(v[1])}v[1]=o[1]}return v}},forward:function(j,k){return function(m){return j[k].call(this,m)}},replace:function(k,j){return function(m){var n=k.call(this,m);return[j,n[1]]}},process:function(k,j){return function(m){var n=k.call(this,m);return[j.call(this,n[0]),n[1]]}},min:function(j,k){return function(m){var n=k.call(this,m);if(n[0].length<j){throw new a.Exception(m)}return n}}};var h=function(j){return function(){var k=null,o=[];if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){for(var n=0,m=k.shift();n<m.length;n++){k.unshift(m[n]);o.push(j.apply(null,k));k.shift();return o}}else{return j.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var e=Date,n=e.prototype,f=e.CultureInfo;var h=function(o){var p=[];for(var g=0;g<o.length;g++){if(o[g] instanceof Array){p=p.concat(h(o[g]))}else{if(o[g]){p.push(o[g])}}}return p};e.Grammar={};e.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var o=g.replace(/[^\d\+\-]/g,"");if(o.length){this.timezoneOffset=Number(o)}else{this.timezone=g.toLowerCase()}}},day:function(g){var o=g[0];return function(){this.day=Number(o.match(/\d+/)[0])}},month:function(g){return function(){this.month=(g.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1}},year:function(g){return function(){var o=Number(g);this.year=((g.length>2)?o:(o+(((o+2000)<f.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var p=0;p<g.length;p++){if(g[p]){g[p].call(this)}}var o=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=o.getDate()}if(!this.year){this.year=o.getFullYear()}if(!this.month&&this.month!==0){this.month=o.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.day>e.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){q.set({timezone:this.timezone})}else{if(this.timezoneOffset){q.set({timezoneOffset:this.timezoneOffset})}}return q},finish:function(g){g=(g instanceof Array)?h(g):[g];if(g.length===0){return null}for(var t=0;t<g.length;t++){if(typeof g[t]=="function"){g[t].call(this)}}var p=e.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){p=new Date()}}var u=!!(this.days&&this.days!==null||this.orient||this.operator);var v,s,q;q=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){p.setTimeToNow()}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;u=true}}if(!u&&this.weekday&&!this.day&&!this.days){var o=Date[this.weekday]();this.day=o.getDate();if(!this.month){this.month=o.getMonth()}this.year=o.getFullYear()}if(u&&this.weekday&&this.unit!="month"){this.unit="day";v=(e.getDayNumberFromName(this.weekday)-p.getDay());s=7;this.days=v?((v+(q*s))%s):(q*s)}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){p.set({day:this.value*1});if(!u){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;u=true}if(u&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";v=(this.month-p.getMonth());s=12;this.months=v?((v+(q*s))%s):(q*s);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*q}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*q}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.weekday&&!this.day&&!this.days){var o=Date[this.weekday]();this.day=o.getDate();if(o.getMonth()!==p.getMonth()){this.month=o.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(u&&this.timezone&&this.day&&this.days){this.day=this.days}return(u)?p.add(this):p.set(this)}};var j=e.Parsing.Operators,d=e.Grammar,m=e.Translator,b;d.datePartDelimiter=j.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=j.stoken(":");d.whiteSpace=j.rtoken(/^\s*/);d.generalDelimiter=j.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};d.ctoken=function(s){var q=a[s];if(!q){var t=f.regexPatterns;var p=s.split(/\s+/),o=[];for(var g=0;g<p.length;g++){o.push(j.replace(j.rtoken(t[p[g]]),p[g]))}q=a[s]=j.any.apply(null,o)}return q};d.ctoken2=function(g){return j.rtoken(f.regexPatterns[g])};d.h=j.cache(j.process(j.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),m.hour));d.hh=j.cache(j.process(j.rtoken(/^(0[0-9]|1[0-2])/),m.hour));d.H=j.cache(j.process(j.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),m.hour));d.HH=j.cache(j.process(j.rtoken(/^([0-1][0-9]|2[0-3])/),m.hour));d.m=j.cache(j.process(j.rtoken(/^([0-5][0-9]|[0-9])/),m.minute));d.mm=j.cache(j.process(j.rtoken(/^[0-5][0-9]/),m.minute));d.s=j.cache(j.process(j.rtoken(/^([0-5][0-9]|[0-9])/),m.second));d.ss=j.cache(j.process(j.rtoken(/^[0-5][0-9]/),m.second));d.hms=j.cache(j.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=j.cache(j.process(d.ctoken2("shortMeridian"),m.meridian));d.tt=j.cache(j.process(d.ctoken2("longMeridian"),m.meridian));d.z=j.cache(j.process(j.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));d.zz=j.cache(j.process(j.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));d.zzz=j.cache(j.process(d.ctoken2("timezone"),m.timezone));d.timeSuffix=j.each(j.ignore(d.whiteSpace),j.set([d.tt,d.zzz]));d.time=j.each(j.optional(j.ignore(j.stoken("T"))),d.hms,d.timeSuffix);d.d=j.cache(j.process(j.each(j.rtoken(/^([0-2]\d|3[0-1]|\d)/),j.optional(d.ctoken2("ordinalSuffix"))),m.day));d.dd=j.cache(j.process(j.each(j.rtoken(/^([0-2]\d|3[0-1])/),j.optional(d.ctoken2("ordinalSuffix"))),m.day));d.ddd=d.dddd=j.cache(j.process(d.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));d.M=j.cache(j.process(j.rtoken(/^(1[0-2]|0\d|\d)/),m.month));d.MM=j.cache(j.process(j.rtoken(/^(1[0-2]|0\d)/),m.month));d.MMM=d.MMMM=j.cache(j.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),m.month));d.y=j.cache(j.process(j.rtoken(/^(\d\d?)/),m.year));d.yy=j.cache(j.process(j.rtoken(/^(\d\d)/),m.year));d.yyy=j.cache(j.process(j.rtoken(/^(\d\d?\d?\d?)/),m.year));d.yyyy=j.cache(j.process(j.rtoken(/^(\d\d\d\d)/),m.year));b=function(){return j.each(j.any.apply(null,arguments),j.not(d.ctoken2("timeContext")))};d.day=b(d.d,d.dd);d.month=b(d.M,d.MMM);d.year=b(d.yyyy,d.yy);d.orientation=j.process(d.ctoken("past future"),function(g){return function(){this.orient=g}});d.operator=j.process(d.ctoken("add subtract"),function(g){return function(){this.operator=g}});d.rday=j.process(d.ctoken("yesterday tomorrow today now"),m.rday);d.unit=j.process(d.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g}});d.value=j.process(j.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});d.expression=j.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]);b=function(){return j.set(arguments,d.datePartDelimiter)};d.mdy=b(d.ddd,d.month,d.day,d.year);d.ymd=b(d.ddd,d.year,d.month,d.day);d.dmy=b(d.ddd,d.day,d.month,d.year);d.date=function(g){return((d[f.dateElementOrder]||d.mdy).call(this,g))};d.format=j.process(j.many(j.any(j.process(j.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(d[g]){return d[g]}else{throw e.Parsing.Exception(g)}}),j.process(j.rtoken(/^[^dMyhHmstz]+/),function(g){return j.ignore(j.stoken(g))}))),function(g){return j.process(j.each.apply(null,g),m.finishExact)});var k={};var c=function(g){return k[g]=(k[g]||d.format(g)[0])};d.formats=function(o){if(o instanceof Array){var p=[];for(var g=0;g<o.length;g++){p.push(c(o[g]))}return j.any.apply(null,p)}else{return c(o)}};d._formats=d.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);d._start=j.process(j.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),m.finish);d.start=function(g){try{var o=d._formats.call({},g);if(o[1].length===0){return o}}catch(p){}return d._start.call({},g)};e._parse=e.parse;e.parse=function(g){var o=null;if(!g){return null}if(g instanceof Date){return g}try{o=e.Grammar.start.call({},g.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(p){return null}return((o[1].length===0)?o[0]:null)};e.getParseFunction=function(o){var g=e.Grammar.formats(o);return function(p){var q=null;try{q=g.call({},p)}catch(t){return null}return((q[1].length===0)?q[0]:null)}};e.parseExact=function(g,o){return e.getParseFunction(o)(g)}}());
/*!
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(f,e){function g(a){return !f(a).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function h(a,n){var m=a.nodeName.toLowerCase();if("area"===m){var k=a.parentNode,j=k.name,d;if(!a.href||!j||k.nodeName.toLowerCase()!=="map"){return !1}d=f("img[usemap=#"+j+"]")[0];return !!d&&g(d)}return(/input|select|textarea|button|object/.test(m)?!a.disabled:"a"==m?a.href||n:n)&&g(a)}f.ui=f.ui||{};f.ui.version||(f.extend(f.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;setTimeout(function(){f(b).focus(),d&&d.call(b)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?f(document):a},zIndex:function(k){if(k!==e){return this.css("zIndex",k)}if(this.length){var j=f(this[0]),b,a;while(j.length&&j[0]!==document){b=j.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(j.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}j=j.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.each(["Width","Height"],function(n,m){function a(o,s,q,p){f.each(k,function(){s-=parseFloat(f.curCSS(o,"padding"+this,!0))||0,q&&(s-=parseFloat(f.curCSS(o,"border"+this+"Width",!0))||0),p&&(s-=parseFloat(f.curCSS(o,"margin"+this,!0))||0)});return s}var k=m==="Width"?["Left","Right"]:["Top","Bottom"],j=m.toLowerCase(),b={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+m]=function(d){if(d===e){return b["inner"+m].call(this)}return this.each(function(){f(this).css(j,a(this,d)+"px")})},f.fn["outer"+m]=function(d,o){if(typeof d!="number"){return b["outer"+m].call(this,d)}return this.each(function(){f(this).css(j,a(this,d,!0,o)+"px")})}}),f.extend(f.expr[":"],{data:function(a,k,j){return !!f.data(a,j[3])},focusable:function(a){return h(a,!isNaN(f.attr(a,"tabindex")))},tabbable:function(a){var j=f.attr(a,"tabindex"),c=isNaN(j);return(c||j>=0)&&h(a,!c)}}),f(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));f.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),f.support.minHeight=d.offsetHeight===100,f.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"}),f.extend(f.ui,{plugin:{add:function(a,n,m){var k=f.ui[a].prototype;for(var j in m){k.plugins[j]=k.plugins[j]||[],k.plugins[j].push([n,m[j]])}},call:function(k,j,o){var n=k.plugins[j];if(!!n&&!!k.element[0].parentNode){for(var m=0;m<n.length;m++){k.options[n[m][0]]&&n[m][1].apply(k.element,o)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(a,m){if(f(a).css("overflow")==="hidden"){return !1}var k=m&&m==="left"?"scrollLeft":"scrollTop",j=!1;if(a[k]>0){return !0}a[k]=1,j=a[k]>0,a[k]=0;return j},isOverAxis:function(j,d,k){return j>d&&j<d+k},isOver:function(a,o,n,m,k,j){return f.ui.isOverAxis(a,n,k)&&f.ui.isOverAxis(o,m,j)}}))})(jQuery);
/*!
 * jQuery UI Widget 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(f,e){if(f.cleanData){var h=f.cleanData;f.cleanData=function(a){for(var k=0,j;(j=a[k])!=null;k++){try{f(j).triggerHandler("remove")}catch(c){}}h(a)}}else{var g=f.fn.remove;f.fn.remove=function(a,d){return this.each(function(){d||(!a||f.filter(a,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(c){}});return g.call(f(this),a,d)})}}f.widget=function(a,o,n){var m=a.split(".")[0],k;a=a.split(".")[1],k=m+"-"+a,n||(n=o,o=f.Widget),f.expr[":"][k]=function(b){return !!f.data(b,a)},f[m]=f[m]||{},f[m][a]=function(d,c){arguments.length&&this._createWidget(d,c)};var j=new o;j.options=f.extend(!0,{},j.options),f[m][a].prototype=f.extend(!0,j,{namespace:m,widgetName:a,widgetEventPrefix:f[m][a].prototype.widgetEventPrefix||a,widgetBaseClass:k},n),f.widget.bridge(a,f[m][a])},f.widget.bridge=function(b,a){f.fn[b]=function(k){var j=typeof k=="string",d=Array.prototype.slice.call(arguments,1),c=this;k=!j&&d.length?f.extend.apply(null,[!0,k].concat(d)):k;if(j&&k.charAt(0)==="_"){return c}j?this.each(function(){var n=f.data(this,b),m=n&&f.isFunction(n[k])?n[k].apply(n,d):n;if(m!==n&&m!==e){c=m;return !1}}):this.each(function(){var m=f.data(this,b);m?m.option(k||{})._init():f.data(this,b,new a(k,this))});return c}},f.Widget=function(d,c){arguments.length&&this._createWidget(d,c)},f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,k){f.data(k,this.widgetName,this),this.element=f(k),this.options=f.extend(!0,{},this.options,this._getCreateOptions(),a);var j=this;this.element.bind("remove."+this.widgetName,function(){j.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(j,b){var a=j;if(arguments.length===0){return f.extend({},this.options)}if(typeof j=="string"){if(b===e){return this.options[j]}a={},a[j]=b}this._setOptions(a);return this},_setOptions:function(a){var d=this;f.each(a,function(j,c){d._setOption(j,c)});return this},_setOption:function(d,c){this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,o,n){var m,k,j=this.options[a];n=n||{},o=f.Event(o),o.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),o.target=this.element[0],k=o.originalEvent;if(k){for(m in k){m in o||(o[m]=k[m])}}this.element.trigger(o,n);return !(f.isFunction(j)&&j.call(this.element[0],o,n)===!1||o.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(e,d){var f=!1;e(document).mouseup(function(b){f=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===e.data(b.target,a.widgetName+".preventClickEvent")){e.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var h=this,g=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;if(!g||c||!this._mouseCapture(a)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;if(!this._mouseStarted){a.preventDefault();return !0}}!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return h._mouseMove(b)},this._mouseUpDelegate=function(b){return h._mouseUp(b)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),f=!0;return !0}},_mouseMove:function(a){if(e.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return !this._mouseStarted},_mouseUp:function(a){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return !1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0}})})(jQuery);(function(k,j){k.ui=k.ui||{};var s=/left|center|right/,q=/top|center|bottom/,p="center",o={},n=k.fn.position,m=k.fn.offset;k.fn.position=function(c){if(!c||!c.of){return n.apply(this,arguments)}c=k.extend({},c);var t=k(c.of),g=t[0],f=(c.collision||"flip").split(" "),e=c.offset?c.offset.split(" "):[0,0],d,a,u;g.nodeType===9?(d=t.width(),a=t.height(),u={top:0,left:0}):g.setTimeout?(d=t.width(),a=t.height(),u={top:t.scrollTop(),left:t.scrollLeft()}):g.preventDefault?(c.at="left top",d=a=0,u={top:c.of.pageY,left:c.of.pageX}):(d=t.outerWidth(),a=t.outerHeight(),u=t.offset()),k.each(["my","at"],function(){var b=(c[this]||"").split(" ");b.length===1&&(b=s.test(b[0])?b.concat([p]):q.test(b[0])?[p].concat(b):[p,p]),b[0]=s.test(b[0])?b[0]:p,b[1]=q.test(b[1])?b[1]:p,c[this]=b}),f.length===1&&(f[1]=f[0]),e[0]=parseInt(e[0],10)||0,e.length===1&&(e[1]=e[0]),e[1]=parseInt(e[1],10)||0,c.at[0]==="right"?u.left+=d:c.at[0]===p&&(u.left+=d/2),c.at[1]==="bottom"?u.top+=a:c.at[1]===p&&(u.top+=a/2),u.left+=e[0],u.top+=e[1];return this.each(function(){var D=k(this),C=D.outerWidth(),B=D.outerHeight(),A=parseInt(k.curCSS(this,"marginLeft",!0))||0,z=parseInt(k.curCSS(this,"marginTop",!0))||0,y=C+A+(parseInt(k.curCSS(this,"marginRight",!0))||0),x=B+z+(parseInt(k.curCSS(this,"marginBottom",!0))||0),v=k.extend({},u),b;c.my[0]==="right"?v.left-=C:c.my[0]===p&&(v.left-=C/2),c.my[1]==="bottom"?v.top-=B:c.my[1]===p&&(v.top-=B/2),o.fractions||(v.left=Math.round(v.left),v.top=Math.round(v.top)),b={left:v.left-A,top:v.top-z},k.each(["left","top"],function(E,h){k.ui.position[f[E]]&&k.ui.position[f[E]][h](v,{targetWidth:d,targetHeight:a,elemWidth:C,elemHeight:B,collisionPosition:b,collisionWidth:y,collisionHeight:x,offset:e,my:c.my,at:c.at})}),k.fn.bgiframe&&D.bgiframe(),D.offset(k.extend(v,{using:c.using}))})},k.ui.position={fit:{left:function(a,h){var g=k(window),f=h.collisionPosition.left+h.collisionWidth-g.width()-g.scrollLeft();a.left=f>0?a.left-f:Math.max(a.left-h.collisionPosition.left,a.left)},top:function(a,h){var g=k(window),f=h.collisionPosition.top+h.collisionHeight-g.height()-g.scrollTop();a.top=f>0?a.top-f:Math.max(a.top-h.collisionPosition.top,a.top)}},flip:{left:function(a,y){if(y.at[0]!==p){var x=k(window),v=y.collisionPosition.left+y.collisionWidth-x.width()-x.scrollLeft(),u=y.my[0]==="left"?-y.elemWidth:y.my[0]==="right"?y.elemWidth:0,t=y.at[0]==="left"?y.targetWidth:-y.targetWidth,e=-2*y.offset[0];a.left+=y.collisionPosition.left<0?u+t+e:v>0?u+t+e:0}},top:function(a,y){if(y.at[1]!==p){var x=k(window),v=y.collisionPosition.top+y.collisionHeight-x.height()-x.scrollTop(),u=y.my[1]==="top"?-y.elemHeight:y.my[1]==="bottom"?y.elemHeight:0,t=y.at[1]==="top"?y.targetHeight:-y.targetHeight,e=-2*y.offset[1];a.top+=y.collisionPosition.top<0?u+t+e:v>0?u+t+e:0}}}},k.offset.setOffset||(k.offset.setOffset=function(a,z){/static/.test(k.curCSS(a,"position"))&&(a.style.position="relative");var y=k(a),x=y.offset(),v=parseInt(k.curCSS(a,"top",!0),10)||0,u=parseInt(k.curCSS(a,"left",!0),10)||0,t={top:z.top-x.top+v,left:z.left-x.left+u};"using" in z?z.using.call(a,t):y.css(t)},k.fn.offset=function(a){var d=this[0];if(!d||!d.ownerDocument){return null}if(a){return this.each(function(){k.offset.setOffset(this,a)})}return m.call(this)}),function(){var a=document.getElementsByTagName("body")[0],z=document.createElement("div"),y,x,v,u,t;y=document.createElement(a?"div":"body"),v={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&jQuery.extend(v,{position:"absolute",left:"-1000px",top:"-1000px"});for(var f in v){y.style[f]=v[f]}y.appendChild(z),x=a||document.documentElement,x.insertBefore(y,x.firstChild),z.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",u=k(z).offset(function(d,c){return c}).offset(),y.innerHTML="",x.removeChild(y),t=u.top+u.left+(a?2000:0),o.fractions=t>21&&t<22}()})(jQuery);(function(e,d){var f=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,o=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),m="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=o.values&&o.values.length||1,j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&o.values.length!==2&&(o.values=[o.values[0],o.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(o.range==="min"||o.range==="max"?" ui-slider-range-"+o.range:"")));for(var c=n.length;c<k;c+=1){j.push(m)}this.handles=n.add(e(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){o.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(g){e(this).data("index.ui-slider-handle",g)}),this.handles.keydown(function(v){var u=!0,t=e(this).data("index.ui-slider-handle"),s,q,p,b;if(!a.options.disabled){switch(v.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:u=!1;if(!a._keySliding){a._keySliding=!0,e(this).addClass("ui-state-active"),s=a._start(v,t);if(s===!1){return}}}b=a.options.step,a.options.values&&a.options.values.length?q=p=a.values(t):q=p=a.value();switch(v.keyCode){case e.ui.keyCode.HOME:p=a._valueMin();break;case e.ui.keyCode.END:p=a._valueMax();break;case e.ui.keyCode.PAGE_UP:p=a._trimAlignValue(q+(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.PAGE_DOWN:p=a._trimAlignValue(q-(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(q===a._valueMax()){return}p=a._trimAlignValue(q+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(q===a._valueMin()){return}p=a._trimAlignValue(q-b)}a._slide(v,t,p);return u}}).keyup(function(g){var b=e(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(g,b),a._change(g,b),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(x){var v=this.options,u,t,s,q,p,o,n,m,a;if(v.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),u={x:x.pageX,y:x.pageY},t=this._normValueFromMouse(u),s=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(g){var h=Math.abs(t-p.values(g));s>h&&(s=h,q=e(this),o=g)}),v.range===!0&&this.values(1)===v.min&&(o+=1,q=e(this.handles[o])),n=this._start(x,o);if(n===!1){return !1}this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!e(x.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:x.pageX-m.left-q.width()/2,top:x.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(x,o,t),this._animateOff=!0;return !0},_mouseStart:function(b){return !0},_mouseDrag:function(h){var g={x:h.pageX,y:h.pageY},j=this._normValueFromMouse(g);this._slide(h,this._handleIndex,j);return !1},_mouseStop:function(b){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(h){var g,n,m,k,j;this.orientation==="horizontal"?(g=this.elementSize.width,n=h.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,n=h.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),m=n/g,m>1&&(m=1),m<0&&(m=0),this.orientation==="vertical"&&(m=1-m),k=this._valueMax()-this._valueMin(),j=this._valueMin()+m*k;return this._trimAlignValue(j)},_start:function(h,g){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values());return this._trigger("start",h,j)},_slide:function(h,g,n){var m,k,j;this.options.values&&this.options.values.length?(m=this.values(g?0:1),this.options.values.length===2&&this.options.range===!0&&(g===0&&n>m||g===1&&n<m)&&(n=m),n!==this.values(g)&&(k=this.values(),k[g]=n,j=this._trigger("slide",h,{handle:this.handles[g],value:n,values:k}),m=this.values(g?0:1),j!==!1&&this.values(g,n,!0))):n!==this.value()&&(j=this._trigger("slide",h,{handle:this.handles[g],value:n}),j!==!1&&this.value(n))},_stop:function(h,g){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values()),this._trigger("stop",h,j)},_change:function(h,g){if(!this._keySliding&&!this._mouseSliding){var j={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(j.value=this.values(g),j.values=this.values()),this._trigger("change",h,j)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(a,k){var j,h,g;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(k),this._refreshValue(),this._change(null,a)}else{if(!arguments.length){return this._values()}if(!e.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()}j=this.options.values,h=arguments[0];for(g=0;g<j.length;g+=1){j[g]=this._trimAlignValue(h[g]),this._change(null,g)}this._refreshValue()}},_setOption:function(a,j){var h,g=0;e.isArray(this.options.values)&&(g=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(a){case"disabled":j?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(h=0;h<g;h+=1){this._change(null,h)}this._animateOff=!1}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(h){var g,k,j;if(arguments.length){g=this.options.values[h],g=this._trimAlignValue(g);return g}k=this.options.values.slice();for(j=0;j<k.length;j+=1){k[j]=this._trimAlignValue(k[j])}return k},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,k=(h-this._valueMin())%g,j=h-k;Math.abs(k)*2>=g&&(j+=k>0?g:-g);return parseFloat(j.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var v=this.options.range,u=this.options,t=this,s=this._animateOff?!1:u.animate,q,p={},o,n,m,a;this.options.values&&this.options.values.length?this.handles.each(function(c,g){q=(t.values(c)-t._valueMin())/(t._valueMax()-t._valueMin())*100,p[t.orientation==="horizontal"?"left":"bottom"]=q+"%",e(this).stop(1,1)[s?"animate":"css"](p,u.animate),t.options.range===!0&&(t.orientation==="horizontal"?(c===0&&t.range.stop(1,1)[s?"animate":"css"]({left:q+"%"},u.animate),c===1&&t.range[s?"animate":"css"]({width:q-o+"%"},{queue:!1,duration:u.animate})):(c===0&&t.range.stop(1,1)[s?"animate":"css"]({bottom:q+"%"},u.animate),c===1&&t.range[s?"animate":"css"]({height:q-o+"%"},{queue:!1,duration:u.animate}))),o=q}):(n=this.value(),m=this._valueMin(),a=this._valueMax(),q=a!==m?(n-m)/(a-m)*100:0,p[t.orientation==="horizontal"?"left":"bottom"]=q+"%",this.handle.stop(1,1)[s?"animate":"css"](p,u.animate),v==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[s?"animate":"css"]({width:q+"%"},u.animate),v==="max"&&this.orientation==="horizontal"&&this.range[s?"animate":"css"]({width:100-q+"%"},{queue:!1,duration:u.animate}),v==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[s?"animate":"css"]({height:q+"%"},u.animate),v==="max"&&this.orientation==="vertical"&&this.range[s?"animate":"css"]({height:100-q+"%"},{queue:!1,duration:u.animate}))}}),e.extend(e.ui.slider,{version:"1.8.17"})})(jQuery);
/*!
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(b){b.support.touch="ontouchend" in document;if(!b.support.touch){return}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return}g.preventDefault();var j=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,j.screenX,j.screenY,j.clientX,j.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f)}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return}a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown")};c._touchMove=function(f){if(!a){return}this._touchMoved=true;d(f,"mousemove")};c._touchEnd=function(f){if(!a){return}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click")}a=false};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f)}})(jQuery);!function(a){a(function(){a.support.transition=(function(){var c=document.body||document.documentElement,d=c.style,b=d.transition!==undefined||d.WebkitTransition!==undefined||d.MozTransition!==undefined||d.MsTransition!==undefined||d.OTransition!==undefined;return b&&{end:(function(){var e="TransitionEnd";if(a.browser.webkit){e="webkitTransitionEnd"}else{if(a.browser.mozilla){e="transitionend"}else{if(a.browser.opera){e="oTransitionEnd"}}}return e}())}})()})}(window.jQuery);!function(b){var a=function(d,c){this.init("tooltip",d,c)};a.prototype={constructor:a,init:function(f,e,d){var g,c;this.type=f;this.$element=b(e);this.options=this.getOptions(d);this.enabled=true;if(this.options.trigger!="manual"){g=this.options.trigger=="hover"?"mouseenter":"focus";c=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(g,this.options.selector,b.proxy(this.enter,this));this.$element.on(c,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(c){c=b.extend({},b.fn[this.type].defaults,c,this.$element.data());if(c.delay&&typeof c.delay=="number"){c.delay={show:c.delay,hide:c.delay}}return c},enter:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show){c.show()}else{c.hoverState="in";setTimeout(function(){if(c.hoverState=="in"){c.show()}},c.options.delay.show)}},leave:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.hide){c.hide()}else{c.hoverState="out";setTimeout(function(){if(c.hoverState=="out"){c.hide()}},c.options.delay.hide)}},show:function(){var g,c,j,e,h,d,f;if(this.hasContent()&&this.enabled){g=this.tip();this.setContent();if(this.options.animation){g.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,g[0],this.$element[0]):this.options.placement;c=/in/.test(d);g.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);j=this.getPosition(c);e=g[0].offsetWidth;h=g[0].offsetHeight;switch(c?d.split(" ")[1]:d){case"bottom":f={top:j.top+j.height,left:j.left+j.width/2-e/2};break;case"top":f={top:j.top-h,left:j.left+j.width/2-e/2};break;case"left":f={top:j.top+j.height/2-h/2,left:j.left-e};break;case"right":f={top:j.top+j.height/2-h/2,left:j.left+j.width};break}g.css(f).addClass(d).addClass("in")}},setContent:function(){var c=this.tip();c.find(".tooltip-inner").html(this.getTitle());c.removeClass("fade in top bottom left right")},hide:function(){var c=this,d=this.tip();d.removeClass("in");function e(){var f=setTimeout(function(){d.off(b.support.transition.end).remove()},500);d.one(b.support.transition.end,function(){clearTimeout(f);d.remove()})}b.support.transition&&this.$tip.hasClass("fade")?e():d.remove()},fixTitle:function(){var c=this.$element;if(c.attr("title")||typeof(c.attr("data-original-title"))!="string"){c.attr("data-original-title",c.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(c){return b.extend({},(c?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,c=this.$element,d=this.options;e=c.attr("data-original-title")||(typeof d.title=="function"?d.title.call(c[0]):d.title);e=e.toString().replace(/(^\s*|\s*$)/,"");return e},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(c){return this.each(function(){var f=b(this),e=f.data("tooltip"),d=typeof c=="object"&&c;if(!e){f.data("tooltip",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(b){var a=function(d,c){this.init("popover",d,c)};a.prototype=b.extend({},b.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var e=this.tip(),d=this.getTitle(),c=this.getContent();e.find(".popover-title")[b.type(d)=="object"?"append":"html"](d);e.find(".popover-content > *")[b.type(c)=="object"?"append":"html"](c);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var d,c=this.$element,e=this.options;d=c.attr("data-content")||(typeof e.content=="function"?e.content.call(c[0]):e.content);d=d.toString().replace(/(^\s*|\s*$)/,"");return d},tip:function(){if(!this.$tip){this.$tip=b(this.options.template)}return this.$tip}});b.fn.popover=function(c){return this.each(function(){var f=b(this),e=f.data("popover"),d=typeof c=="object"&&c;if(!e){f.data("popover",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.popover.Constructor=a;b.fn.popover.defaults=b.extend({},b.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(a){var b=function(d,c){this.$element=a(d);this.options=c;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(){this.options.interval&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(g){var c=this.$element.find(".active"),d=c.parent().children(),e=d.index(c),f=this;if(g>(d.length-1)||g<0){return}if(this.sliding){return this.$element.one("slid",function(){f.to(g)})}if(e==g){return this.pause().cycle()}return this.slide(g>e?"next":"prev",a(d[g]))},pause:function(){clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(f,e){var c=this.$element.find(".active"),d=e||c[f](),k=this.interval,h=f=="next"?"left":"right",j=f=="next"?"first":"last",g=this;this.sliding=true;k&&this.pause();d=d.length?d:this.$element.find(".item")[j]();if(d.hasClass("active")){return}if(a.support.transition&&this.$element.hasClass("slide")){d.addClass(f);d[0].offsetWidth;c.addClass(h);d.addClass(h);this.$element.trigger("slide");this.$element.one(a.support.transition.end,function(){d.removeClass([f,h].join(" ")).addClass("active");c.removeClass(["active",h].join(" "));g.sliding=false;setTimeout(function(){g.$element.trigger("slid")},0)})}else{this.$element.trigger("slide");c.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}k&&this.cycle();return this}};a.fn.carousel=function(c){return this.each(function(){var f=a(this),e=f.data("carousel"),d=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c);if(!e){f.data("carousel",(e=new b(this,d)))}if(typeof c=="number"){e.to(c)}else{if(typeof c=="string"||(c=d.slide)){e[c]()}else{if(d.interval){e.cycle()}}}})};a.fn.carousel.defaults={interval:5000,pause:"hover"};a.fn.carousel.Constructor=b;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(h){var g=a(this),d,c=a(g.attr("data-target")||(d=g.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=!c.data("modal")&&a.extend({},c.data(),g.data());c.carousel(f);h.preventDefault()})})}(window.jQuery);(function(a){a.fn.extend({jsticky:function(b){var c={marginTop:0};var b=a.extend(c,b);return this.each(function(){var f=b;var j=a(this);var h=j.offset();var k=h.top;var d=j.css("marginTop");var n=parseInt(d);var m=k-n;var h=j.offset();var k=h.top;var e=h.left;var d=j.css("marginTop");var g=j.css("marginLeft");a(window).scroll(function(){var p=a(window).scrollTop();var o=p+f.marginTop;if(o>=k){a("body").addClass("fixed-active");j.addClass("fixed").css({marginTop:f.marginTop,marginLeft:e,position:"fixed"})}if(o<k){a("body").removeClass("fixed-active");j.removeClass("fixed").css({marginTop:d,marginLeft:g,position:"relative"})}})})}})})(jQuery);!function(b){function a(f,e){var g=b.proxy(this.process,this),c=b(f).is("body")?b(window):b(f),d;this.options=b.extend({},b.fn.scrollspy.defaults,e);this.$scrollElement=c.on("scroll.scroll.data-api",g);this.selector=(this.options.target||((d=b(f).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=b("body").on("click.scroll.data-api",this.selector,g);this.refresh();this.process()}a.prototype={constructor:a,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var c=b(this).attr("href");return/^#\w/.test(c)&&b(c).length?c:null});this.offsets=b.map(this.targets,function(c){return b(c).position().top})},process:function(){var f=this.$scrollElement.scrollTop()+this.options.offset,e=this.offsets,c=this.targets,g=this.activeTarget,d;for(d=e.length;d--;){g!=c[d]&&f>=e[d]&&(!e[d+1]||f<=e[d+1])&&this.activate(c[d])}},activate:function(d){var c;this.activeTarget=d;this.$body.find(this.selector).parent(".active").removeClass("active");c=this.$body.find(this.selector+'[href="'+d+'"]').parent("li").addClass("active");if(c.parent(".dropdown-menu")){c.closest("li.dropdown").addClass("active")}}};b.fn.scrollspy=function(c){return this.each(function(){var f=b(this),e=f.data("scrollspy"),d=typeof c=="object"&&c;if(!e){f.data("scrollspy",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.scrollspy.Constructor=a;b.fn.scrollspy.defaults={offset:10};b(function(){b('[data-spy="scroll"]').each(function(){var c=b(this);c.scrollspy(c.data())})})}(window.jQuery);var map_images=["2010-06-01.png","2010-06-08.png","2010-06-15.png","2010-06-22.png","2010-06-29.png","2010-07-06.png","2010-07-13.png","2010-07-20.png","2010-07-27.png","2010-08-03.png","2010-08-10.png","2010-08-17.png","2010-08-24.png","2010-08-31.png","2010-09-07.png","2010-09-14.png","2010-09-21.png","2010-09-28.png","2010-10-05.png","2010-10-12.png","2010-10-19.png","2010-10-26.png","2010-11-02.png","2010-11-09.png","2010-11-16.png","2010-11-23.png","2010-11-30.png","2010-12-07.png","2010-12-14.png","2010-12-21.png","2010-12-28.png","2011-01-04.png","2011-01-11.png","2011-01-18.png","2011-01-25.png","2011-02-01.png","2011-02-08.png","2011-02-15.png","2011-02-22.png","2011-03-01.png","2011-03-08.png","2011-03-15.png","2011-03-22.png","2011-03-29.png","2011-04-05.png","2011-04-12.png","2011-04-19.png","2011-04-26.png","2011-05-03.png","2011-05-10.png","2011-05-17.png","2011-05-24.png","2011-05-31.png","2011-06-07.png","2011-06-14.png","2011-06-21.png","2011-06-28.png","2011-07-05.png","2011-07-12.png","2011-07-19.png","2011-07-26.png","2011-08-02.png","2011-08-09.png","2011-08-16.png","2011-08-23.png","2011-08-30.png","2011-09-06.png","2011-09-13.png","2011-09-20.png","2011-09-27.png","2011-10-04.png","2011-10-11.png","2011-10-18.png","2011-10-25.png","2011-11-01.png","2011-11-08.png","2011-11-15.png","2011-11-22.png","2011-11-29.png","2011-12-06.png","2011-12-13.png","2011-12-20.png","2011-12-27.png","2012-01-03.png","2012-01-10.png","2012-01-17.png","2012-01-24.png","2012-01-31.png","2012-02-07.png","2012-02-14.png","2012-02-21.png","2012-02-28.png","2012-03-06.png","2012-03-13.png","2012-03-20.png","2012-03-27.png","2012-04-03.png","2012-04-10.png","2012-04-17.png","2012-04-24.png","2012-05-01.png","2012-05-08.png","2012-05-15.png","2012-05-22.png","2012-05-29.png","2012-06-05.png","2012-06-12.png","2012-06-19.png","2012-06-26.png","2012-07-03.png","2012-07-10.png"];jQuery(function(e){if(!map_images){return}var a="img/maps/";window.dates=[];window.images=_.map(map_images,function(k,j){var h=new Date(Date.parse(k.replace(".png","")));dates.push(h);var g=document.createElement("img");g.setAttribute("src",a+k);return g});var f=e("#drought-map"),b=e("#map-date");var d=function(j,k){var g=images[k.value];f.html(g);var h=dates[k.value];if(h){b.text(h.toString("MMMM d, yyyy"))}};window.slider=e("#slider").slider({animate:false,max:images.length,change:function(g,h){d(g,h)},slide:d,value:images.length});f.html(_.last(images));b.text(_.last(dates).toString("MMMM d, yyyy"));function c(h){_.bindAll(this);this.interval=null;this._slider=h;this.value=h.slider("value")||0;var g=this;h.bind("slidechange",function(k,j){g.value=j.value});h.bind("slide",function(k,j){g.stop()});this.button=e("#play-slider");this.icon=e("#play-icon");this.bindStart()}_.extend(c.prototype,{bindStart:function(){var g=this;this.button.off("click").on("click",function(h){g.start()})},bindStop:function(){var g=this;this.button.off("click").on("click",function(h){h.preventDefault();g.stop()})},next:function(){if(this.option("max")==this.value){this.stop();return}this._slider.slider("value",this.value+1);return this.value},previous:function(){if(this.option("min")==this.value){return}this._slider.slider("value",this.value-1);return this.value},option:function(g,h){return this._slider.slider("option",g,h)},start:function(){this.stop();if(this.value==this.option("max")){this._slider.slider("value",0)}this.interval=setInterval(this.next,250);this.icon.removeClass("icon-play").addClass("icon-pause");this.bindStop()},stop:function(){clearInterval(this.interval);this.icon.removeClass("icon-pause").addClass("icon-play");this.bindStart()}});window.player=new c(slider)});(function(){function aO(p,o){var s;p||(p={});for(s in o){p[s]=o[s]}return p}function be(){for(var p=0,o=arguments,x=o.length,s={};p<x;p++){s[o[p++]]=o[p]}return s}function aJ(p,o){return parseInt(p,o||10)}function bF(o){return typeof o==="string"}function bq(o){return typeof o==="object"}function k(o){return Object.prototype.toString.call(o)==="[object Array]"}function bm(o){return typeof o==="number"}function aW(o){return aC.log(o)/aC.LN10}function at(o){return aC.pow(10,o)}function bK(p,o){for(var s=p.length;s--;){if(p[s]===o){p.splice(s,1);break}}}function ao(o){return o!==aH&&o!==null}function a6(p,o,z){var x,s;if(bF(o)){ao(z)?p.setAttribute(o,z):p&&p.getAttribute&&(s=p.getAttribute(o))}else{if(ao(o)&&bq(o)){for(x in o){p.setAttribute(x,o[x])}}}return s}function bs(o){return k(o)?o:[o]}function aq(){var p=arguments,o,x,s=p.length;for(o=0;o<s;o++){if(x=p[o],typeof x!=="undefined"&&x!==null){return x}}}function aK(p,o){if(aj&&o&&o.opacity!==aH){o.filter="alpha(opacity="+o.opacity*100+")"}aO(p.style,o)}function bG(p,o,z,x,s){p=am.createElement(p);o&&aO(p,o);s&&aK(p,{padding:0,border:bP,margin:0});z&&aK(p,z);x&&x.appendChild(p);return p}function ae(p,o){var s=function(){};s.prototype=new p;aO(s.prototype,o);return s}function I(p,o,C,A){var z=U.lang,x=isNaN(o=bn(o))?2:o,o=C===void 0?z.decimalPoint:C,A=A===void 0?z.thousandsSep:A,z=p<0?"-":"",C=String(aJ(p=bn(+p||0).toFixed(x))),s=C.length>3?C.length%3:0;return z+(s?C.substr(0,s)+A:"")+C.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+A)+(x?o+bn(p-C).toFixed(x).slice(2):"")}function by(p,o){return Array((o||2)+1-String(p).length).join(0)+p}function e(p,o,z,x){var s,z=aq(z,1);s=p/z;o||(o=[1,2,2.5,5,10],x&&x.allowDecimals===!1&&(z===1?o=[1,2,5,10]:z<=0.1&&(o=[1/z])));for(x=0;x<o.length;x++){if(p=o[x],s<=(o[x]+(o[x+1]||o[x]))/2){break}}p*=z;return p}function Z(p,o){var C=o||[[B,[1,2,5,10,20,25,50,100,200,500]],[aA,[1,2,5,10,15,30]],[Y,[1,2,5,10,15,30]],[ai,[1,2,3,4,6,8,12]],[aT,[1,2]],[d,[1,2]],[ax,[1,2,3,4,6]],[bB,null]],A=C[C.length-1],z=aY[A[0]],x=A[1],s;for(s=0;s<C.length;s++){if(A=C[s],z=aY[A[0]],x=A[1],C[s+1]&&p<=(z*x[x.length-1]+aY[C[s+1][0]])/2){break}}z===aY[bB]&&p<5*z&&(x=[1,2,5]);z===aY[bB]&&p<5*z&&(x=[1,2,5]);C=e(p/z,x);return{unitRange:z,count:C,unitName:A[0]}}function t(P,M,L,K){var E=[],C={},A=U.global.useUTC,z,x=new Date(M),M=P.unitRange,p=P.count;M>=aY[aA]&&(x.setMilliseconds(0),x.setSeconds(M>=aY[Y]?0:p*bA(x.getSeconds()/p)));if(M>=aY[Y]){x[V](M>=aY[ai]?0:p*bA(x[bC]()/p))}if(M>=aY[ai]){x[n](M>=aY[aT]?0:p*bA(x[bj]()/p))}if(M>=aY[aT]){x[aN](M>=aY[ax]?1:p*bA(x[J]()/p))}M>=aY[ax]&&(x[bM](M>=aY[bB]?0:p*bA(x[q]()/p)),z=x[bN]());M>=aY[bB]&&(z-=z%p,x[bv](z));if(M===aY[d]){x[aN](x[J]()-x[av]()+aq(K,1))}K=1;z=x[bN]();for(var s=x.getTime(),o=x[q](),x=x[J]();s<L;){E.push(s),M===aY[bB]?s=bx(z+K*p,0):M===aY[ax]?s=bx(z,o+K*p):!A&&(M===aY[aT]||M===aY[d])?s=bx(z,o,x+K*p*(M===aY[aT]?1:7)):(s+=M*p,M<=aY[ai]&&s%aY[aT]===0&&(C[s]=aT)),K++}E.push(s);E.info=aO(P,{higherRanks:C,totalRange:M*p});return E}function a4(){this.symbol=this.color=0}function aD(P,M,L,K,E,C,A,z,x){var p=A.x,A=A.y,x=p+L+(x?z:-P-z),s=A-M+K+15,o;x<7&&(x=L+p+z);x+P>L+E&&(x-=x+P-(L+E),s=A-M+K-z,o=!0);s<K+5?(s=K+5,o&&A>=s&&A<=s+M&&(s=A+K+z)):s+M>K+C&&(s=K+C-M-z);return{x:x,y:s}}function bO(p,o){var z=p.length,x,s;for(s=0;s<z;s++){p[s].ss_i=s}p.sort(function(A,C){x=o(A,C);return x===0?A.ss_i-C.ss_i:x});for(s=0;s<z;s++){delete p[s].ss_i}}function a(p){for(var o=p.length,s=p[0];o--;){p[o]<s&&(s=p[o])}return s}function aZ(p){for(var o=p.length,s=p[0];o--;){p[o]>s&&(s=p[o])}return s}function aB(p){for(var o in p){p[o]&&p[o].destroy&&p[o].destroy(),delete p[o]}}function bz(o){a7||(a7=bG(F));o&&a7.appendChild(o);a7.innerHTML=""}function O(p,o){var s="Highcharts error #"+p+": www.highcharts.com/errors/"+p;if(o){throw s}else{au.console&&console.log(s)}}function aS(o){return parseFloat(o.toPrecision(14))}function ad(p,o){bd=aq(p,o.animation)}function ag(){var p=U.global.useUTC,o=p?"getUTC":"get",s=p?"setUTC":"set";bx=p?Date.UTC:function(z,x,K,E,C,A){return(new Date(z,x,aq(K,1),aq(E,0),aq(C,0),aq(A,0))).getTime()};bC=o+"Minutes";bj=o+"Hours";av=o+"Day";J=o+"Date";q=o+"Month";bN=o+"FullYear";V=s+"Minutes";n=s+"Hours";aN=s+"Date";bM=s+"Month";bv=s+"FullYear"}function b(){}function v(cl,ck){function ci(dF){function dE(C,E){this.pos=C;this.type=E||"";this.isNew=!0;E||this.addLabel()}function dC(C){if(C){this.options=C,this.id=C.id}return this}function dB(E,C,ba,M){this.isNegative=C;this.options=E;this.x=ba;this.stack=M;this.alignOptions={align:E.align||(cq?C?"left":"right":"center"),verticalAlign:E.verticalAlign||(cq?"middle":C?"bottom":"top"),y:aq(E.y,cq?4:C?14:-6),x:aq(E.x,cq?C?-6:6:0)};this.textAlign=E.textAlign||(cq?C?"right":"left":"center")}function dA(){var E=[],C=[],M;d3=dT=null;ar(d4.series,function(eB){if(eB.visible||!b1.ignoreHiddenSeries){var eA=eB.options,ez,ey,ex,ew,eu,es,et,er,da,ek=eA.threshold,ep,eq=[],ev=0;if(dM&&ek<=0){ek=eA.threshold=null}if(dl){eA=eB.xData,eA.length&&(d3=bf(aq(d3,eA[0]),a(eA)),dT=aI(aq(dT,eA[0]),aZ(eA)))}else{var el,eo,en,em=eB.cropped,ba=eB.xAxis.getExtremes(),db=!!eB.modifyValue;ez=eA.stacking;ea=ez==="percent";if(ez){eu=eA.stack,ew=eB.type+aq(eu,""),es="-"+ew,eB.stackKey=ew,ey=E[ew]||[],E[ew]=ey,ex=C[es]||[],C[es]=ex}ea&&(d3=0,dT=99);eA=eB.processedXData;et=eB.processedYData;ep=et.length;for(M=0;M<ep;M++){if(er=eA[M],da=et[M],da!==null&&da!==aH&&(ez?(eo=(el=da<ek)?ex:ey,en=el?es:ew,da=eo[er]=ao(eo[er])?eo[er]+da:da,c2[en]||(c2[en]={}),c2[en][er]||(c2[en][er]=new dB(dk.stackLabels,el,er,eu)),c2[en][er].setTotal(da)):db&&(da=eB.modifyValue(da)),em||(eA[M+1]||er)>=ba.min&&(eA[M-1]||er)<=ba.max)){if(er=da.length){for(;er--;){da[er]!==null&&(eq[ev++]=da[er])}}else{eq[ev++]=da}}}!ea&&eq.length&&(d3=bf(aq(d3,eq[0]),a(eq)),dT=aI(aq(dT,eq[0]),aZ(eq)));ao(ek)&&(d3>=ek?(d3=ek,ej=!0):dT<ek&&(dT=ek,ec=!0))}}})}function dz(E,C,da){for(var ba,C=aS(bA(C/E)*E),da=aS(c(da/E)*E),M=[];C<=da;){M.push(C);C=aS(C+E);if(C===ba){break}ba=C}return M}function dy(ep,eo,en,em){var el=[];if(!em){d4._minorAutoInterval=null}if(ep>=0.5){ep=al(ep),el=dz(ep,eo,en)}else{if(ep>=0.08){var ek=bA(eo),db,da,ba,C,E,M;for(db=ep>0.3?[1,2,4]:ep>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];ek<en+1&&!M;ek++){ba=db.length;for(da=0;da<ba&&!M;da++){C=aW(at(ek)*db[da]),C>eo&&el.push(E),E>en&&(M=!0),E=C}}}else{if(eo=at(eo),en=at(en),ep=dk[em?"minorTickInterval":"tickInterval"],ep=aq(ep==="auto"?null:ep,d4._minorAutoInterval,(en-eo)*(dk.tickPixelInterval/(em?5:1))/((em?d2/dS.length:d2)||1)),ep=e(ep,null,aC.pow(10,bA(aC.log(ep)/aC.LN10))),el=aG(dz(ep,eo,en),aW),!em){d4._minorAutoInterval=ep/5}}}em||(d7=ep);return el}function dx(){var E=[],C,M;if(dM){M=dS.length;for(C=1;C<M;C++){E=E.concat(dy(eh,dS[C-1],dS[C],!0))}}else{for(C=dY+(dS[0]-dY)%eh;C<=dW;C+=eh){E.push(C)}}return E}function du(){var E,C=dT-d3>=ef,el,ek,db,da,ba,M;dl&&ef===aH&&!dM&&(ao(dk.min)||ao(dk.max)?ef=null:(ar(d4.series,function(em){da=em.xData;for(ek=ba=em.xIncrement?1:da.length-1;ek>0;ek--){if(db=da[ek]-da[ek-1],el===aH||db<el){el=db}}}),ef=bf(el*5,dT-d3)));dW-dY<ef&&(E=(ef-dW+dY)/2,E=[dY-E,aq(dk.min,dY-E)],C&&(E[2]=d3),dY=aZ(E),M=[dY+ef,aq(dk.max,dY+ef)],C&&(M[2]=dT),dW=a(M),dW-dY<ef&&(E[0]=dW-ef,E[1]=aq(dk.min,dW-ef),dY=aZ(E)))}function ds(E){var C,ba=dk.tickInterval,M=dk.tickPixelInterval;c7?(d0=b3[dl?"xAxis":"yAxis"][dk.linkedTo],C=d0.getExtremes(),dY=aq(C.min,C.dataMin),dW=aq(C.max,C.dataMax),dk.type!==d0.options.type&&O(11,1)):(dY=aq(dR,dk.min,d3),dW=aq(dp,dk.max,dT));dM&&(!E&&bf(dY,d3)<=0&&O(10,1),dY=aW(dY),dW=aW(dW));c9&&(dR=dY=aI(dY,dW-c9),dp=dW,E&&(c9=null));du();if(!dJ&&!ea&&!c7&&ao(dY)&&ao(dW)){C=dW-dY||1;if(!ao(dk.min)&&!ao(dR)&&dc&&(d3<0||!ej)){dY-=C*dc}if(!ao(dk.max)&&!ao(dp)&&dD&&(dT>0||!ec)){dW+=C*dD}}d7=dY===dW||dY===void 0||dW===void 0?1:c7&&!ba&&M===d0.options.tickPixelInterval?d0.tickInterval:aq(ba,dJ?1:(dW-dY)*M/(d2||1));dl&&!E&&ar(d4.series,function(da){da.processData(dY!==d9||dW!==d8)});dt();d4.beforeSetTickPositions&&d4.beforeSetTickPositions();d4.postProcessTickInterval&&(d7=d4.postProcessTickInterval(d7));!dK&&!dM&&(dh=aC.pow(10,bA(aC.log(d7)/aC.LN10)),ao(dk.tickInterval)||(d7=e(d7,null,dh,dk)));d4.tickInterval=d7;eh=dk.minorTickInterval==="auto"&&d7?d7/5:dk.minorTickInterval;(dS=dk.tickPositions||c5&&c5.apply(d4,[dY,dW]))||(dS=dK?(d4.getNonLinearTimeTicks||t)(Z(d7,dk.units),dY,dW,dk.startOfWeek,d4.ordinalPositions,d4.closestPointRange,!0):dM?dy(d7,dY,dW):dz(d7,dY,dW));if(!c7&&(E=dS[0],ba=dS[dS.length-1],dk.startOnTick?dY=E:dY>E&&dS.shift(),dk.endOnTick?dW=ba:dW<ba&&dS.pop(),cJ||(cJ={x:0,y:0}),!dK&&dS.length>cJ[di]&&dk.alignTicks!==!1)){cJ[di]=dS.length}}function dr(C){C=(new dC(C)).render();d6.push(C);return C}function dq(){var eo=dk.title,en=dk.stackLabels,em=dk.alternateGridColor,ek=dk.lineWidth,db,da,ba=b3.hasRendered&&ao(d9)&&!isNaN(d9),M=(db=d4.series.length&&ao(dY)&&ao(dW))||aq(dk.showEmpty,!0),E,C;if(db||c7){if(eh&&!dJ&&ar(dx(),function(eq){de[eq]||(de[eq]=new dE(eq,"minor"));ba&&de[eq].isNew&&de[eq].render(null,!0);de[eq].isActive=!0;de[eq].render()}),ar(dS.slice(1).concat([dS[0]]),function(eq,er){er=er===dS.length-1?0:er+1;if(!c7||eq>=dY&&eq<=dW){dH[eq]||(dH[eq]=new dE(eq)),ba&&dH[eq].isNew&&dH[eq].render(er,!0),dH[eq].isActive=!0,dH[eq].render(er)}}),em&&ar(dS,function(er,eq){if(eq%2===0&&er<dW){dw[er]||(dw[er]=new dC),E=er,C=dS[eq+1]!==aH?dS[eq+1]:dW,dw[er].options={from:dM?at(E):E,to:dM?at(C):C,color:em},dw[er].render(),dw[er].isActive=!0}}),!d4._addedPlotLB){ar((dk.plotLines||[]).concat(dk.plotBands||[]),function(eq){dr(eq)}),d4._addedPlotLB=!0}}ar([dH,de,dw],function(er){for(var eq in er){er[eq].isActive?er[eq].isActive=!1:(er[eq].destroy(),delete er[eq])}});ek&&(db=dg+(df?d5:0)+dL,da=cX-c1-(df?dU:0)+dL,db=cz.crispLine([D,dX?dg:db,dX?da:dZ,bE,dX?cP-ee:db,dX?da:cX-c1],ek),eb?eb.animate({d:db}):eb=cz.path(db).attr({stroke:dk.lineColor,"stroke-width":ek,zIndex:7}).add(),eb[M?"show":"hide"]());if(dj&&M){M=dX?dg:dZ,ek=aJ(eo.style.fontSize||12),M={low:M+(dX?0:d2),middle:M+d2/2,high:M+(dX?d2:0)}[eo.align],ek=(dX?dZ+dU:dg)+(dX?1:-1)*(df?-1:1)*cZ+(dm===2?ek:0),dj[dj.isNew?"attr":"animate"]({x:dX?M:ek+(df?d5:0)+dL+(eo.x||0),y:dX?ek-(df?dU:0)+dL:M+(eo.y||0)}),dj.isNew=!1}if(en&&en.enabled){var ep,el,en=d4.stackTotalGroup;if(!en){d4.stackTotalGroup=en=cz.g("stack-labels").attr({visibility:f,zIndex:6}).translate(cw,cy).add()}for(ep in c2){for(el in eo=c2[ep],eo){eo[el].render(en)}}}d4.isDirty=!1}function dn(E){for(var C=d6.length;C--;){d6[C].id===E&&d6[C].destroy()}}var dl=dF.isX,df=dF.opposite,dX=cq?!dl:dl,dm=dX?df?0:2:df?1:3,c2={},dk=aQ(dl?a0:g,[bw,a5,bb,aE][dm],dF),d4=this,dj,dI=dk.type,dK=dI==="datetime",dM=dI==="logarithmic",dL=dk.offset||0,di=dl?"x":"y",d2=0,dG,dv,dP,c8,dg,dZ,d5,dU,c1,ee,ei,dt,dQ,dO,dN,eb,d3,dT,ef=dk.minRange||dk.maxZoom,c9=dk.range,dR,dp,eg,dV,dW=null,dY=null,d9,d8,dc=dk.minPadding,dD=dk.maxPadding,dd=0,c7=ao(dk.linkedTo),d0,ej,ec,ea,dI=dk.events,cY,d6=[],d7,eh,dh,dS,c5=dk.tickPositioner,dH={},de={},dw={},c0,c3,cZ,dJ=dk.categories,c6=dk.labels.formatter||function(){var E=this.value,C=this.dateTimeLabelFormat;return C?bg(C,E):d7%1000000===0?E/1000000+"M":d7%1000===0?E/1000+"k":!dJ&&E>=1000?I(E,0):E},c4=dX&&dk.labels.staggerLines,ed=dk.reversed,d1=dJ&&dk.tickmarkPlacement==="between"?0.5:0;dE.prototype={addLabel:function(){var em=this.pos,el=dk.labels,ek=dJ&&dX&&dJ.length&&!el.step&&!el.staggerLines&&!el.rotation&&K/dJ.length||!dX&&K/2,db=em===dS[0],da=em===dS[dS.length-1],ba=dJ&&ao(dJ[em])?dJ[em]:em,M=this.label,E=dS.info,C;dK&&E&&(C=dk.dateTimeLabelFormats[E.higherRanks[em]||E.unitName]);this.isFirst=db;this.isLast=da;em=c6.call({axis:d4,chart:b3,isFirst:db,isLast:da,dateTimeLabelFormat:C,value:dM?aS(at(ba)):ba});ek=ek&&{width:aI(1,al(ek-2*(el.padding||10)))+bl};ek=aO(ek,el.style);ao(M)?M&&M.attr({text:em}).css(ek):this.label=ao(em)&&el.enabled?cz.text(em,0,0,el.useHTML).attr({align:el.align,rotation:el.rotation}).css(ek).add(dO):null},getLabelSize:function(){var C=this.label;return C?(this.labelBBox=C.getBBox())[dX?"height":"width"]:0},getLabelSides:function(){var E=dk.labels,C=this.labelBBox.width,E=C*{left:0,center:0.5,right:1}[E.align]-E.x;return[-E,C-E]},handleOverflow:function(eo){var en=!0,em=this.isFirst,el=this.isLast,ek=this.label,db=ek.x;if(em||el){var da=this.getLabelSides(),ba=da[0],da=da[1],M=b3.plotLeft,E=M+d4.len,C=(eo=dH[dS[eo+(em?1:-1)]])&&eo.label.x+eo.getLabelSides()[em?0:1];em&&!ed||el&&ed?db+ba<M&&(db=M-ba,eo&&db+da>C&&(en=!1)):db+da>E&&(db=E-da,eo&&db+ba<C&&(en=!1));ek.x=db}return en},render:function(ew,ev){var eu=this.type,et=this.label,es=this.pos,er=dk.labels,eq=this.gridLine,ep=eu?eu+"Grid":"grid",eo=eu?eu+"Tick":"tick",en=dk[ep+"LineWidth"],em=dk[ep+"LineColor"],db=dk[ep+"LineDashStyle"],ek=dk[eo+"Length"],ep=dk[eo+"Width"]||0,el=dk[eo+"Color"],C=dk[eo+"Position"],eo=this.mark,ba=er.step,E=ev&&cT||cX,M=!0,da;da=dX?ei(es+d1,null,null,ev)+dP:dg+dL+(df?(ev&&cF||cP)-ee-dg:0);E=dX?E-c1+dL-(df?dU:0):E-ei(es+d1,null,null,ev)-dP;if(en){es=dQ(es+d1,en,ev);if(eq===aH){eq={stroke:em,"stroke-width":en};if(db){eq.dashstyle=db}if(!eu){eq.zIndex=1}this.gridLine=eq=en?cz.path(es).attr(eq).add(dN):null}!ev&&eq&&es&&eq.animate({d:es})}if(ep){C==="inside"&&(ek=-ek),df&&(ek=-ek),eu=cz.crispLine([D,da,E,bE,da+(dX?0:-ek),E+(dX?ek:0)],ep),eo?eo.animate({d:eu}):this.mark=cz.path(eu).attr({stroke:el,"stroke-width":ep}).add(dO)}if(et&&!isNaN(da)){da=da+er.x-(d1&&dX?d1*dv*(ed?-1:1):0),E=E+er.y-(d1&&!dX?d1*dv*(ed?1:-1):0),ao(er.y)||(E+=aJ(et.styles.lineHeight)*0.9-et.getBBox().height/2),c4&&(E+=ew/(ba||1)%c4*16),et.x=da,et.y=E,this.isFirst&&!aq(dk.showFirstLabel,1)||this.isLast&&!aq(dk.showLastLabel,1)?M=!1:!c4&&dX&&er.overflow==="justify"&&!this.handleOverflow(ew)&&(M=!1),ba&&ew%ba&&(M=!1),M?(et[this.isNew?"attr":"animate"]({x:et.x,y:et.y}),et.show(),this.isNew=!1):et.hide()}},destroy:function(){aB(this)}};dC.prototype={render:function(){var et=this,es=(d4.pointRange||0)/2,er=et.options,eq=er.label,eo=et.label,en=er.width,em=er.to,el=er.from,ek=er.value,db,da=er.dashStyle,E=et.svgElem,M=[],ba,C,eu=er.color;C=er.zIndex;var ep=er.events;dM&&(el=aW(el),em=aW(em),ek=aW(ek));if(en){if(M=dQ(ek,en),es={stroke:eu,"stroke-width":en},da){es.dashstyle=da}}else{if(ao(el)&&ao(em)){el=aI(el,dY-es),em=bf(em,dW+es),db=dQ(em),(M=dQ(el))&&db?M.push(db[4],db[5],db[1],db[2]):M=null,es={fill:eu}}else{return}}if(ao(C)){es.zIndex=C}if(E){M?E.animate({d:M},null,E.onGetPath):(E.hide(),E.onGetPath=function(){E.show()})}else{if(M&&M.length&&(et.svgElem=E=cz.path(M).attr(es).add(),ep)){for(ba in da=function(ev){E.on(ev,function(ew){ep[ev].apply(et,[ew])})},ep){da(ba)}}}if(eq&&ao(eq.text)&&M&&M.length&&d5>0&&dU>0){eq=aQ({align:dX&&db&&"center",x:dX?!db&&4:10,verticalAlign:!dX&&db&&"middle",y:dX?db?16:10:db?6:-4,rotation:dX&&!db&&90},eq);if(!eo){et.label=eo=cz.text(eq.text,0,0).attr({align:eq.textAlign||eq.align,rotation:eq.rotation,zIndex:C}).css(eq.style).add()}db=[M[1],M[4],aq(M[6],M[1])];M=[M[2],M[5],aq(M[7],M[2])];ba=a(db);C=a(M);eo.align(eq,!1,{x:ba,y:C,width:aZ(db)-ba,height:aZ(M)-C});eo.show()}else{eo&&eo.hide()}return et},destroy:function(){aB(this);bK(d6,this)}};dB.prototype={destroy:function(){aB(this)},setTotal:function(C){this.cum=this.total=C},render:function(E){var C=this.options.formatter.call(this);this.label?this.label.attr({text:C,visibility:bh}):this.label=b3.renderer.text(C,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:bh}).add(E)},setOffset:function(E,C){var ek=this.isNegative,db=d4.translate(this.total,0,0,0,1),da=d4.translate(0),da=bn(db-da),ba=b3.xAxis[0].translate(this.x)+E,M=b3.plotHeight,ek={x:cq?ek?db:db-da:ba,y:cq?M-ba-C:ek?M-db-da:M-db,width:cq?da:C,height:cq?C:da};this.label&&this.label.align(this.alignOptions,null,ek).attr({visibility:f})}};ei=function(E,C,el,ek,db){var da=1,ba=0,M=ek?c8:dv,ek=ek?d9:dY,db=dk.ordinal||dM&&db;M||(M=dv);el&&(da*=-1,ba=d2);ed&&(da*=-1,ba-=da*d2);C?(ed&&(E=d2-E),E=E/M+ek,db&&(E=d4.lin2val(E))):(db&&(E=d4.val2lin(E)),E=da*(E-ek)*M+ba+da*dd);return E};dQ=function(em,el,ek){var db,da,ba,em=ei(em,null,null,ek),M=ek&&cT||cX,E=ek&&cF||cP,C,ek=da=al(em+dP);db=ba=al(M-em-dP);if(isNaN(em)){C=!0}else{if(dX){if(db=dZ,ba=M-c1,ek<dg||ek>dg+d5){C=!0}}else{if(ek=dg,da=E-ee,db<dZ||db>dZ+dU){C=!0}}}return C?null:cz.crispLine([D,ek,db,bE,da,ba],el||0)};dt=function(){var E=dW-dY,C=0,ba,M;if(dl){c7?C=d0.pointRange:ar(d4.series,function(da){C=aI(C,da.pointRange);M=da.closestPointRange;!da.noSharedTooltip&&ao(M)&&(ba=ao(ba)?bf(ba,M):M)}),d4.pointRange=C,d4.closestPointRange=ba}c8=dv;d4.translationSlope=dv=d2/(E+C||1);dP=dX?dg:c1;dd=dv*(C/2)};p.push(d4);b3[dl?"xAxis":"yAxis"].push(d4);cq&&dl&&ed===aH&&(ed=!0);aO(d4,{addPlotBand:dr,addPlotLine:dr,adjustTickAmount:function(){if(cJ&&cJ[di]&&!dK&&!dJ&&!c7&&dk.alignTicks!==!1){var E=c0,C=dS.length;c0=cJ[di];if(C<c0){for(;dS.length<c0;){dS.push(aS(dS[dS.length-1]+d7))}dv*=(C-1)/(c0-1);dW=dS[dS.length-1]}if(ao(E)&&c0!==E){d4.isDirty=!0}}},categories:dJ,getExtremes:function(){return{min:dM?aS(at(dY)):dY,max:dM?aS(at(dW)):dW,dataMin:d3,dataMax:dT,userMin:dR,userMax:dp}},getPlotLinePath:dQ,getThreshold:function(E){var C=dM?at(dY):dY,M=dM?at(dW):dW;C>E||E===null?E=C:M<E&&(E=M);return ei(E,0,1,0,1)},isXAxis:dl,options:dk,plotLinesAndBands:d6,getOffset:function(){var em=d4.series.length&&ao(dY)&&ao(dW),el=em||aq(dk.showEmpty,!0),ek=0,db,da=0,ba=dk.title,M=dk.labels,E=[-1,1,1,-1][dm],C;dO||(dO=cz.g("axis").attr({zIndex:7}).add(),dN=cz.g("grid").attr({zIndex:dk.gridZIndex||1}).add());c3=0;if(em||c7){ar(dS,function(en){dH[en]?dH[en].addLabel():dH[en]=new dE(en)}),ar(dS,function(en){if(dm===0||dm===2||{1:"left",3:"right"}[dm]===M.align){c3=aI(dH[en].getLabelSize(),c3)}}),c4&&(c3+=(c4-1)*16)}else{for(C in dH){dH[C].destroy(),delete dH[C]}}if(ba&&ba.text){if(!dj){dj=d4.axisTitle=cz.text(ba.text,0,0,ba.useHTML).attr({zIndex:7,rotation:ba.rotation||0,align:ba.textAlign||{low:"left",middle:"center",high:"right"}[ba.align]}).css(ba.style).add(),dj.isNew=!0}if(el){ek=dj.getBBox()[dX?"height":"width"],da=aq(ba.margin,dX?5:10),db=ba.offset}dj[el?"show":"hide"]()}dL=E*aq(dk.offset,bR[dm]);cZ=aq(db,c3+da+(dm!==2&&c3&&E*dk.labels[dX?"y":"x"]));bR[dm]=aI(bR[dm],cZ+ek+E*dL)},render:dq,setAxisSize:function(){var E=dk.offsetLeft||0,C=dk.offsetRight||0;dg=aq(dk.left,cw+E);dZ=aq(dk.top,cy);d5=aq(dk.width,K-E+C);dU=aq(dk.height,cV);c1=cX-dU-dZ;ee=cP-d5-dg;d2=dX?d5:dU;d4.left=dg;d4.top=dZ;d4.len=d2},setAxisTranslation:dt,setCategories:function(C,E){d4.categories=dF.categories=dJ=C;ar(d4.series,function(M){M.translate();M.setTooltipPoints(!0)});d4.isDirty=!0;aq(E,!0)&&b3.redraw()},setExtremes:function(E,C,da,ba,M){da=aq(da,!0);M=aO(M,{min:E,max:C});bi(d4,"setExtremes",M,function(){dR=E;dp=C;d4.isDirtyExtremes=!0;da&&b3.redraw(ba)})},setScale:function(){var E,C,ba,M;d9=dY;d8=dW;dG=d2;d2=dX?d5:dU;M=d2!==dG;ar(d4.series,function(da){if(da.isDirtyData||da.isDirty||da.xAxis.isDirty){ba=!0}});if(M||ba||c7||dR!==eg||dp!==dV){dA();ds();eg=dR;dV=dp;if(!dl){for(E in c2){for(C in c2[E]){c2[E][C].cum=c2[E][C].total}}}if(!d4.isDirty){d4.isDirty=M||dY!==d9||dW!==d8}}},setTickPositions:ds,translate:ei,redraw:function(){cm.resetTracker&&cm.resetTracker();dq();ar(d6,function(C){C.render()});ar(d4.series,function(C){C.isDirty=!0})},removePlotBand:dn,removePlotLine:dn,reversed:ed,setTitle:function(E,C){dk.title=aQ(dk.title,E);dj=dj.destroy();d4.isDirty=!0;aq(C,!0)&&b3.redraw()},series:[],stacks:c2,destroy:function(){var C;ak(d4);for(C in c2){aB(c2[C]),c2[C]=null}if(d4.stackTotalGroup){d4.stackTotalGroup=d4.stackTotalGroup.destroy()}ar([dH,de,dw,d6],function(E){aB(E)});ar([eb,dO,dN,dj],function(E){E&&E.destroy()});eb=dO=dN=dj=null}});for(cY in dI){aR(d4,cY,dI[cY])}if(dM){d4.val2lin=aW,d4.lin2val=at}}function ch(c7){function c6(){var db=this.points||bs(this),da=db[0].series,c9;c9=[da.tooltipHeaderFormatter(db[0].key)];ar(db,function(dc){da=dc.series;c9.push(da.tooltipFormatter&&da.tooltipFormatter(dc)||dc.point.tooltipFormatter(da.tooltipOptions.pointFormat))});c9.push(c7.footerFormat||"");return c9.join("")}function c5(da,c9){M=E?da:(2*M+da)/3;C=E?c9:(C+c9)/2;c8.attr({x:M,y:C});cU=bn(da-M)>1||bn(c9-C)>1?function(){c5(da,c9)}:null}function c4(){if(!E){var c9=b3.hoverPoints;c8.hide();c9&&ar(c9,function(da){da.setState()});b3.hoverPoints=null;E=!0}}var c3,c2=c7.borderWidth,c1=c7.crosshairs,c0=[],cZ=c7.style,cY=c7.shared,ba=aJ(cZ.padding),E=!0,M=0,C=0;cZ.padding=0;var c8=cz.label("",0,0,null,null,null,c7.useHTML).attr({padding:ba,fill:c7.backgroundColor,"stroke-width":c2,r:c7.borderRadius,zIndex:8}).css(cZ).hide().add();m||c8.shadow(c7.shadow);return{shared:cY,refresh:function(dg){var df,dd,dc,db,c9={},dh=[];dc=dg.tooltipPos;df=c7.formatter||c6;var c9=b3.hoverPoints,di;cY&&(!dg.series||!dg.series.noSharedTooltip)?(db=0,c9&&ar(c9,function(dj){dj.setState()}),b3.hoverPoints=dg,ar(dg,function(dj){dj.setState(a9);db+=dj.plotY;dh.push(dj.getLabelConfig())}),dd=dg[0].plotX,db=al(db)/dg.length,c9={x:dg[0].category},c9.points=dh,dg=dg[0]):c9=dg.getLabelConfig();c9=df.call(c9);c3=dg.series;dd=aq(dd,dg.plotX);db=aq(db,dg.plotY);df=al(dc?dc[0]:cq?K-db:dd);dd=al(dc?dc[1]:cq?cV-dd:db);dc=cY||!c3.isCartesian||c3.tooltipOutsidePlot||b9(df,dd);c9===!1||!dc?c4():(E&&(c8.show(),E=!1),c8.attr({text:c9}),di=c7.borderColor||dg.color||c3.color||"#606060",c8.attr({stroke:di}),dc=aD(c8.width,c8.height,cw,cy,K,cV,{x:df,y:dd},aq(c7.distance,12),cq),c5(al(dc.x),al(dc.y)));if(c1){c1=bs(c1);var de;dc=c1.length;for(var da;dc--;){if(de=dg.series[dc?"yAxis":"xAxis"],c1[dc]&&de){if(de=de.getPlotLinePath(dc?aq(dg.stackY,dg.y):dg.x,1),c0[dc]){c0[dc].attr({d:de,visibility:f})}else{da={"stroke-width":c1[dc].width||1,stroke:c1[dc].color||"#C0C0C0",zIndex:c1[dc].zIndex||2};if(c1[dc].dashStyle){da.dashstyle=c1[dc].dashStyle}c0[dc]=cz.path(de).attr(da).add()}}}}bi(b3,"tooltipRefresh",{text:c9,x:df+cw,y:dd+cy,borderColor:di})},hide:c4,hideCrosshairs:function(){ar(c0,function(c9){c9&&c9.hide()})},destroy:function(){ar(c0,function(c9){c9&&c9.destroy()});c8&&(c8=c8.destroy())}}}function cg(c8){function c7(da){var dd,dc,db,da=da||au.event;if(!da.target){da.target=da.srcElement}if(da.originalEvent){da=da.originalEvent}if(da.event){da=da.event}dd=da.touches?da.touches.item(0):da;cS=bD(cD);dc=cS.left;db=cS.top;aj?(dc=da.x,dd=da.y):(dc=dd.pageX-dc,dd=dd.pageY-db);return aO(da,{chartX:al(dc),chartY:al(dd)})}function c5(db){var da={xAxis:[],yAxis:[]};ar(p,function(de){var dd=de.translate,dc=de.isXAxis;da[dc?"xAxis":"yAxis"].push({axis:de,value:dd((cq?!dc:dc)?db.chartX-cw:cV-db.chartY+cy,!0)})});return da}function c4(){var db=b3.hoverSeries,da=b3.hoverPoint;if(da){da.onMouseOut()}if(db){db.onMouseOut()}bS&&(bS.hide(),bS.hideCrosshairs());cf=null}function c3(){if(M){var db={xAxis:[],yAxis:[]},da=M.getBBox(),dd=da.x-cw,dc=da.y-cy;cY&&(ar(p,function(di){if(di.options.zoomEnabled!==!1){var dh=di.translate,dg=di.isXAxis,df=cq?!dg:dg,de=dh(df?dd:cV-dc-da.height,!0,0,0,1),dh=dh(df?dd+da.width:cV-dc,!0,0,0,1);db[dg?"xAxis":"yAxis"].push({axis:di,min:bf(de,dh),max:aI(de,dh)})}}),bi(b3,"selection",db,cH));M=M.destroy()}aK(cD,{cursor:"auto"});b3.mouseIsDown=cc=cY=!1;ak(am,bL?"touchend":"mouseup",c3)}function c2(db){var da=ao(db.pageX)?db.pageX:db.page.x,db=ao(db.pageX)?db.pageY:db.page.y;cS&&!b9(da-cS.left-cw,db-cS.top-cy)&&c4()}function c1(){c4();cS=null}var c0,cZ,cY,M,ba=m?"":b1.zoomType,c9=/x/.test(ba),C=/y/.test(ba),c6=c9&&!cq||C&&cq,E=C&&!cq||c9&&cq;if(!X){b3.trackerGroup=X=cz.g("tracker").attr({zIndex:9}).add()}if(c8.enabled){b3.tooltip=bS=ch(c8),cK=setInterval(function(){cU&&cU()},32)}(function(){cD.onmousedown=function(db){db=c7(db);!bL&&db.preventDefault&&db.preventDefault();b3.mouseIsDown=cc=!0;b3.mouseDownX=c0=db.chartX;cZ=db.chartY;aR(am,bL?"touchend":"mouseup",c3)};var da=function(dj){if(!dj||!(dj.touches&&dj.touches.length>1)){dj=c7(dj);if(!bL){dj.returnValue=!1}var di=dj.chartX,dh=dj.chartY,dg=!b9(di-cw,dh-cy);bL&&dj.type==="touchstart"&&(a6(dj.target,"isTracker")?b3.runTrackerClick||dj.preventDefault():!z&&!dg&&dj.preventDefault());dg&&(di<cw?di=cw:di>cw+K&&(di=cw+K),dh<cy?dh=cy:dh>cy+cV&&(dh=cy+cV));if(cc&&dj.type!=="touchstart"){if(cY=Math.sqrt(Math.pow(c0-di,2)+Math.pow(cZ-dh,2)),cY>10){var df=b9(c0-cw,cZ-cy);if(cO&&(c9||C)&&df){M||(M=cz.rect(cw,cy,c6?1:K,E?1:cV,0).attr({fill:b1.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())}M&&c6&&(dj=di-c0,M.attr({width:bn(dj),x:(dj>0?0:dj)+c0}));M&&E&&(dh-=cZ,M.attr({height:bn(dh),y:(dh>0?0:dh)+cZ}));df&&!M&&b1.panning&&b3.pan(di)}}else{if(!dg){var de,di=b3.hoverPoint,dh=b3.hoverSeries,dc,db,df=cP,dd=cq?dj.chartY:dj.chartX-cw;if(bS&&c8.shared&&(!dh||!dh.noSharedTooltip)){de=[];dc=ct.length;for(db=0;db<dc;db++){if(ct[db].visible&&ct[db].options.enableMouseTracking!==!1&&!ct[db].noSharedTooltip&&ct[db].tooltipPoints.length){dj=ct[db].tooltipPoints[dd],dj._dist=bn(dd-dj.plotX),df=bf(df,dj._dist),de.push(dj)}}for(dc=de.length;dc--;){de[dc]._dist>df&&de.splice(dc,1)}if(de.length&&de[0].plotX!==cf){bS.refresh(de),cf=de[0].plotX}}if(dh&&dh.tracker&&(dj=dh.tooltipPoints[dd])&&dj!==di){dj.onMouseOver()}}}return dg||!cO}};cD.onmousemove=da;aR(cD,"mouseleave",c1);aR(am,"mousemove",c2);cD.ontouchstart=function(db){if(c9||C){cD.onmousedown(db)}da(db)};cD.ontouchmove=da;cD.ontouchend=function(){cY&&c4()};cD.onclick=function(db){var de=b3.hoverPoint,db=c7(db);db.cancelBubble=!0;if(!cY){if(de&&(a6(db.target,"isTracker")||a6(db.target.parentNode,"isTracker"))){var dd=de.plotX,dc=de.plotY;aO(de,{pageX:cS.left+cw+(cq?K-dc:dd),pageY:cS.top+cy+(cq?cV-dd:dc)});bi(de.series,"click",aO(db,{point:de}));de.firePointEvent("click",db)}else{aO(db,c5(db)),b9(db.chartX-cw,db.chartY-cy)&&bi(b3,"click",db)}}cY=!1}})();aO(this,{zoomX:c9,zoomY:C,resetTracker:c4,normalizeMouseEvent:c7,destroy:function(){if(b3.trackerGroup){b3.trackerGroup=X=b3.trackerGroup.destroy()}ak(cD,"mouseleave",c1);ak(am,"mousemove",c2);cD.onclick=cD.onmousedown=cD.onmousemove=cD.ontouchstart=cD.ontouchend=cD.ontouchmove=null}})}function ce(E){var C=E.type||b1.type||b1.defaultSeriesType,ba=bt[C],M=b3.hasRendered;if(M){if(cq&&C==="column"){ba=bt.bar}else{if(!cq&&C==="bar"){ba=bt.column}}}C=new ba;C.init(b3,E);!M&&C.inverted&&(cq=!0);if(C.isCartesian){cO=C.isCartesian}ct.push(C);return C}function cd(){b1.alignTicks!==!1&&ar(p,function(C){C.adjustTickAmount()});cJ=null}function cb(E){var C=b3.isDirtyLegend,c0,cZ=b3.isDirtyBox,cY=ct.length,ba=cY,M=b3.clipRect;for(ad(E,b3);ba--;){if(E=ct[ba],E.isDirty&&E.options.stacking){c0=!0;break}}if(c0){for(ba=cY;ba--;){if(E=ct[ba],E.options.stacking){E.isDirty=!0}}}ar(ct,function(c1){c1.isDirty&&c1.options.legendType==="point"&&(C=!0)});if(C&&W.renderLegend){W.renderLegend(),b3.isDirtyLegend=!1}cO&&(P||(cJ=null,ar(p,function(c1){c1.setScale()})),cd(),bU(),ar(p,function(c1){if(c1.isDirtyExtremes){c1.isDirtyExtremes=!1,bi(c1,"afterSetExtremes",c1.getExtremes())}if(c1.isDirty||cZ){c1.redraw(),cZ=!0}}));cZ&&(L(),M&&(a8(M),M.animate({width:b3.plotSizeX,height:b3.plotSizeY+1})));ar(ct,function(c1){c1.isDirty&&c1.visible&&(!c1.isCartesian||c1.xAxis)&&c1.redraw()});cm&&cm.resetTracker&&cm.resetTracker();cz.draw();bi(b3,"redraw")}function b8(){var E=bY.xAxis||{},C=bY.yAxis||{},E=bs(E);ar(E,function(ba,M){ba.index=M;ba.isX=!0});C=bs(C);ar(C,function(ba,M){ba.index=M});E=E.concat(C);ar(E,function(M){new ci(M)});cd()}function b5(){var E=U.lang,C=b1.resetZoomButton,cY=C.theme,ba=cY.states,M=C.relativeTo==="chart"?null:{x:cw,y:cy,width:K,height:cV};b3.resetZoomButton=cz.button(E.resetZoom,null,null,A,cY,ba&&ba.hover).attr({align:C.position.align,title:E.resetZoomTitle}).add().align(C.position,!1,M)}function b6(E,C){cM=aQ(bY.title,E);ac=aQ(bY.subtitle,C);ar([["title",E,cM],["subtitle",C,ac]],function(ba){var M=ba[0],cZ=b3[M],cY=ba[1],ba=ba[2];cZ&&cY&&(cZ=cZ.destroy());ba&&ba.text&&!cZ&&(b3[M]=cz.text(ba.text,0,0,ba.useHTML).attr({align:ba.align,"class":a1+M,zIndex:ba.zIndex||4}).css(ba.style).add().align(ba,!1,b7))})}function b4(){cj=b1.renderTo;cC=a1+bH++;bF(cj)&&(cj=am.getElementById(cj));cj||O(13,!0);cj.innerHTML="";cj.offsetWidth||(cE=cj.cloneNode(0),aK(cE,{position:y,top:"-9999px",display:""}),am.body.appendChild(cE));cI=(cE||cj).offsetWidth;cA=(cE||cj).offsetHeight;b3.chartWidth=cP=b1.width||cI||600;b3.chartHeight=cX=b1.height||(cA>19?cA:400);b3.container=cD=bG(F,{className:a1+"container"+(b1.className?" "+b1.className:""),id:cC},aO({position:bo,overflow:bh,width:cP+bl,height:cX+bl,textAlign:"left",lineHeight:"normal"},b1.style),cE||cj);b3.renderer=cz=b1.forExport?new R(cD,cP,cX,!0):new G(cD,cP,cX);m&&cz.create(b3,cD,cP,cX);var E,C;bk&&cD.getBoundingClientRect&&(E=function(){aK(cD,{left:0,top:0});C=cD.getBoundingClientRect();aK(cD,{left:-(C.left-aJ(C.left))+bl,top:-(C.top-aJ(C.top))+bl})},E(),aR(au,"resize",E),aR(b3,"destroy",function(){ak(au,"resize",E)}))}function b2(){function E(cY){var ba=b1.width||cj.offsetWidth,M=b1.height||cj.offsetHeight,cY=cY?cY.target:au;if(ba&&M&&(cY===au||cY===am)){if(ba!==cI||M!==cA){clearTimeout(C),C=setTimeout(function(){cG(ba,M,!1)},100)}cI=ba;cA=M}}var C;aR(au,"resize",E);aR(b3,"destroy",function(){ak(au,"resize",E)})}function bZ(){b3&&bi(b3,"endResize",null,function(){P-=1})}function b0(){for(var E=cq||b1.inverted||b1.type==="bar"||b1.defaultSeriesType==="bar",C=bY.series,M=C&&C.length;!E&&M--;){C[M].type==="bar"&&(E=!0)}b3.inverted=cq=E}function co(){var E=bY.labels,C=bY.credits,M;b6();W=b3.legend=new S;ar(p,function(ba){ba.setScale()});bU();ar(p,function(ba){ba.setTickPositions(!0)});cd();bU();L();cO&&ar(p,function(ba){ba.render()});if(!b3.seriesGroup){b3.seriesGroup=cz.g("series-group").attr({zIndex:3}).add()}ar(ct,function(ba){ba.translate();ba.setTooltipPoints();ba.render()});E.items&&ar(E.items,function(){var ba=aO(E.style,this.style),cZ=aJ(ba.left)+cw,cY=aJ(ba.top)+cy+12;delete ba.left;delete ba.top;cz.text(this.html,cZ,cY).attr({zIndex:2}).css(ba).add()});if(C.enabled&&!b3.credits){M=C.href,b3.credits=cz.text(C.text,0,0).on("click",function(){if(M){location.href=M}}).attr({align:C.position.align,zIndex:8}).css(C.style).add().align(C.position)}b3.hasRendered=!0}function cp(){if(!aF&&au==au.top&&am.readyState!=="complete"||m&&!au.canvg){m?aP.push(cp,bY.global.canvasToolsURL):am.attachEvent("onreadystatechange",function(){am.detachEvent("onreadystatechange",cp);am.readyState==="complete"&&cp()})}else{b4();bi(b3,"init");if(Highcharts.RangeSelector&&bY.rangeSelector.enabled){b3.rangeSelector=new Highcharts.RangeSelector(b3)}cW();cN();b0();b8();ar(bY.series||[],function(C){ce(C)});if(Highcharts.Scroller&&(bY.navigator.enabled||bY.scrollbar.enabled)){b3.scroller=new Highcharts.Scroller(b3)}b3.render=co;b3.tracker=cm=new cg(bY.tooltip);co();cz.draw();ck&&ck.apply(b3,[b3]);ar(b3.callbacks,function(C){C.apply(b3,[b3])});cE&&(cj.appendChild(cD),bz(cE));bi(b3,"load")}}var bY,bV=cl.series;cl.series=null;bY=aQ(U,cl);bY.series=cl.series=bV;var b1=bY.chart,bV=b1.margin,bV=bq(bV)?bV:[bV,bV,bV,bV],cr=aq(b1.marginTop,bV[0]),bX=aq(b1.marginRight,bV[1]),cB=aq(b1.marginBottom,bV[2]),cu=aq(b1.marginLeft,bV[3]),ca=b1.spacingTop,cn=b1.spacingRight,cs=b1.spacingBottom,ab=b1.spacingLeft,b7,cM,ac,cy,cv,cx,cw,bR,cj,cE,cD,cC,cI,cA,cP,cX,cF,cT,cL,cQ,s,aa,b3=this,z=(bV=b1.events)&&!!bV.click,bT,b9,bS,cc,o,bQ,x,cV,K,cm,X,W,bW,cR,cS,cO=b1.showAxes,P=0,p=[],cJ,ct=[],cq,cz,cU,cK,cf,L,bU,cW,cN,cG,cH,A,S=function(){function du(C,dz){var dy=C.legendItem,dx=C.legendLine,dw=C.legendSymbol,M=dd.color,E=dz?dp.itemStyle.color:M,M=dz?C.color:M;dy&&dy.css({fill:E});dx&&dx.attr({stroke:M});dw&&dw.attr({stroke:M,fill:M})}function dt(C){var dy=C.legendItem,dx=C.legendLine,dw=C._legendItemPos,M=dw[0],dw=dw[1],E=C.legendSymbol,C=C.checkbox;dy&&dy.attr({x:dc?M:bW-M,y:dw});dx&&dx.translate(dc?M:bW-M,dw-4);E&&(dy=M+E.xOff,E.attr({x:dc?dy:bW-dy,y:dw+E.yOff}));if(C){C.x=M,C.y=dw}}function ds(){ar(dj,function(E){var C=E.checkbox,M=de.alignAttr;C&&aK(C,{left:M.translateX+E.legendItemWidth+C.x-40+bl,top:M.translateY+C.y-11+bl})})}function dr(dz){var dy,dx,dw,M,E=dz.legendItem;M=dz.series||dz;var C=M.options,dA=C&&C.borderWidth||0;if(!E){M=/^(bar|pie|area|column)$/.test(M.type);dz.legendItem=E=cz.text(dp.labelFormatter.call(dz),0,0,dp.useHTML).css(dz.visible?dg:dd).on("mouseover",function(){dz.setState(a9);E.css(dh)}).on("mouseout",function(){E.css(dz.visible?dg:dd);dz.setState()}).on("click",function(){var dC=function(){dz.setVisible()};dz.firePointEvent?dz.firePointEvent("legendItemClick",null,dC):bi(dz,"legendItemClick",null,dC)}).attr({align:dc?"left":"right",zIndex:2}).add(de);if(!M&&C&&C.lineWidth){var dB={"stroke-width":C.lineWidth,zIndex:2};if(C.dashStyle){dB.dashstyle=C.dashStyle}dz.legendLine=cz.path([D,(-dm-dl)*(dc?1:-1),0,bE,-dl*(dc?1:-1),0]).attr(dB).add(de)}if(M){dw=cz.rect(dy=-dm-dl,dx=-11,dm,12,2).attr({zIndex:3}).add(de),dc||(dy+=dm)}else{if(C&&C.marker&&C.marker.enabled){dw=C.marker.radius,dw=cz.symbol(dz.symbol,dy=-dm/2-dl-dw,dx=-4-dw,2*dw,2*dw).attr(dz.pointAttr[af]).attr({zIndex:3}).add(de),dc||(dy+=dm/2)}}if(dw){dw.xOff=dy+dA%2/2,dw.yOff=dx+dA%2/2}dz.legendSymbol=dw;du(dz,dz.visible);if(C&&C.showCheckbox){dz.checkbox=bG("input",{type:"checkbox",checked:dz.selected,defaultChecked:dz.selected},dp.itemCheckboxStyle,cD),aR(dz.checkbox,"click",function(dC){bi(dz,"checkboxClick",{checked:dC.target.checked},function(){dz.select()})})}}dy=E.getBBox();dx=dz.legendItemWidth=dp.itemWidth||dm+dl+dy.width+c9;c6=dy.height;if(dn&&da-cY+dx>(c3||cP-2*c9-cY)){da=cY,c2+=c4+c6+df}!dn&&c2+dp.y+c6>cX-ca-cs&&(c2=cZ,da+=ba,ba=0);ba=aI(ba,dx);c5=aI(c5,c2+df);dz._legendItemPos=[da,c2];dn?da+=dx:c2+=c4+c6+df;db=c3||aI(da-cY+(dn?0:dx),db)}function dq(){da=cY;c2=cZ;c5=db=0;de||(de=cz.g("legend").attr({zIndex:7}).add());dj=[];ar(c1,function(dx){var dw=dx.options;dw.showInLegend&&(dj=dj.concat(dx.legendItems||(dw.legendType==="point"?dx.data:dx)))});bO(dj,function(dx,dw){return(dx.options.legendIndex||0)-(dw.options.legendIndex||0)});dv&&dj.reverse();ar(dj,dr);bW=c3||db;cR=c5-c7+c6;if(c8||c0){bW+=2*c9;cR+=2*c9;if(dk){if(bW>0&&cR>0){dk[dk.isNew?"attr":"animate"](dk.crisp(null,null,null,bW,cR)),dk.isNew=!1}}else{dk=cz.rect(0,0,bW,cR,dp.borderRadius,c8||0).attr({stroke:dp.borderColor,"stroke-width":c8||0,fill:c0||bP}).add(de).shadow(dp.shadow),dk.isNew=!0}dk[dj.length?"show":"hide"]()}ar(dj,dt);for(var C=["left","right","top","bottom"],M,E=4;E--;){M=C[E],di[M]&&di[M]!=="auto"&&(dp[E<2?"align":"verticalAlign"]=M,dp[E<2?"x":"y"]=aJ(di[M])*(E%2?-1:1))}dj.length&&de.align(aO(dp,{width:bW,height:cR}),!0,b7);P||ds()}var dp=b3.options.legend;if(dp.enabled){var dn=dp.layout==="horizontal",dm=dp.symbolWidth,dl=dp.symbolPadding,dj,di=dp.style,dg=dp.itemStyle,dh=dp.itemHoverStyle,dd=aQ(dg,dp.itemHiddenStyle),c9=dp.padding||aJ(di.padding),dc=!dp.rtl,c4=dp.itemMarginTop||0,df=dp.itemMarginBottom||0,c7=18,ba=0,cY=4+c9+dm+dl,cZ=c9+c4+c7-5,da,c2,c5,c6=0,dk,c8=dp.borderWidth,c0=dp.backgroundColor,de,db,c3=dp.width,c1=b3.series,dv=dp.reversed;dq();aR(b3,"endResize",ds);return{colorizeItem:du,destroyItem:function(E){var C=E.checkbox;ar(["legendItem","legendLine","legendSymbol"],function(M){E[M]&&E[M].destroy()});C&&bz(E.checkbox)},renderLegend:dq,destroy:function(){dk&&(dk=dk.destroy());de&&(de=de.destroy())}}}};b9=function(E,C){return E>=0&&E<=K&&C>=0&&C<=cV};A=function(){var C=b3.resetZoomButton;bi(b3,"selection",{resetSelection:!0},cH);if(C){b3.resetZoomButton=C.destroy()}};cH=function(E){var C;b3.resetZoomEnabled!==!1&&!b3.resetZoomButton&&b5();!E||E.resetSelection?ar(p,function(M){M.options.zoomEnabled!==!1&&(M.setExtremes(null,null,!1),C=!0)}):ar(E.xAxis.concat(E.yAxis),function(M){var ba=M.axis;if(b3.tracker[ba.isXAxis?"zoomX":"zoomY"]){ba.setExtremes(M.min,M.max,!1),C=!0}});C&&cb(aq(b1.animation,b3.pointCount<100))};b3.pan=function(E){var C=b3.xAxis[0],cZ=b3.mouseDownX,cY=C.pointRange/2,ba=C.getExtremes(),M=C.translate(cZ-E,!0)+cY,cZ=C.translate(cZ+K-E,!0)-cY;(cY=b3.hoverPoints)&&ar(cY,function(c0){c0.setState()});M>bf(ba.dataMin,ba.min)&&cZ<aI(ba.dataMax,ba.max)&&C.setExtremes(M,cZ,!0,!1);b3.mouseDownX=E;aK(cD,{cursor:"move"})};bU=function(){var E=bY.legend,C=aq(E.margin,10),c0=E.x,cZ=E.y,cY=E.align,ba=E.verticalAlign,M;cW();if((b3.title||b3.subtitle)&&!ao(cr)){(M=aI(b3.title&&!cM.floating&&!cM.verticalAlign&&cM.y||0,b3.subtitle&&!ac.floating&&!ac.verticalAlign&&ac.y||0))&&(cy=aI(cy,M+aq(cM.margin,15)+ca))}E.enabled&&!E.floating&&(cY==="right"?ao(bX)||(cv=aI(cv,bW-c0+C+cn)):cY==="left"?ao(cu)||(cw=aI(cw,bW+c0+C+ab)):ba==="top"?ao(cr)||(cy=aI(cy,cR+cZ+C+ca)):ba==="bottom"&&(ao(cB)||(cx=aI(cx,cR-cZ+C+cs))));b3.extraBottomMargin&&(cx+=b3.extraBottomMargin);b3.extraTopMargin&&(cy+=b3.extraTopMargin);cO&&ar(p,function(c1){c1.getOffset()});ao(cu)||(cw+=bR[3]);ao(cr)||(cy+=bR[0]);ao(cB)||(cx+=bR[2]);ao(bX)||(cv+=bR[1]);cN()};cG=function(E,C,cY){var ba=b3.title,M=b3.subtitle;P+=1;ad(cY,b3);cT=cX;cF=cP;if(ao(E)){b3.chartWidth=cP=al(E)}if(ao(C)){b3.chartHeight=cX=al(C)}aK(cD,{width:cP+bl,height:cX+bl});cz.setSize(cP,cX,cY);K=cP-cw-cv;cV=cX-cy-cx;cJ=null;ar(p,function(cZ){cZ.isDirty=!0;cZ.setScale()});ar(ct,function(cZ){cZ.isDirty=!0});b3.isDirtyLegend=!0;b3.isDirtyBox=!0;bU();ba&&ba.align(null,null,b7);M&&M.align(null,null,b7);cb(cY);cT=null;bi(b3,"resize");bd===!1?bZ():setTimeout(bZ,bd&&bd.duration||500)};cN=function(){b3.plotLeft=cw=al(cw);b3.plotTop=cy=al(cy);b3.plotWidth=K=al(cP-cw-cv);b3.plotHeight=cV=al(cX-cy-cx);b3.plotSizeX=cq?cV:K;b3.plotSizeY=cq?K:cV;b7={x:ab,y:ca,width:cP-ab-cn,height:cX-ca-cs};ar(p,function(C){C.setAxisSize();C.setAxisTranslation()})};cW=function(){cy=aq(cr,ca);cv=aq(bX,cn);cx=aq(cB,cs);cw=aq(cu,ab);bR=[0,0,0,0]};L=function(){var E=b1.borderWidth||0,C=b1.backgroundColor,cZ=b1.plotBackgroundColor,cY=b1.plotBackgroundImage,ba,M={x:cw,y:cy,width:K,height:cV};ba=E+(b1.shadow?8:0);if(E||C){cL?cL.animate(cL.crisp(null,null,null,cP-ba,cX-ba)):cL=cz.rect(ba/2,ba/2,cP-ba,cX-ba,b1.borderRadius,E).attr({stroke:b1.borderColor,"stroke-width":E,fill:C||bP}).add().shadow(b1.shadow)}cZ&&(cQ?cQ.animate(M):cQ=cz.rect(cw,cy,K,cV,0).attr({fill:cZ}).add().shadow(b1.plotShadow));cY&&(s?s.animate(M):s=cz.image(cY,cw,cy,K,cV).add());b1.plotBorderWidth&&(aa?aa.animate(aa.crisp(null,cw,cy,K,cV)):aa=cz.rect(cw,cy,K,cV,0,b1.plotBorderWidth).attr({stroke:b1.plotBorderColor,"stroke-width":b1.plotBorderWidth,zIndex:4}).add());b3.isDirtyBox=!1};b1.reflow!==!1&&aR(b3,"load",b2);if(bV){for(bT in bV){aR(b3,bT,bV[bT])}}b3.options=bY;b3.series=ct;b3.xAxis=[];b3.yAxis=[];b3.addSeries=function(E,C,ba){var M;E&&(ad(ba,b3),C=aq(C,!0),bi(b3,"addSeries",{options:E},function(){M=ce(E);M.isDirty=!0;b3.isDirtyLegend=!0;C&&b3.redraw()}));return M};b3.animation=m?!1:aq(b1.animation,!0);b3.Axis=ci;b3.destroy=function(){var E,C=cD&&cD.parentNode;if(b3!==null){bi(b3,"destroy");ak(b3);for(E=p.length;E--;){p[E]=p[E].destroy()}for(E=ct.length;E--;){ct[E]=ct[E].destroy()}ar("title,subtitle,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector".split(","),function(ba){var M=b3[ba];M&&(b3[ba]=M.destroy())});ar([cL,aa,cQ,W,bS,cz,cm],function(M){M&&M.destroy&&M.destroy()});cL=aa=cQ=W=bS=cz=cm=null;if(cD){cD.innerHTML="",ak(cD),C&&bz(cD),cD=null}clearInterval(cK);for(E in b3){delete b3[E]}bY=b3=null}};b3.get=function(E){var C,ba,M;for(C=0;C<p.length;C++){if(p[C].options.id===E){return p[C]}}for(C=0;C<ct.length;C++){if(ct[C].options.id===E){return ct[C]}}for(C=0;C<ct.length;C++){M=ct[C].points||[];for(ba=0;ba<M.length;ba++){if(M[ba].id===E){return M[ba]}}}return null};b3.getSelectedPoints=function(){var C=[];ar(ct,function(E){C=C.concat(aU(E.points,function(M){return M.selected}))});return C};b3.getSelectedSeries=function(){return aU(ct,function(C){return C.selected})};b3.hideLoading=function(){o&&ap(o,{opacity:0},{duration:bY.loading.hideDuration||100,complete:function(){aK(o,{display:bP})}});x=!1};b3.initSeries=ce;b3.isInsidePlot=b9;b3.redraw=cb;b3.setSize=cG;b3.setTitle=b6;b3.showLoading=function(E){var C=bY.loading;o||(o=bG(F,{className:a1+"loading"},aO(C.style,{left:cw+bl,top:cy+bl,width:K+bl,height:cV+bl,zIndex:10,display:bP}),cD),bQ=bG("span",null,C.labelStyle,o));bQ.innerHTML=E||bY.lang.loading;x||(aK(o,{opacity:0,display:""}),ap(o,{opacity:C.style.opacity},{duration:C.showDuration||0}),x=!0)};b3.pointCount=0;b3.counters=new a4;cp()}var aH,am=document,au=window,aC=Math,al=aC.round,bA=aC.floor,c=aC.ceil,aI=aC.max,bf=aC.min,bn=aC.abs,T=aC.cos,a3=aC.sin,N=aC.PI,aw=N*2/360,j=navigator.userAgent,aj=/msie/i.test(j)&&!au.opera,H=am.documentMode===8,Q=/AppleWebKit/.test(j),bk=/Firefox/.test(j),aF=!!am.createElementNS&&!!am.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,ah=bk&&parseInt(j.split("Firefox/")[1],10)<4,m=!aF&&!aj&&!!am.createElement("canvas").getContext,G,bL=am.documentElement.ontouchstart!==aH,h={},bH=0,a7,U,bg,bd,u,aY,F="div",y="absolute",bo="relative",bh="hidden",a1="highcharts-",f="visible",bl="px",bP="none",D="M",bE="L",bJ="rgba(192,192,192,"+(aF?0.000001:0.002)+")",af="",a9="hover",B="millisecond",aA="second",Y="minute",ai="hour",aT="day",d="week",ax="month",bB="year",bx,bC,bj,av,J,q,bN,V,n,aN,bM,bv,an=au.HighchartsAdapter,aX=an||{},bp=aX.getScript,ar=aX.each,aU=aX.grep,bD=aX.offset,aG=aX.map,aQ=aX.merge,aR=aX.addEvent,ak=aX.removeEvent,bi=aX.fireEvent,ap=aX.animate,a8=aX.stop,bt={};au.Highcharts={};bg=function(P,M,L){if(!ao(M)||isNaN(M)){return"Invalid date"}var P=aq(P,"%Y-%m-%d %H:%M:%S"),K=new Date(M),E,C=K[bj](),A=K[av](),z=K[J](),x=K[q](),p=K[bN](),s=U.lang,o=s.weekdays,M={a:o[A].substr(0,3),A:o[A],d:by(z),e:z,b:s.shortMonths[x],B:s.months[x],m:by(x+1),y:p.toString().substr(2,2),Y:p,H:by(C),I:by(C%12||12),l:C%12||12,M:by(K[bC]()),p:C<12?"AM":"PM",P:C<12?"am":"pm",S:by(K.getSeconds()),L:by(al(M%1000),3)};for(E in M){P=P.replace("%"+E,M[E])}return L?P.substr(0,1).toUpperCase()+P.substr(1):P};a4.prototype={wrapColor:function(o){if(this.color>=o){this.color=0}},wrapSymbol:function(o){if(this.symbol>=o){this.symbol=0}}};aY=be(B,1,aA,1000,Y,60000,ai,3600000,aT,86400000,d,604800000,ax,2592000000,bB,31556952000);u={init:function(L,K,E){var K=K||"",C=L.shift,A=K.indexOf("C")>-1,z=A?7:3,x,K=K.split(" "),E=[].concat(E),s,p,o=function(M){for(x=M.length;x--;){M[x]===D&&M.splice(x+1,0,M[x+1],M[x+2],M[x+1],M[x+2])}};A&&(o(K),o(E));L.isArea&&(s=K.splice(K.length-6,6),p=E.splice(E.length-6,6));C===1&&(E=[].concat(E).splice(0,z).concat(E));L.shift=0;if(K.length){for(L=E.length;K.length<L;){C=[].concat(K).splice(K.length-z,z),A&&(C[z-6]=C[z-2],C[z-5]=C[z-1]),K=K.concat(C)}}s&&(K=K.concat(s),E=E.concat(p));return[K,E]},step:function(p,o,A,z){var x=[],s=p.length;if(A===1){x=z}else{if(s===o.length&&A<1){for(;s--;){z=parseFloat(p[s]),x[s]=isNaN(z)?p[s]:A*parseFloat(o[s]-z)+z}}else{x=o}}return x}};an&&an.init&&an.init(u);if(!an&&au.jQuery){var aL=jQuery,bp=aL.getScript,ar=function(p,o){for(var x=0,s=p.length;x<s;x++){if(o.call(p[x],p[x],x,p)===!1){return x}}},aU=aL.grep,aG=function(p,o){for(var z=[],x=0,s=p.length;x<s;x++){z[x]=o.call(p[x],p[x],x,p)}return z},aQ=function(){var o=arguments;return aL.extend(!0,null,o[0],o[1],o[2],o[3])},bD=function(o){return aL(o).offset()},aR=function(p,o,s){aL(p).bind(o,s)},ak=function(p,o,x){var s=am.removeEventListener?"removeEventListener":"detachEvent";am[s]&&!p[s]&&(p[s]=function(){});aL(p).unbind(o,x)},bi=function(p,o,C,A){var z=aL.Event(o),x="detached"+o,s;aO(z,C);p[o]&&(p[x]=p[o],p[o]=null);ar(["preventDefault","stopPropagation"],function(K){var E=z[K];z[K]=function(){try{E.call(z)}catch(L){K==="preventDefault"&&(s=!0)}}});aL(p).trigger(z);p[x]&&(p[o]=p[x],p[x]=null);A&&!z.isDefaultPrevented()&&!s&&A(z)},ap=function(p,o,x){var s=aL(p);if(o.d){p.toD=o.d,o.d=1}s.stop();s.animate(o,x)},a8=function(o){aL(o).stop()};aL.extend(aL.easing,{easeOutQuad:function(p,o,z,x,s){return -x*(o/=s)*(o-2)+z}});var aV=jQuery.fx,az=aV.step;ar(["cur","_default","width","height"],function(p,o){var z=o?az:aV.prototype,x=z[p],s;x&&(z[p]=function(A){A=o?A:this;s=A.elem;return s.attr?s.attr(A.prop,A.now):x.apply(this,arguments)})});az.d=function(p){var o=p.elem;if(!p.started){var s=u.init(o,o.d,o.toD);p.start=s[0];p.end=s[1];p.started=!0}o.attr("d",u.step(p.start,p.end,p.pos,o.toD))}}an={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};U={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.2.1/modules/canvas-tools.js"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:aQ(an,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:y,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:y,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:bo,top:"1em"},style:{position:y,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:m,snap:bL?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var a0={dateTimeLabelFormats:be(B,"%H:%M:%S.%L",aA,"%H:%M:%S",Y,"%H:%M",ai,"%H:%M",aT,"%e. %b",d,"%e. %b",ax,"%b '%y",bB,"%Y"),endOnTick:!1,gridLineColor:"#C0C0C0",labels:an,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},g=aQ(a0,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:an.style}}),aE={labels:{align:"right",x:-8,y:null},title:{rotation:270}},a5={labels:{align:"left",x:8,y:null},title:{rotation:90}},bb={labels:{align:"center",x:0,y:14,overflow:"justify"},title:{rotation:0}},bw=aQ(bb,{labels:{y:-5,overflow:"justify"}}),aM=U.plotOptions,an=aM.line;aM.spline=aQ(an);aM.scatter=aQ(an,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});aM.area=aQ(an,{threshold:0});aM.areaspline=aQ(aM.area);aM.column=aQ(an,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0});aM.bar=aQ(aM.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}});aM.pie=aQ(an,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}}});ag();var br=function(p){var o=[],s;(function(x){(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(x))?o=[aJ(s[1]),aJ(s[2]),aJ(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(x))&&(o=[aJ(s[1],16),aJ(s[2],16),aJ(s[3],16),1])})(p);return{get:function(x){return o&&!isNaN(o[0])?x==="rgb"?"rgb("+o[0]+","+o[1]+","+o[2]+")":x==="a"?o[3]:"rgba("+o.join(",")+")":p},brighten:function(x){if(bm(x)&&x!==0){var z;for(z=0;z<3;z++){o[z]+=aJ(x*255),o[z]<0&&(o[z]=0),o[z]>255&&(o[z]=255)}}return this},setOpacity:function(x){o[3]=x;return this}}};b.prototype={init:function(p,o){this.element=o==="span"?bG(o):am.createElementNS("http://www.w3.org/2000/svg",o);this.renderer=p;this.attrSetters={}},animate:function(p,o,s){o=aq(o,bd,!0);a8(this);if(o){o=aQ(o);if(s){o.complete=s}ap(this,p,o)}else{this.attr(p),s&&s()}},attr:function(X,W){var S,P,M,L,K=this.element,E=K.nodeName,C=this.renderer,z,A=this.attrSetters,x=this.shadows,s,p=this;bF(X)&&ao(W)&&(S=X,X={},X[S]=W);if(bF(X)){S=X,E==="circle"?S={x:"cx",y:"cy"}[S]||S:S==="strokeWidth"&&(S="stroke-width"),p=a6(K,S)||this[S]||0,S!=="d"&&S!=="visibility"&&(p=parseFloat(p))}else{for(S in X){if(z=!1,P=X[S],M=A[S]&&A[S](P,S),M!==!1){M!==aH&&(P=M);if(S==="d"){P&&P.join&&(P=P.join(" ")),/(NaN| {2}|^$)/.test(P)&&(P="M 0 0"),this.d=P}else{if(S==="x"&&E==="text"){for(M=0;M<K.childNodes.length;M++){L=K.childNodes[M],a6(L,"x")===a6(K,"x")&&a6(L,"x",P)}this.rotation&&a6(K,"transform","rotate("+this.rotation+" "+P+" "+aJ(X.y||a6(K,"y"))+")")}else{if(S==="fill"){P=C.color(P,K,S)}else{if(E==="circle"&&(S==="x"||S==="y")){S={x:"cx",y:"cy"}[S]||S}else{if(E==="rect"&&S==="r"){a6(K,{rx:P,ry:P}),z=!0}else{if(S==="translateX"||S==="translateY"||S==="rotation"||S==="verticalAlign"){this[S]=P,this.updateTransform(),z=!0}else{if(S==="stroke"){P=C.color(P,K,S)}else{if(S==="dashstyle"){if(S="stroke-dasharray",P=P&&P.toLowerCase(),P==="solid"){P=bP}else{if(P){P=P.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(M=P.length;M--;){P[M]=aJ(P[M])*X["stroke-width"]}P=P.join(",")}}}else{S==="isTracker"?this[S]=P:S==="width"?P=aJ(P):S==="align"?(S="text-anchor",P={left:"start",center:"middle",right:"end"}[P]):S==="title"&&(M=am.createElementNS("http://www.w3.org/2000/svg","title"),M.appendChild(am.createTextNode(P)),K.appendChild(M))}}}}}}}}S==="strokeWidth"&&(S="stroke-width");Q&&S==="stroke-width"&&P===0&&(P=0.000001);this.symbolName&&/^(x|y|r|start|end|innerR|anchorX|anchorY)/.test(S)&&(s||(this.symbolAttr(X),s=!0),z=!0);if(x&&/^(width|height|visibility|x|y|d|transform)$/.test(S)){for(M=x.length;M--;){a6(x[M],S,P)}}if((S==="width"||S==="height")&&E==="rect"&&P<0){P=0}S==="text"?(this.textStr=P,this.added&&C.buildText(this)):z||a6(K,S,P)}}}if(Q&&/Chrome\/(18|19)/.test(j)&&E==="text"&&(X.x!==aH||X.y!==aH)){S=K.parentNode,P=K.nextSibling,S&&(S.removeChild(K),P?S.insertBefore(K,P):S.appendChild(K))}return p},symbolAttr:function(p){var o=this;ar("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(s){o[s]=aq(p[s],o[s])});o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})},clip:function(o){return this.attr("clip-path","url("+this.renderer.url+"#"+o.id+")")},crisp:function(K,E,C,A,z){var x,s={},p={},o,K=K||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;o=al(K)%2/2;p.x=bA(E||this.x||0)+o;p.y=bA(C||this.y||0)+o;p.width=bA((A||this.width||0)-2*o);p.height=bA((z||this.height||0)-2*o);p.strokeWidth=K;for(x in p){this[x]!==p[x]&&(this[x]=s[x]=p[x])}return s},css:function(p){var o=this.element,o=p&&p.width&&o.nodeName==="text",z,x="",s=function(C,A){return"-"+A.toLowerCase()};if(p&&p.color){p.fill=p.color}this.styles=p=aO(this.styles,p);if(aj&&!aF){o&&delete p.width,aK(this.element,p)}else{for(z in p){x+=z.replace(/([A-Z])/g,s)+":"+p[z]+";"}this.attr({style:x})}o&&this.added&&this.renderer.buildText(this);return this},on:function(p,o){var s=o;bL&&p==="click"&&(p="touchstart",s=function(x){x.preventDefault();o()});this.element["on"+p]=s;return this},translate:function(p,o){return this.attr({translateX:p,translateY:o})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(p){var o=this.element;if(o=p&&o.tagName==="SPAN"&&p.width){delete p.width,this.textWidth=o,this.updateTransform()}this.styles=aO(this.styles,p);aK(this.element,p);return this},htmlGetBBox:function(p){var o=this.element,s=this.bBox;if(!s||p){if(o.nodeName==="text"){o.style.position=y}s=this.bBox={x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}}return s},htmlUpdateTransform:function(){if(this.added){var ba=this.renderer,ac=this.element,ab=this.translateX||0,aa=this.translateY||0,X=this.x||0,W=this.y||0,S=this.textAlign||"left",P={left:0,center:0.5,right:1}[S],M=S&&S!=="left",K=this.shadows;if(ab||aa){aK(ac,{marginLeft:ab,marginTop:aa}),K&&ar(K,function(bQ){aK(bQ,{marginLeft:ab+1,marginTop:aa+1})})}this.inverted&&ar(ac.childNodes,function(bQ){ba.invertChild(bQ,ac)});if(ac.tagName==="SPAN"){var L,E,K=this.rotation,C;L=0;var z=1,A=0,o;C=aJ(this.textWidth);var p=this.xCorr||0,x=this.yCorr||0,s=[K,S,ac.innerHTML,this.textWidth].join(",");if(s!==this.cTT){ao(K)&&(L=K*aw,z=T(L),A=a3(L),aK(ac,{filter:K?["progid:DXImageTransform.Microsoft.Matrix(M11=",z,", M12=",-A,", M21=",A,", M22=",z,", sizingMethod='auto expand')"].join(""):bP})),L=aq(this.elemWidth,ac.offsetWidth),E=aq(this.elemHeight,ac.offsetHeight),L>C&&(aK(ac,{width:C+bl,display:"block",whiteSpace:"normal"}),L=C),C=ba.fontMetrics(ac.style.fontSize).b,p=z<0&&-L,x=A<0&&-E,o=z*A<0,p+=A*C*(o?1-P:P),x-=z*C*(K?o?P:1-P:1),M&&(p-=L*P*(z<0?-1:1),K&&(x-=E*P*(A<0?-1:1)),aK(ac,{textAlign:S})),this.xCorr=p,this.yCorr=x}aK(ac,{left:X+p+bl,top:W+x+bl});this.cTT=s}}else{this.alignOnAdd=!0}},updateTransform:function(){var p=this.translateX||0,o=this.translateY||0,z=this.inverted,x=this.rotation,s=[];z&&(p+=this.attr("width"),o+=this.attr("height"));(p||o)&&s.push("translate("+p+","+o+")");z?s.push("rotate(90) scale(-1,1)"):x&&s.push("rotate("+x+" "+this.x+" "+this.y+")");s.length&&a6(this.element,"transform",s.join(" "))},toFront:function(){var o=this.element;o.parentNode.appendChild(o);return this},align:function(p,o,E){p?(this.alignOptions=p,this.alignByTranslate=o,E||this.renderer.alignedObjects.push(this)):(p=this.alignOptions,o=this.alignByTranslate);var E=aq(E,this.renderer),C=p.align,A=p.verticalAlign,z=(E.x||0)+(p.x||0),x=(E.y||0)+(p.y||0),s={};/^(right|center)$/.test(C)&&(z+=(E.width-(p.width||0))/{right:1,center:2}[C]);s[o?"translateX":"x"]=al(z);/^(bottom|middle)$/.test(A)&&(x+=(E.height-(p.height||0))/({bottom:1,middle:2}[A]||1));s[o?"translateY":"y"]=al(x);this[this.placed?"animate":"attr"](s);this.placed=!0;this.alignAttr=s;return this},getBBox:function(p){var o,A,z=this.rotation;A=this.element;var x=z*aw;if(A.namespaceURI==="http://www.w3.org/2000/svg"){try{o=A.getBBox?aO({},A.getBBox()):{width:A.offsetWidth,height:A.offsetHeight}}catch(s){}if(!o||o.width<0){o={width:0,height:0}}p=o.width;A=o.height;if(z){o.width=bn(A*a3(x))+bn(p*T(x)),o.height=bn(A*T(x))+bn(p*a3(x))}}else{o=this.htmlGetBBox(p)}return o},show:function(){return this.attr({visibility:f})},hide:function(){return this.attr({visibility:bh})},add:function(p){var o=this.renderer,E=p||o,C=E.element||o.box,A=C.childNodes,z=this.element,x=a6(z,"zIndex"),s;this.parentInverted=p&&p.inverted;this.textStr!==void 0&&o.buildText(this);if(x){E.handleZ=!0,x=aJ(x)}if(E.handleZ){for(E=0;E<A.length;E++){if(p=A[E],o=a6(p,"zIndex"),p!==z&&(aJ(o)>x||!ao(x)&&ao(o))){C.insertBefore(z,p);s=!0;break}}}s||C.appendChild(z);this.added=!0;bi(this,"add");return this},safeRemoveChild:function(p){var o=p.parentNode;o&&o.removeChild(p)},destroy:function(){var p=this,o=p.element||{},A=p.shadows,z=p.box,x,s;o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=null;a8(p);if(p.clipPath){p.clipPath=p.clipPath.destroy()}if(p.stops){for(s=0;s<p.stops.length;s++){p.stops[s]=p.stops[s].destroy()}p.stops=null}p.safeRemoveChild(o);A&&ar(A,function(C){p.safeRemoveChild(C)});z&&z.destroy();bK(p.renderer.alignedObjects,p);for(x in p){delete p[x]}return null},empty:function(){for(var p=this.element,o=p.childNodes,s=o.length;s--;){p.removeChild(o[s])}},shadow:function(p,o){var C=[],A,z,x=this.element,s=this.parentInverted?"(-1,-1)":"(1,1)";if(p){for(A=1;A<=3;A++){z=x.cloneNode(0),a6(z,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*A,"stroke-width":7-2*A,transform:"translate"+s,fill:bP}),o?o.element.appendChild(z):x.parentNode.insertBefore(z,x),C.push(z)}this.shadows=C}return this}};var R=function(){this.init.apply(this,arguments)};R.prototype={Element:b,init:function(p,o,A,z){var x=location,s;s=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});p.appendChild(s.element);this.isSVG=!0;this.box=s.element;this.boxWrapper=s;this.alignedObjects=[];this.url=aj?"":x.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1");this.defs=this.createElement("defs").add();this.forExport=z;this.gradients={};this.setSize(o,A,!1)},destroy:function(){var o=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();aB(this.gradients||{});this.gradients=null;if(o){this.defs=o.destroy()}return this.alignedObjects=null},createElement:function(p){var o=new this.Element;o.init(this,p);return o},draw:function(){},buildText:function(M){for(var L=M.element,K=aq(M.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),E=L.childNodes,C=/style="([^"]+)"/,A=/href="([^"]+)"/,z=a6(L,"x"),x=M.styles,s=x&&aJ(x.width),o=x&&x.lineHeight,p,x=E.length;x--;){L.removeChild(E[x])}s&&!M.added&&this.box.appendChild(L);K[K.length-1]===""&&K.pop();ar(K,function(aa,X){var P,S=0,W,aa=aa.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");P=aa.split("|||");ar(P,function(bR){if(bR!==""||P.length===1){var ab={},bQ=am.createElementNS("http://www.w3.org/2000/svg","tspan");C.test(bR)&&a6(bQ,"style",bR.match(C)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));A.test(bR)&&(a6(bQ,"onclick",'location.href="'+bR.match(A)[1]+'"'),aK(bQ,{cursor:"pointer"}));bR=(bR.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");bQ.appendChild(am.createTextNode(bR));S?ab.dx=3:ab.x=z;if(!S){if(X){!aF&&M.renderer.forExport&&aK(bQ,{display:"block"});W=au.getComputedStyle&&aJ(au.getComputedStyle(p,null).getPropertyValue("line-height"));if(!W||isNaN(W)){W=o||p.offsetHeight||18}a6(bQ,"dy",W)}p=bQ}a6(bQ,ab);L.appendChild(bQ);S++;if(s){for(var bR=bR.replace(/-/g,"- ").split(" "),ba,ac=[];bR.length||ac.length;){ba=M.getBBox().width,ab=ba>s,!ab||bR.length===1?(bR=ac,ac=[],bR.length&&(bQ=am.createElementNS("http://www.w3.org/2000/svg","tspan"),a6(bQ,{dy:o||16,x:z}),L.appendChild(bQ),ba>s&&(s=ba))):(bQ.removeChild(bQ.firstChild),ac.unshift(bR.pop())),bR.length&&bQ.appendChild(am.createTextNode(bR.join(" ").replace(/- /g,"-")))}}}})})},button:function(X,W,S,P,M,L,K){var E=this.label(X,W,S),C=0,z,A,x,s,p,X={x1:0,y1:0,x2:0,y2:1},M=aQ(be("stroke-width",1,"stroke","#999","fill",be("linearGradient",X,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",be("color","black")),M);x=M.style;delete M.style;L=aQ(M,be("stroke","#68A","fill",be("linearGradient",X,"stops",[[0,"#FFF"],[1,"#ACF"]])),L);s=L.style;delete L.style;K=aQ(M,be("stroke","#68A","fill",be("linearGradient",X,"stops",[[0,"#9BD"],[1,"#CDF"]])),K);p=K.style;delete K.style;aR(E.element,"mouseenter",function(){E.attr(L).css(s)});aR(E.element,"mouseleave",function(){z=[M,L,K][C];A=[x,s,p][C];E.attr(z).css(A)});E.setState=function(o){(C=o)?o===2&&E.attr(K).css(p):E.attr(M).css(x)};return E.on("click",function(){P.call(E)}).attr(M).css(aO({cursor:"default"},x))},crispLine:function(p,o){p[1]===p[4]&&(p[1]=p[4]=al(p[1])+o%2/2);p[2]===p[5]&&(p[2]=p[5]=al(p[2])+o%2/2);return p},path:function(o){return this.createElement("path").attr({d:o,fill:bP})},circle:function(p,o,s){p=bq(p)?p:{x:p,y:o,r:s};return this.createElement("circle").attr(p)},arc:function(p,o,A,z,x,s){if(bq(p)){o=p.y,A=p.r,z=p.innerR,x=p.start,s=p.end,p=p.x}return this.symbol("arc",p||0,o||0,A||0,A||0,{innerR:z||0,start:x||0,end:s||0})},rect:function(p,o,A,z,x,s){if(bq(p)){o=p.y,A=p.width,z=p.height,x=p.r,s=p.strokeWidth,p=p.x}x=this.createElement("rect").attr({rx:x,ry:x,fill:bP});return x.attr(x.crisp(s,p,o,aI(A,0),aI(z,0)))},setSize:function(p,o,z){var x=this.alignedObjects,s=x.length;this.width=p;this.height=o;for(this.boxWrapper[aq(z,!0)?"animate":"attr"]({width:p,height:o});s--;){x[s].align()}},g:function(p){var o=this.createElement("g");return ao(p)?o.attr({"class":a1+p}):o},image:function(p,o,A,z,x){var s={preserveAspectRatio:bP};arguments.length>1&&aO(s,{x:o,y:A,width:z,height:x});s=this.createElement("image").attr(s);s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",p):s.element.setAttribute("hc-svg-href",p);return s},symbol:function(M,L,K,E,C,A){var z,x=this.symbols[M],x=x&&x(al(L),al(K),E,C,A),s=/^url\((.*?)\)$/,o;if(x){z=this.path(x),aO(z,{symbolName:M,x:L,y:K,width:E,height:C}),A&&aO(z,A)}else{if(s.test(M)){var p=function(S,P){S.attr({width:P[0],height:P[1]}).translate(-al(P[0]/2),-al(P[1]/2))};o=M.match(s)[1];M=h[o];z=this.image(o).attr({x:L,y:K});M?p(z,M):(z.attr({width:0,height:0}),bG("img",{onload:function(){p(z,h[o]=[this.width,this.height])},src:o}))}}return z},symbols:{circle:function(p,o,z,x){var s=0.166*z;return[D,p+z/2,o,"C",p+z+s,o,p+z+s,o+x,p+z/2,o+x,"C",p-s,o+x,p-s,o,p+z/2,o,"Z"]},square:function(p,o,x,s){return[D,p,o,bE,p+x,o,p+x,o+s,p,o+s,"Z"]},triangle:function(p,o,x,s){return[D,p+x/2,o,bE,p+x,o+s,p,o+s,"Z"]},"triangle-down":function(p,o,x,s){return[D,p,o,bE,p+x,o,p+x/2,o+s,"Z"]},diamond:function(p,o,x,s){return[D,p+x/2,o,bE,p+x,o+s/2,p+x/2,o+s,p,o+s/2,"Z"]},arc:function(L,K,E,C,A){var z=A.start,E=A.r||E||C,x=A.end-0.000001,C=A.innerR,s=T(z),p=a3(z),o=T(x),x=a3(x),A=A.end-z<N?0:1;return[D,L+E*s,K+E*p,"A",E,E,0,A,1,L+E*o,K+E*x,bE,L+C*o,K+C*x,"A",C,C,0,A,0,L+C*s,K+C*p,"Z"]}},clipRect:function(p,o,A,z){var x=a1+bH++,s=this.createElement("clipPath").attr({id:x}).add(this.defs),p=this.rect(p,o,A,z,0).add(s);p.id=x;p.clipPath=s;return p},color:function(W,S,P){var M,L=/^rgba/;if(W&&W.linearGradient){var K=this,E=W.linearGradient,S=!k(E),P=K.gradients,C,A=E.x1||E[0]||0,x=E.y1||E[1]||0,z=E.x2||E[2]||0,s=E.y2||E[3]||0,p,X,o=[S,A,x,z,s,W.stops.join(",")].join(",");P[o]?E=a6(P[o].element,"id"):(E=a1+bH++,C=K.createElement("linearGradient").attr(aO({id:E,x1:A,y1:x,x2:z,y2:s},S?null:{gradientUnits:"userSpaceOnUse"})).add(K.defs),C.stops=[],ar(W.stops,function(aa){L.test(aa[1])?(M=br(aa[1]),p=M.get("rgb"),X=M.get("a")):(p=aa[1],X=1);aa=K.createElement("stop").attr({offset:aa[0],"stop-color":p,"stop-opacity":X}).add(C);C.stops.push(aa)}),P[o]=C);return"url("+this.url+"#"+E+")"}else{return L.test(W)?(M=br(W),a6(S,P+"-opacity",M.get("a")),M.get("rgb")):(S.removeAttribute(P+"-opacity"),W)}},text:function(p,o,z,x){var s=U.chart.style;if(x&&!this.forExport){return this.html(p,o,z)}o=al(aq(o,0));z=al(aq(z,0));p=this.createElement("text").attr({x:o,y:z,text:p}).css({fontFamily:s.fontFamily,fontSize:s.fontSize});p.x=o;p.y=z;return p},html:function(p,o,E){var C=U.chart.style,A=this.createElement("span"),z=A.attrSetters,x=A.element,s=A.renderer;z.text=function(K){x.innerHTML=K;return !1};z.x=z.y=z.align=function(L,K){K==="align"&&(K="textAlign");A[K]=L;A.htmlUpdateTransform();return !1};A.attr({text:p,x:al(o),y:al(E)}).css({position:y,whiteSpace:"nowrap",fontFamily:C.fontFamily,fontSize:C.fontSize});A.css=A.htmlCss;if(s.isSVG){A.add=function(L){var K,P,M=s.box.parentNode;if(L){if(K=L.div,!K){K=L.div=bG(F,{className:a6(L.element,"class")},{position:y,left:L.attr("translateX")+bl,top:L.attr("translateY")+bl},M),P=K.style,aO(L.attrSetters,{translateX:function(S){P.left=S+bl},translateY:function(S){P.top=S+bl},visibility:function(W,S){P[S]=W}})}}else{K=M}K.appendChild(x);A.added=!0;A.alignOnAdd&&A.htmlUpdateTransform();return A}}return A},fontMetrics:function(p){var p=aJ(p||11),p=p<24?p+4:al(p*1.2),o=al(p*0.8);return{h:p,b:o}},label:function(bZ,bY,bX,bW,bV,bU,bT,bS){function bR(){var x=X.styles,x=x&&x.textAlign,p=K,A;A=bS?0:aa;if(ao(z)&&(x==="center"||x==="right")){p+={center:0.5,right:1}[x]*(z-W.width)}(p!==L.x||A!==L.y)&&L.attr({x:p,y:A});L.x=p;L.y=A}function ac(x,p){M?M.attr(x,p):C[x]=p}function ba(){X.attr({text:bZ,x:bY,y:bX,anchorX:bV,anchorY:bU})}var ab=this,X=ab.g(),L=ab.text("",0,0,bT).attr({zIndex:1}).add(X),M,W,o="left",K=3,z,P,s,S,E=0,C={},aa,bT=X.attrSetters;aR(X,"add",ba);bT.width=function(p){z=p;return !1};bT.height=function(p){P=p;return !1};bT.padding=function(p){ao(p)&&p!==K&&(K=p,bR());return !1};bT.align=function(p){o=p;return !1};bT.text=function(x,p){L.attr(p,x);var A;A=L.element.style;W=(z===void 0||P===void 0||X.styles.textAlign)&&L.getBBox(!0);X.width=(z||W.width)+2*K;X.height=(P||W.height)+2*K;aa=K+ab.fontMetrics(A&&A.fontSize).b;if(!M){A=bS?-aa:0,X.box=M=bW?ab.symbol(bW,0,A,X.width,X.height):ab.rect(0,A,X.width,X.height,0,C["stroke-width"]),M.add(X)}M.attr(aQ({width:X.width,height:X.height},C));C=null;bR();return !1};bT["stroke-width"]=function(x,p){E=x%2/2;ac(p,x);return !1};bT.stroke=bT.fill=bT.r=function(x,p){ac(p,x);return !1};bT.anchorX=function(x,p){bV=x;ac(p,x+E-s);return !1};bT.anchorY=function(x,p){bU=x;ac(p,x-S);return !1};bT.x=function(p){p-={left:0,center:0.5,right:1}[o]*((z||W.width)+K);s=X.x=al(p);X.attr("translateX",s);return !1};bT.y=function(p){S=X.y=al(p);X.attr("translateY",p);return !1};var bQ=X.css;return aO(X,{css:function(x){if(x){var p={},x=aQ({},x);ar("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(A){x[A]!==aH&&(p[A]=x[A],delete x[A])});L.css(p)}return bQ.call(X,x)},getBBox:function(){return M.getBBox()},shadow:function(p){M.shadow(p);return X},destroy:function(){ak(X,"add",ba);ak(X.element,"mouseenter");ak(X.element,"mouseleave");L&&(L=L.destroy());b.prototype.destroy.call(X)}})}};G=R;var a2;if(!aF&&!m){a2={init:function(p,o){var x=["<",o,' filled="f" stroked="f"'],s=["position: ",y,";"];(o==="shape"||o===F)&&s.push("left:0;top:0;width:10px;height:10px;");H&&s.push("visibility: ",o===F?bh:f);x.push(' style="',s.join(""),'"/>');if(o){x=o===F||o==="span"||o==="img"?x.join(""):p.prepVML(x),this.element=bG(x)}this.renderer=p;this.attrSetters={}},add:function(p){var o=this.renderer,x=this.element,s=o.box,s=p?p.element||p:s;p&&p.inverted&&o.invertChild(x,s);H&&s.gVis===bh&&aK(x,{visibility:bh});s.appendChild(x);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();bi(this,"add");return this},toggleChildren:function(p,o){for(var x=p.childNodes,s=x.length;s--;){aK(x[s],{visibility:o}),x[s].nodeName==="DIV"&&this.toggleChildren(x[s],o)}},updateTransform:b.prototype.htmlUpdateTransform,attr:function(aa,X){var W,S,P,M=this.element||{},L=M.style,K=M.nodeName,E=this.renderer,A=this.symbolName,C,z=this.shadows,x,s=this.attrSetters,p=this;bF(aa)&&ao(X)&&(W=aa,aa={},aa[W]=X);if(bF(aa)){W=aa,p=W==="strokeWidth"||W==="stroke-width"?this.strokeweight:this[W]}else{for(W in aa){if(S=aa[W],x=!1,P=s[W]&&s[W](S,W),P!==!1&&S!==null){P!==aH&&(S=P);if(A&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(W)){C||(this.symbolAttr(aa),C=!0),x=!0}else{if(W==="d"){S=S||[];this.d=S.join(" ");P=S.length;for(x=[];P--;){x[P]=bm(S[P])?al(S[P]*10)-5:S[P]==="Z"?"x":S[P]}S=x.join(" ")||"x";M.path=S;if(z){for(P=z.length;P--;){z[P].path=S}}x=!0}else{if(W==="zIndex"||W==="visibility"){if(H&&W==="visibility"&&K==="DIV"){M.gVis=S,this.toggleChildren(M,S),S===f&&(S=null)}S&&(L[W]=S);x=!0}else{if(W==="width"||W==="height"){S=aI(0,S),this[W]=S,this.updateClipping?(this[W]=S,this.updateClipping()):L[W]=S,x=!0}else{if(W==="x"||W==="y"){this[W]=S,L[{x:"left",y:"top"}[W]]=S}else{if(W==="class"){M.className=S}else{if(W==="stroke"){S=E.color(S,M,W),W="strokecolor"}else{if(W==="stroke-width"||W==="strokeWidth"){M.stroked=S?!0:!1,W="strokeweight",this[W]=S,bm(S)&&(S+=bl)}else{if(W==="dashstyle"){(M.getElementsByTagName("stroke")[0]||bG(E.prepVML(["<stroke/>"]),null,null,M))[W]=S||"solid",this.dashstyle=S,x=!0}else{if(W==="fill"){K==="SPAN"?L.color=S:(M.filled=S!==bP?!0:!1,S=E.color(S,M,W),W="fillcolor")}else{if(W==="translateX"||W==="translateY"||W==="rotation"){this[W]=S,this.updateTransform(),x=!0}else{if(W==="text"){this.bBox=null,M.innerHTML=S,x=!0}}}}}}}}}}}}if(z&&W==="visibility"){for(P=z.length;P--;){z[P].style[W]=S}}x||(H?M[W]=S:a6(M,W,S))}}}return p},clip:function(p){var o=this,s=p.members;s.push(o);o.destroyClip=function(){bK(s,o)};return o.css(p.getCSS(o.inverted))},css:b.prototype.htmlCss,safeRemoveChild:function(o){o.parentNode&&bz(o)},destroy:function(){this.destroyClip&&this.destroyClip();return b.prototype.destroy.apply(this)},empty:function(){for(var p=this.element.childNodes,o=p.length,s;o--;){s=p[o],s.parentNode.removeChild(s)}},on:function(p,o){this.element["on"+p]=function(){var s=au.event;s.target=s.srcElement;o(s)};return this},shadow:function(L,K){var E=[],C,A=this.element,z=this.renderer,x,s=A.style,p,o=A.path;o&&typeof o.value!=="string"&&(o="x");if(L){for(C=1;C<=3;C++){p=['<shape isShadow="true" strokeweight="',7-2*C,'" filled="false" path="',o,'" coordsize="100,100" style="',A.style.cssText,'" />'],x=bG(z.prepVML(p),null,{left:aJ(s.left)+1,top:aJ(s.top)+1}),p=['<stroke color="black" opacity="',0.05*C,'"/>'],bG(z.prepVML(p),null,null,x),K?K.element.appendChild(x):A.parentNode.insertBefore(x,A),E.push(x)}this.shadows=E}return this}},a2=ae(b,a2),an={Element:a2,isIE8:j.indexOf("MSIE 8.0")>-1,init:function(p,o,z){var x,s;this.alignedObjects=[];x=this.createElement(F);s=x.element;s.style.position=bo;p.appendChild(x.element);this.box=s;this.boxWrapper=x;this.setSize(o,z,!1);if(!am.namespaces.hcv){am.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),am.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},clipRect:function(p,o,z,x){var s=this.createElement();return aO(s,{members:[],left:p,top:o,width:z,height:x,getCSS:function(C){var A=this.top,L=this.left,K=L+this.width,E=A+this.height,A={clip:"rect("+al(C?L:A)+"px,"+al(C?E:K)+"px,"+al(C?K:E)+"px,"+al(C?A:L)+"px)"};!C&&H&&aO(A,{width:K+bl,height:E+bl});return A},updateClipping:function(){ar(s.members,function(A){A.css(s.getCSS(A.inverted))})}})},color:function(aa,X,W){var S,P=/^rgba/;if(aa&&aa.linearGradient){var M,L,K=aa.linearGradient,E=K.x1||K[0]||0,A=K.y1||K[1]||0,C=K.x2||K[2]||0,K=K.y2||K[3]||0,z,x,s,o;ar(aa.stops,function(ab,p){P.test(ab[1])?(S=br(ab[1]),M=S.get("rgb"),L=S.get("a")):(M=ab[1],L=1);p?(s=M,o=L):(z=M,x=L)});if(W==="fill"){aa=90-aC.atan((K-A)/(C-E))*180/N,aa=['<fill colors="0% ',z,",100% ",s,'" angle="',aa,'" opacity="',o,'" o:opacity2="',x,'" type="gradient" focus="100%" method="sigma" />'],bG(this.prepVML(aa),null,null,X)}else{return M}}else{if(P.test(aa)&&X.tagName!=="IMG"){return S=br(aa),aa=["<",W,' opacity="',S.get("a"),'"/>'],bG(this.prepVML(aa),null,null,X),S.get("rgb")}else{X=X.getElementsByTagName(W);if(X.length){X[0].opacity=1}return aa}}},prepVML:function(p){var o=this.isIE8,p=p.join("");o?(p=p.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),p=p.indexOf('style="')===-1?p.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):p.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):p=p.replace("<","<hcv:");return p},text:R.prototype.html,path:function(o){return this.createElement("shape").attr({coordsize:"100 100",d:o})},circle:function(p,o,s){return this.symbol("circle").attr({x:p-s,y:o-s,width:2*s,height:2*s})},g:function(p){var o;p&&(o={className:a1+p,"class":a1+p});return this.createElement(F).attr(o)},image:function(p,o,A,z,x){var s=this.createElement("img").attr({src:p});arguments.length>1&&s.css({left:o,top:A,width:z,height:x});return s},rect:function(p,o,C,A,z,x){if(bq(p)){o=p.y,C=p.width,A=p.height,x=p.strokeWidth,p=p.x}var s=this.symbol("rect");s.r=z;return s.attr(s.crisp(x,p,o,aI(C,0),aI(A,0)))},invertChild:function(p,o){var s=o.style;aK(p,{flip:"x",left:aJ(s.width)-10,top:aJ(s.height)-10,rotation:-90})},symbols:{arc:function(P,M,L,K,E){var C=E.start,A=E.end,L=E.r||L||K,K=T(C),z=a3(C),x=T(A),p=a3(A),E=E.innerR,s=0.08/L,o=E&&0.25/E||0;if(A-C===0){return["x"]}else{2*N-A+C<s?x=-s:A-C<o&&(x=T(C+o))}return["wa",P-L,M-L,P+L,M+L,P+L*K,M+L*z,P+L*x,M+L*p,"at",P-E,M-E,P+E,M+E,P+E*x,M+E*p,P+E*K,M+E*z,"x","e"]},circle:function(p,o,x,s){return["wa",p,o,p+x,o+s,p+x,o+s/2,p+x,o+s/2,"e"]},rect:function(p,o,C,A,z){if(!ao(z)){return[]}var x=p+C,s=o+A,C=bf(z.r||0,C,A);return[D,p+C,o,bE,x-C,o,"wa",x-2*C,o,x,o+2*C,x-C,o,x,o+C,bE,x,s-C,"wa",x-2*C,s-2*C,x,s,x,s-C,x-C,s,bE,p+C,s,"wa",p,s-2*C,p+2*C,s,p+C,s,p,s-C,bE,p,o+C,"wa",p,o,p+2*C,o+2*C,p,o+C,p+C,o,"x","e"]}}},a2=function(){this.init.apply(this,arguments)},a2.prototype=aQ(R.prototype,an),G=a2}var ay,aP;m&&(ay=function(){},aP=function(){function p(){var s=o.length,x;for(x=0;x<s;x++){o[x]()}o=[]}var o=[];return{push:function(x,s){o.length===0&&bp(s,p);o.push(x)}}}());G=a2||ay||R;v.prototype.callbacks=[];var bI=function(){};bI.prototype={init:function(p,o,x){var s=p.chart.counters;this.series=p;this.applyOptions(o,x);this.pointAttr={};if(p.options.colorByPoint){o=p.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||o[s.color++];s.wrapColor(o.length)}p.chart.pointCount++;return this},applyOptions:function(p,o){var x=this.series,s=typeof p;this.config=p;if(s==="number"||p===null){this.y=p}else{if(typeof p[0]==="number"){this.x=p[0],this.y=p[1]}else{if(s==="object"&&typeof p.length!=="number"){if(aO(this,p),this.options=p,p.dataLabels){x._hasPointLabels=!0}}else{if(typeof p[0]==="string"){this.name=p[0],this.y=p[1]}}}}if(this.x===aH){this.x=o===aH?x.autoIncrement():o}},destroy:function(){var p=this.series,o=p.chart.hoverPoints,s;p.chart.pointCount--;o&&(this.setState(),bK(o,this));if(this===p.chart.hoverPoint){this.onMouseOut()}p.chart.hoverPoints=null;if(this.graphic||this.dataLabel){ak(this),this.destroyElements()}this.legendItem&&this.series.chart.legend.destroyItem(this);for(s in this){this[s]=null}},destroyElements:function(){for(var p="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),o,s=6;s--;){o=p[s],this[o]&&(this[o]=this[o].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(p,o){var x=this,s=x.series.chart,p=aq(p,!x.selected);x.firePointEvent(p?"select":"unselect",{accumulate:o},function(){x.selected=p;x.setState(p&&"select");o||ar(s.getSelectedPoints(),function(z){if(z.selected&&z!==x){z.selected=!1,z.setState(af),z.firePointEvent("unselect")}})})},onMouseOver:function(){var p=this.series,o=p.chart,x=o.tooltip,s=o.hoverPoint;if(s&&s!==this){s.onMouseOut()}this.firePointEvent("mouseOver");x&&(!x.shared||p.noSharedTooltip)&&x.refresh(this);this.setState(a9);o.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(L){var K=this.series,E=K.tooltipOptions,C=String(this.y).split("."),C=C[1]?C[1].length:0,A=L.match(/\{(series|point)\.[a-zA-Z]+\}/g),z=/[{\.}]/,x,s,p,o;for(o in A){s=A[o],bF(s)&&s!==L&&(p=(" "+s).split(z),x={point:this,series:K}[p[1]],p=p[2],x=x===this&&(p==="y"||p==="open"||p==="high"||p==="low"||p==="close")?(E.valuePrefix||E.yPrefix||"")+I(this[p],aq(E.valueDecimals,E.yDecimals,C))+(E.valueSuffix||E.ySuffix||""):x[p],L=L.replace(s,x))}return L},update:function(L,K,E){var C=this,A=C.series,z=C.graphic,x,s=A.data,p=s.length,o=A.chart,K=aq(K,!0);C.firePointEvent("update",{options:L},function(){C.applyOptions(L);bq(L)&&(A.getAttribs(),z&&z.attr(C.pointAttr[A.state]));for(x=0;x<p;x++){if(s[x]===C){A.xData[x]=C.x;A.yData[x]=C.y;A.options.data[x]=L;break}}A.isDirty=!0;A.isDirtyData=!0;K&&o.redraw(E)})},remove:function(p,o){var E=this,C=E.series,A=C.chart,z,x=C.data,s=x.length;ad(o,A);p=aq(p,!0);E.firePointEvent("remove",null,function(){for(z=0;z<s;z++){if(x[z]===E){x.splice(z,1);C.options.data.splice(z,1);C.xData.splice(z,1);C.yData.splice(z,1);break}}E.destroy();C.isDirty=!0;C.isDirtyData=!0;p&&A.redraw()})},firePointEvent:function(p,o,z){var x=this,s=this.series.options;(s.point.events[p]||x.options&&x.options.events&&x.options.events[p])&&this.importEvents();p==="click"&&s.allowPointSelect&&(z=function(A){x.select(null,A.ctrlKey||A.metaKey||A.shiftKey)});bi(this,p,o,z)},importEvents:function(){if(!this.hasImportedEvents){var p=aQ(this.series.options.point,this.options).events,o;this.events=p;for(o in p){aR(this,o,p[o])}this.hasImportedEvents=!0}},setState:function(P){var M=this.plotX,L=this.plotY,K=this.series,E=K.options.states,C=aM[K.type].marker&&K.options.marker,A=C&&!C.enabled,z=C&&C.states[P],x=z&&z.enabled===!1,p=K.stateMarkerGraphic,s=K.chart,o=this.pointAttr,P=P||af;if(!(P===this.state||this.selected&&P!=="select"||E[P]&&E[P].enabled===!1||P&&(x||A&&!z.enabled))){if(this.graphic){E=C&&this.graphic.symbolName&&o[P].r,this.graphic.attr(aQ(o[P],E?{x:M-E,y:L-E,width:2*E,height:2*E}:{}))}else{if(P){if(!p){E=C.radius,K.stateMarkerGraphic=p=s.renderer.symbol(K.symbol,-E,-E,2*E,2*E).attr(o[P]).add(K.group)}p.translate(M,L)}if(p){p[P?"show":"hide"]()}}this.state=P}}};var bu=function(){};bu.prototype={isCartesian:!0,type:"line",pointClass:bI,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(p,o){var x,s;s=p.series.length;this.chart=p;this.options=o=this.setOptions(o);this.bindAxes();aO(this,{index:s,name:o.name||"Series "+(s+1),state:af,pointAttr:{},visible:o.visible!==!1,selected:o.selected===!0});if(m){o.animation=!1}s=o.events;for(x in s){aR(this,x,s[x])}if(s&&s.click||o.point&&o.point.events&&o.point.events.click||o.allowPointSelect){p.runTrackerClick=!0}this.getColor();this.getSymbol();this.setData(o.data,!1)},bindAxes:function(){var p=this,o=p.options,x=p.chart,s;p.isCartesian&&ar(["xAxis","yAxis"],function(z){ar(x[z],function(A){s=A.options;if(o[z]===s.index||o[z]===aH&&s.index===0){A.series.push(p),p[z]=A,A.isDirty=!0}})})},autoIncrement:function(){var p=this.options,o=this.xIncrement,o=aq(o,p.pointStart,0);this.pointInterval=aq(this.pointInterval,p.pointInterval,1);this.xIncrement=o+this.pointInterval;return o},getSegments:function(){var p=-1,o=[],z,x=this.points,s=x.length;if(s){if(this.options.connectNulls){for(z=s;z--;){x[z].y===null&&x.splice(z,1)}x.length&&(o=[x])}else{ar(x,function(C,A){C.y===null?(A>p+1&&o.push(x.slice(p+1,A)),p=A):A===s-1&&o.push(x.slice(p+1,A+1))})}}this.segments=o},setOptions:function(p){var o=this.chart.options,x=o.plotOptions,s=p.data;p.data=null;x=aQ(x[this.type],x.series,p);x.data=p.data=s;this.tooltipOptions=aQ(o.tooltip,x.tooltip);return x},getColor:function(){var p=this.chart.options.colors,o=this.chart.counters;this.color=this.options.color||p[o.color++]||"#0000ff";o.wrapColor(p.length)},getSymbol:function(){var p=this.options.marker,o=this.chart,s=o.options.symbols,o=o.counters;this.symbol=p.symbol||s[o.symbol++];if(/^url/.test(this.symbol)){p.radius=0}o.wrapSymbol(s.length)},addPoint:function(P,M,L,K){var E=this.data,C=this.graph,A=this.area,z=this.chart,x=this.xData,p=this.yData,s=C&&C.shift||0,o=this.options.data;ad(K,z);if(C&&L){C.shift=s+1}if(A){if(L){A.shift=s+1}A.isArea=!0}M=aq(M,!0);K={series:this};this.pointClass.prototype.applyOptions.apply(K,[P]);x.push(K.x);p.push(this.valueCount===4?[K.open,K.high,K.low,K.close]:K.y);o.push(P);L&&(E[0]?E[0].remove(!1):(E.shift(),x.shift(),p.shift(),o.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;M&&z.redraw()},setData:function(M,L){var K=this.points,E=this.options,C=this.initialColor,A=this.chart,z=null;this.xIncrement=null;this.pointRange=this.xAxis&&this.xAxis.categories&&1||E.pointRange;if(ao(C)){A.counters.color=C}var x=[],s=[],o=M?M.length:[],p=this.valueCount===4;if(o>(E.turboThreshold||1000)){for(C=0;z===null&&C<o;){z=M[C],C++}if(bm(z)){z=aq(E.pointStart,0);E=aq(E.pointInterval,1);for(C=0;C<o;C++){x[C]=z,s[C]=M[C],z+=E}this.xIncrement=z}else{if(k(z)){if(p){for(C=0;C<o;C++){E=M[C],x[C]=E[0],s[C]=E.slice(1,5)}}else{for(C=0;C<o;C++){E=M[C],x[C]=E[0],s[C]=E[1]}}}}}else{for(C=0;C<o;C++){E={series:this},this.pointClass.prototype.applyOptions.apply(E,[M[C]]),x[C]=E.x,s[C]=p?[E.open,E.high,E.low,E.close]:E.y}}this.data=[];this.options.data=M;this.xData=x;this.yData=s;for(C=K&&K.length||0;C--;){K[C]&&K[C].destroy&&K[C].destroy()}this.isDirty=this.isDirtyData=A.isDirtyBox=!0;aq(L,!0)&&A.redraw(!1)},remove:function(p,o){var x=this,s=x.chart,p=aq(p,!0);if(!x.isRemoving){x.isRemoving=!0,bi(x,"remove",null,function(){x.destroy();s.isDirtyLegend=s.isDirtyBox=!0;p&&s.redraw(o)})}x.isRemoving=!1},processData:function(P){var M=this.xData,L=this.yData,K=M.length,E=0,C=K,A,z,x=this.xAxis,p=this.options,s=p.cropThreshold,o=this.isCartesian;if(o&&!this.isDirty&&!x.isDirty&&!this.yAxis.isDirty&&!P){return !1}if(o&&this.sorted&&(!s||K>s||this.forceCrop)){if(P=x.getExtremes(),x=P.min,s=P.max,M[K-1]<x||M[0]>s){M=[],L=[]}else{if(M[0]<x||M[K-1]>s){for(P=0;P<K;P++){if(M[P]>=x){E=aI(0,P-1);break}}for(;P<K;P++){if(M[P]>s){C=P+1;break}}M=M.slice(E,C);L=L.slice(E,C);A=!0}}}for(P=M.length-1;P>0;P--){if(K=M[P]-M[P-1],K>0&&(z===aH||K<z)){z=K}}this.cropped=A;this.cropStart=E;this.processedXData=M;this.processedYData=L;if(p.pointRange===null){this.pointRange=z||1}this.closestPointRange=z},generatePoints:function(){var S=this.options.data,P=this.data,M,L=this.processedXData,K=this.processedYData,E=this.pointClass,C=L.length,A=this.cropStart||0,z,s=this.hasGroupedData,x,p=[],o;if(!P&&!s){P=[],P.length=S.length,P=this.data=P}for(o=0;o<C;o++){z=A+o,s?p[o]=(new E).init(this,[L[o]].concat(bs(K[o]))):(P[z]?x=P[z]:P[z]=x=(new E).init(this,S[z],L[o]),p[o]=x)}if(P&&(C!==(M=P.length)||s)){for(o=0;o<M;o++){o===A&&!s&&(o+=C),P[o]&&P[o].destroyElements()}}this.data=P;this.points=p},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var ac=this.chart,ab=this.options,aa=ab.stacking,X=this.xAxis,W=X.categories,S=this.yAxis,P=this.points,M=P.length,L=!!this.modifyValue,E,K=S.series,C=K.length;C--;){if(K[C].visible){C===this.index&&(E=!0);break}}for(C=0;C<M;C++){var K=P[C],A=K.x,z=K.y,s=K.low,x=S.stacks[(z<ab.threshold?"-":"")+this.stackKey];K.plotX=al(X.translate(A,0,0,0,1)*10)/10;if(aa&&this.visible&&x&&x[A]){s=x[A];A=s.total;s.cum=s=s.cum-z;z=s+z;if(E){s=ab.threshold}aa==="percent"&&(s=A?s*100/A:0,z=A?z*100/A:0);K.percentage=A?K.y*100/A:0;K.stackTotal=A;K.stackY=z}K.yBottom=ao(s)?S.translate(s,0,1,0,1):null;L&&(z=this.modifyValue(z,K));K.plotY=typeof z==="number"?al(S.translate(z,0,1,0,1)*10)/10:aH;K.clientX=ac.inverted?ac.plotHeight-K.plotX:K.plotX;K.category=W&&W[K.x]!==aH?W[K.x]:K.x}this.getSegments()},setTooltipPoints:function(K){var E=this.chart,C=E.inverted,A=[],E=al((C?E.plotTop:E.plotLeft)+E.plotSizeX),z,x;z=this.xAxis;var s,p,o=[];if(this.options.enableMouseTracking!==!1){if(K){this.tooltipPoints=null}ar(this.segments||this.points,function(L){A=A.concat(L)});z&&z.reversed&&(A=A.reverse());K=A.length;for(p=0;p<K;p++){s=A[p];z=A[p-1]?A[p-1]._high+1:0;for(x=s._high=A[p+1]?bA((s.plotX+(A[p+1]?A[p+1].plotX:E))/2):E;z<=x;){o[C?E-z++:z++]=s}}this.tooltipPoints=o}},tooltipHeaderFormatter:function(p){var o=this.tooltipOptions,x=o.xDateFormat||"%A, %b %e, %Y",s=this.xAxis;return o.headerFormat.replace("{point.key}",s&&s.options.type==="datetime"?bg(x,p):p).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var p=this.chart,o=p.hoverSeries;if(bL||!p.mouseIsDown){if(o&&o!==this){o.onMouseOut()}this.options.events.mouseOver&&bi(this,"mouseOver");this.setState(a9);p.hoverSeries=this}},onMouseOut:function(){var p=this.options,o=this.chart,x=o.tooltip,s=o.hoverPoint;if(s){s.onMouseOut()}this&&p.events.mouseOut&&bi(this,"mouseOut");x&&!p.stickyTracking&&!x.shared&&x.hide();this.setState();o.hoverSeries=null},animate:function(p){var o=this.chart,x=this.clipRect,s=this.options.animation;s&&!bq(s)&&(s={});if(p){if(!x.isAnimating){x.attr("width",0),x.isAnimating=!0}}else{x.animate({width:o.plotSizeX},s),this.animate=null}},drawPoints:function(){var M,L=this.points,K=this.chart,E,C,A,z,x,s,o,p;if(this.options.marker.enabled){for(A=L.length;A--;){if(z=L[A],E=z.plotX,C=z.plotY,p=z.graphic,C!==aH&&!isNaN(C)){if(M=z.pointAttr[z.selected?"select":af],x=M.r,s=aq(z.marker&&z.marker.symbol,this.symbol),o=s.indexOf("url")===0,p){p.animate(aO({x:E-x,y:C-x},p.symbolName?{width:2*x,height:2*x}:{}))}else{if(x>0||o){z.graphic=K.renderer.symbol(s,E-x,C-x,2*x,2*x).attr(M).add(this.group)}}}}}},convertAttribs:function(p,o,E,C){var A=this.pointAttrToOptions,z,x,s={},p=p||{},o=o||{},E=E||{},C=C||{};for(z in A){x=A[z],s[z]=aq(p[x],o[z],E[z],C[z])}return s},getAttribs:function(){var P=this,M=aM[P.type].marker?P.options.marker:P.options,L=M.states,K=L[a9],E,C=P.color,A={stroke:C,fill:C},z=P.points,x=[],p,s=P.pointAttrToOptions,o;P.options.marker?(K.radius=K.radius||M.radius+2,K.lineWidth=K.lineWidth||M.lineWidth+1):K.color=K.color||br(K.color||C).brighten(K.brightness).get();x[af]=P.convertAttribs(M,A);ar([a9,"select"],function(S){x[S]=P.convertAttribs(L[S],x[af])});P.pointAttr=x;for(C=z.length;C--;){A=z[C];if((M=A.options&&A.options.marker||A.options)&&M.enabled===!1){M.radius=0}E=!1;if(A.options){for(o in s){ao(M[s[o]])&&(E=!0)}}if(E){p=[];L=M.states||{};E=L[a9]=L[a9]||{};if(!P.options.marker){E.color=br(E.color||A.options.color).brighten(E.brightness||K.brightness).get()}p[af]=P.convertAttribs(M,x[af]);p[a9]=P.convertAttribs(L[a9],x[a9],p[af]);p.select=P.convertAttribs(L.select,x.select,p[af])}else{p=x}A.pointAttr=p}},destroy:function(){var L=this,K=L.chart,E=L.clipRect,C=/AppleWebKit\/533/.test(j),A,z,x=L.data||[],s,p,o;bi(L,"destroy");ak(L);ar(["xAxis","yAxis"],function(M){if(o=L[M]){bK(o.series,L),o.isDirty=!0}});L.legendItem&&L.chart.legend.destroyItem(L);for(z=x.length;z--;){(s=x[z])&&s.destroy&&s.destroy()}L.points=null;if(E&&E!==K.clipRect){L.clipRect=E.destroy()}ar(["area","graph","dataLabelsGroup","group","tracker"],function(M){L[M]&&(A=C&&M==="group"?"hide":"destroy",L[M][A]())});if(K.hoverSeries===L){K.hoverSeries=null}bK(K.series,L);for(p in L){delete L[p]}},drawDataLabels:function(){var bX=this,bW=bX.options,bV=bW.dataLabels;if(bV.enabled||bX._hasPointLabels){var bU,bT,bS=bX.points,bR,bQ,ba,ab=bX.dataLabelsGroup,ac=bX.chart,aa=bX.xAxis,aa=aa?aa.left:ac.plotLeft,W=bX.yAxis,W=W?W.top:ac.plotTop,L=ac.renderer,M=ac.inverted,o=bX.type,p=bW.stacking,K=o==="column"||o==="bar",z=bV.verticalAlign===null,P=bV.y===null,s=L.fontMetrics(bV.style.fontSize),S=s.h,C=s.b,E,X;K&&(s={top:C,middle:C-S/2,bottom:-S+C},p?(z&&(bV=aQ(bV,{verticalAlign:"middle"})),P&&(bV=aQ(bV,{y:s[bV.verticalAlign]}))):z?bV=aQ(bV,{verticalAlign:"top"}):P&&(bV=aQ(bV,{y:s[bV.verticalAlign]})));ab?ab.translate(aa,W):ab=bX.dataLabelsGroup=L.g("data-labels").attr({visibility:bX.visible?f:bh,zIndex:6}).translate(aa,W).add();bQ=bV;ar(bS,function(A){E=A.dataLabel;bV=bQ;(bR=A.options)&&bR.dataLabels&&(bV=aQ(bV,bR.dataLabels));if(X=bV.enabled){var x=A.barX&&A.barX+A.barW/2||aq(A.plotX,-999),bZ=aq(A.plotY,-999),bY=bV.y===null?A.y>=bW.threshold?-S+C:C:bV.y;bU=(M?ac.plotWidth-bZ:x)+bV.x;bT=al((M?ac.plotHeight-x:bZ)+bY)}if(E&&bX.isCartesian&&(!ac.isInsidePlot(bU,bT)||!X)){A.dataLabel=E.destroy()}else{if(X){x=bV.align;ba=bV.formatter.call(A.getLabelConfig(),bV);o==="column"&&(bU+={left:-1,right:1}[x]*A.barW/2||0);!p&&M&&A.y<0&&(x="right",bU-=10);bV.style.color=aq(bV.color,bV.style.color,bX.color,"black");if(E){E.attr({text:ba}).animate({x:bU,y:bT})}else{if(ao(ba)){E=A.dataLabel=L[bV.rotation?"text":"label"](ba,bU,bT,null,null,null,bV.useHTML,!0).attr({align:x,fill:bV.backgroundColor,stroke:bV.borderColor,"stroke-width":bV.borderWidth,r:bV.borderRadius,rotation:bV.rotation,padding:bV.padding,zIndex:1}).css(bV.style).add(ab).shadow(bV.shadow)}}if(K&&bW.stacking&&E){x=A.barX,bZ=A.barY,bY=A.barW,A=A.barH,E.align(bV,null,{x:M?ac.plotWidth-bZ-A:x,y:M?ac.plotHeight-x-bY:bZ,width:M?A:bY,height:M?bY:A})}}}})}},drawGraph:function(){var X=this,W=X.options,S=X.graph,P=[],M,L=X.area,K=X.group,E=W.lineColor||X.color,C=W.lineWidth,z=W.dashStyle,A,x=X.chart.renderer,p=X.yAxis.getThreshold(W.threshold),aa=/^area/.test(X.type),o=[],ab=[];ar(X.segments,function(bQ){A=[];ar(bQ,function(bS,bR){X.getPointSpline?A.push.apply(A,X.getPointSpline(bQ,bS,bR)):(A.push(bR?bE:D),bR&&W.step&&A.push(bS.plotX,bQ[bR-1].plotY),A.push(bS.plotX,bS.plotY))});bQ.length>1?P=P.concat(A):o.push(bQ[0]);if(aa){var ba=[],ac,s=A.length;for(ac=0;ac<s;ac++){ba.push(A[ac])}s===3&&ba.push(bE,A[1],A[2]);if(W.stacking&&X.type!=="areaspline"){for(ac=bQ.length-1;ac>=0;ac--){ac<bQ.length-1&&W.step&&ba.push(bQ[ac+1].plotX,bQ[ac].yBottom),ba.push(bQ[ac].plotX,bQ[ac].yBottom)}}else{ba.push(bE,bQ[bQ.length-1].plotX,p,bE,bQ[0].plotX,p)}ab=ab.concat(ba)}});X.graphPath=P;X.singlePoints=o;if(aa){M=aq(W.fillColor,br(X.color).setOpacity(W.fillOpacity||0.75).get()),L?L.animate({d:ab}):X.area=X.chart.renderer.path(ab).attr({fill:M}).add(K)}if(S){a8(S),S.animate({d:P})}else{if(C){S={stroke:E,"stroke-width":C};if(z){S.dashstyle=z}X.graph=x.path(P).attr(S).add(K).shadow(W.shadow)}}},invertGroups:function(){function p(){var A={width:o.yAxis.len,height:o.xAxis.len};z.attr(A).invert();x&&x.attr(A).invert()}var o=this,z=o.group,x=o.trackerGroup,s=o.chart;aR(s,"resize",p);aR(o,"destroy",function(){ak(s,"resize",p)});p();o.invertGroups=p},render:function(){var K=this,E=K.chart,C,A=K.options,z=A.clip!==!1,x=A.animation,s=x&&K.animate,x=s?x&&x.duration||500:0,p=K.clipRect,o=E.renderer;if(!p&&(p=K.clipRect=!E.hasRendered&&E.clipRect?E.clipRect:o.clipRect(0,0,E.plotSizeX,E.plotSizeY+1),!E.clipRect)){E.clipRect=p}if(!K.group){C=K.group=o.g("series"),C.attr({visibility:K.visible?f:bh,zIndex:A.zIndex}).translate(K.xAxis.left,K.yAxis.top).add(E.seriesGroup)}K.drawDataLabels();s&&K.animate(!0);K.getAttribs();K.drawGraph&&K.drawGraph();K.drawPoints();K.options.enableMouseTracking!==!1&&K.drawTracker();E.inverted&&K.invertGroups();z&&!K.hasRendered&&(C.clip(p),K.trackerGroup&&K.trackerGroup.clip(E.clipRect));s&&K.animate();setTimeout(function(){p.isAnimating=!1;if((C=K.group)&&p!==E.clipRect&&p.renderer){if(z){C.clip(K.clipRect=E.clipRect)}p.destroy()}},x);K.isDirty=K.isDirtyData=!1;K.hasRendered=!0},redraw:function(){var p=this.chart,o=this.isDirtyData,s=this.group;s&&(p.inverted&&s.attr({width:p.plotWidth,height:p.plotHeight}),s.animate({translateX:this.xAxis.left,translateY:this.yAxis.top}));this.translate();this.setTooltipPoints(!0);this.render();o&&bi(this,"updatedData")},setState:function(p){var o=this.options,x=this.graph,s=o.states,o=o.lineWidth,p=p||af;if(this.state!==p){this.state=p,s[p]&&s[p].enabled===!1||(p&&(o=s[p].lineWidth||o+1),x&&!x.dashstyle&&x.attr({"stroke-width":o},p?0:500))}},setVisible:function(L,K){var E=this.chart,C=this.legendItem,A=this.group,z=this.tracker,x=this.dataLabelsGroup,s,p=this.points,o=E.options.chart.ignoreHiddenSeries;s=this.visible;s=(this.visible=L=L===aH?!s:L)?"show":"hide";if(A){A[s]()}if(z){z[s]()}else{if(p){for(A=p.length;A--;){if(z=p[A],z.tracker){z.tracker[s]()}}}}if(x){x[s]()}C&&E.legend.colorizeItem(this,L);this.isDirty=!0;this.options.stacking&&ar(E.series,function(M){if(M.options.stacking&&M.visible){M.isDirty=!0}});if(o){E.isDirtyBox=!0}K!==!1&&E.redraw();bi(this,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(o){this.selected=o=o===aH?!this.selected:o;if(this.checkbox){this.checkbox.checked=o}bi(this,o?"select":"unselect")},drawTrackerGroup:function(){var p=this.trackerGroup,o=this.chart;if(this.isCartesian){if(!p){this.trackerGroup=p=o.renderer.g().attr({zIndex:this.options.zIndex||1}).add(o.trackerGroup)}p.translate(this.xAxis.left,this.yAxis.top)}return p},drawTracker:function(){var P=this,M=P.options,L=[].concat(P.graphPath),K=L.length,E=P.chart,C=E.renderer,A=E.options.tooltip.snap,z=P.tracker,x=M.cursor,x=x&&{cursor:x},p=P.singlePoints,s=P.drawTrackerGroup(),o;if(K){for(o=K+1;o--;){L[o]===D&&L.splice(o+1,0,L[o+1]-A,L[o+2],bE),(o&&L[o]===D||o===K)&&L.splice(o,0,bE,L[o-2]+A,L[o-1])}}for(o=0;o<p.length;o++){K=p[o],L.push(D,K.plotX-A,K.plotY,bE,K.plotX+A,K.plotY)}z?z.attr({d:L}):P.tracker=C.path(L).attr({isTracker:!0,stroke:bJ,fill:bP,"stroke-linejoin":"bevel","stroke-width":M.lineWidth+2*A,visibility:P.visible?f:bh}).on(bL?"touchstart":"mouseover",function(){if(E.hoverSeries!==P){P.onMouseOver()}}).on("mouseout",function(){if(!M.stickyTracking){P.onMouseOut()}}).css(x).add(s)}};an=ae(bu);bt.line=an;an=ae(bu,{type:"area"});bt.area=an;an=ae(bu,{type:"spline",getPointSpline:function(P,M,L){var K=M.plotX,E=M.plotY,C=P[L-1],A=P[L+1],z,x,p,s;if(L&&L<P.length-1){P=C.plotY;p=A.plotX;var A=A.plotY,o;z=(1.5*K+C.plotX)/2.5;x=(1.5*E+P)/2.5;p=(1.5*K+p)/2.5;s=(1.5*E+A)/2.5;o=(s-x)*(p-K)/(p-z)+E-s;x+=o;s+=o;x>P&&x>E?(x=aI(P,E),s=2*E-x):x<P&&x<E&&(x=bf(P,E),s=2*E-x);s>A&&s>E?(s=aI(A,E),x=2*E-s):s<A&&s<E&&(s=bf(A,E),x=2*E-s);M.rightContX=p;M.rightContY=s}L?(M=["C",C.rightContX||C.plotX,C.rightContY||C.plotY,z||K,x||E,K,E],C.rightContX=C.rightContY=null):M=[D,K,E];return M}});bt.spline=an;an=ae(an,{type:"areaspline"});bt.areaspline=an;var bc=ae(bu,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){bu.prototype.init.apply(this,arguments);var p=this,o=p.chart;o.hasRendered&&ar(o.series,function(s){if(s.type===p.type){s.isDirty=!0}})},translate:function(){var bQ=this,ba=bQ.chart,ac=bQ.options,ab=ac.stacking,aa=ac.borderWidth,X=0,W=bQ.xAxis,S=W.reversed,P={},L,M;bu.prototype.translate.apply(bQ);ar(ba.series,function(x){if(x.type===bQ.type&&x.visible&&bQ.options.group===x.options.group){x.options.stacking?(L=x.stackKey,P[L]===aH&&(P[L]=X++),M=P[L]):M=X++,x.columnIndex=M}});var ba=bQ.points,W=bn(W.translationSlope)*(W.ordinalSlope||W.closestPointRange||1),K=W*ac.groupPadding,E=(W-2*K)/X,A=ac.pointWidth,C=ao(A)?(E-A)/2:E*ac.pointPadding,s=c(aI(aq(A,E-2*C),1+2*aa)),p=C+(K+((S?X-bQ.columnIndex:bQ.columnIndex)||0)*E-W/2)*(S?-1:1),z=bQ.yAxis.getThreshold(ac.threshold),o=aq(ac.minPointLength,5);ar(ba,function(x){var bW=x.plotY,bV=aq(x.yBottom,z),bU=x.plotX+p,bT=c(bf(bW,bV)),bS=c(aI(bW,bV)-bT),bR=bQ.yAxis.stacks[(x.y<0?"-":"")+bQ.stackKey];ab&&bQ.visible&&bR&&bR[x.x]&&bR[x.x].setOffset(p,s);bn(bS)<o&&o&&(bS=o,bT=bn(bT-z)>o?bV-o:z-(bW<=z?o:0));aO(x,{barX:bU,barY:bT,barW:s,barH:bS});x.shapeType="rect";bW={x:bU,y:bT,width:s,height:bS,r:ac.borderRadius,strokeWidth:aa};aa%2&&(bW.y-=1,bW.height+=1);x.shapeArgs=bW;x.trackerArgs=bn(bS)<3&&aQ(x.shapeArgs,{height:6,y:bT-3})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var p=this,o=p.options,z=p.chart.renderer,x,s;ar(p.points,function(C){var A=C.plotY;if(A!==aH&&!isNaN(A)&&C.y!==null){x=C.graphic,s=C.shapeArgs,x?(a8(x),x.animate(z.Element.prototype.crisp.apply({},[s.strokeWidth,s.x,s.y,s.width,s.height]))):C.graphic=x=z[C.shapeType](s).attr(C.pointAttr[C.selected?"select":af]).add(p.group).shadow(o.shadow)}})},drawTracker:function(){var M=this,L=M.chart,K=L.renderer,E,C,A=+new Date,z=M.options,x=z.cursor,s=x&&{cursor:x},o=M.drawTrackerGroup(),p;ar(M.points,function(P){C=P.tracker;E=P.trackerArgs||P.shapeArgs;delete E.strokeWidth;if(P.y!==null){C?C.attr(E):P.tracker=K[P.shapeType](E).attr({isTracker:A,fill:bJ,visibility:M.visible?f:bh}).on(bL?"touchstart":"mouseover",function(S){p=S.relatedTarget||S.fromElement;if(L.hoverSeries!==M&&a6(p,"isTracker")!==A){M.onMouseOver()}P.onMouseOver()}).on("mouseout",function(S){if(!z.stickyTracking&&(p=S.relatedTarget||S.toElement,a6(p,"isTracker")!==A)){M.onMouseOut()}}).css(s).add(P.group||o)}})},animate:function(p){var o=this,x=o.points,s=o.options;if(!p){ar(x,function(z){var E=z.graphic,z=z.shapeArgs,C=o.yAxis,A=s.threshold;E&&(E.attr({height:0,y:ao(A)?C.getThreshold(A):C.translate(C.getExtremes().min,0,1,0,1)}),E.animate({height:z.height,y:z.y},s.animation))}),o.animate=null}},remove:function(){var p=this,o=p.chart;o.hasRendered&&ar(o.series,function(s){if(s.type===p.type){s.isDirty=!0}});bu.prototype.remove.apply(p,arguments)}});bt.column=bc;an=ae(bc,{type:"bar",init:function(){this.inverted=!0;bc.prototype.init.apply(this,arguments)}});bt.bar=an;an=ae(bu,{type:"scatter",sorted:!1,translate:function(){var o=this;bu.prototype.translate.apply(o);ar(o.points,function(p){p.shapeType="circle";p.shapeArgs={x:p.plotX,y:p.plotY,r:o.chart.options.tooltip.snap}})},drawTracker:function(){for(var p=this,o=p.options.cursor,o=o&&{cursor:o},z=p.points,x=z.length,s;x--;){if(s=z[x].graphic){s.element._i=x}}p._hasTracking?p._hasTracking=!0:p.group.attr({isTracker:!0}).on(bL?"touchstart":"mouseover",function(A){p.onMouseOver();if(A.target._i!==aH){z[A.target._i].onMouseOver()}}).on("mouseout",function(){if(!p.options.stickyTracking){p.onMouseOut()}}).css(o)}});bt.scatter=an;an=ae(bI,{init:function(){bI.prototype.init.apply(this,arguments);var p=this,o;aO(p,{visible:p.visible!==!1,name:aq(p.name,"Slice")});o=function(){p.slice()};aR(p,"select",o);aR(p,"unselect",o);return p},setVisible:function(p){var o=this.series.chart,C=this.tracker,A=this.dataLabel,z=this.connector,x=this.shadowGroup,s;s=(this.visible=p=p===aH?!this.visible:p)?"show":"hide";this.group[s]();if(C){C[s]()}if(A){A[s]()}if(z){z[s]()}if(x){x[s]()}this.legendItem&&o.legend.colorizeItem(this,p)},slice:function(p,o,z){var x=this.series.chart,s=this.slicedTranslation;ad(z,x);aq(o,!0);p=this.sliced=ao(p)?p:!this.sliced;p={translateX:p?s[0]:x.plotLeft,translateY:p?s[1]:x.plotTop};this.group.animate(p);this.shadowGroup&&this.shadowGroup.animate(p)}});an=ae(bu,{type:"pie",isCartesian:!1,pointClass:an,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var o=this;ar(o.points,function(p){var x=p.graphic,p=p.shapeArgs,s=-N/2;x&&(x.attr({r:0,start:s,end:s}),x.animate({r:p.r,start:p.start,end:p.end},o.options.animation))});o.animate=null},setData:function(){bu.prototype.setData.apply(this,arguments);this.processData();this.generatePoints()},translate:function(){this.generatePoints();var bS=0,bR=-0.25,bQ=this.options,ba=bQ.slicedOffset,ac=ba+bQ.borderWidth,ab=bQ.center.concat([bQ.size,bQ.innerSize||0]),aa=this.chart,X=aa.plotWidth,W=aa.plotHeight,P,S,M,L=this.points,K=2*N,C,A=bf(X,W),x,z,o,E=bQ.dataLabels.distance,ab=aG(ab,function(s,p){return(x=/%$/.test(s))?[X,W,A,A][p]*aJ(s)/100:s});this.getX=function(s,p){M=aC.asin((s-ab[1])/(ab[2]/2+E));return ab[0]+(p?-1:1)*T(M)*(ab[2]/2+E)};this.center=ab;ar(L,function(p){bS+=p.y});ar(L,function(p){C=bS?p.y/bS:0;P=al(bR*K*1000)/1000;bR+=C;S=al(bR*K*1000)/1000;p.shapeType="arc";p.shapeArgs={x:ab[0],y:ab[1],r:ab[2]/2,innerR:ab[3]/2,start:P,end:S};M=(S+P)/2;p.slicedTranslation=aG([T(M)*ba+aa.plotLeft,a3(M)*ba+aa.plotTop],al);z=T(M)*ab[2]/2;o=a3(M)*ab[2]/2;p.tooltipPos=[ab[0]+z*0.7,ab[1]+o*0.7];p.labelPos=[ab[0]+z+T(M)*E,ab[1]+o+a3(M)*E,ab[0]+z+T(M)*ac,ab[1]+o+a3(M)*ac,ab[0]+z,ab[1]+o,E<0?"center":M<K/4?"left":"right",M];p.percentage=C*100;p.total=bS});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=!1},drawPoints:function(){var p=this.chart,o=p.renderer,E,C,A,z=this.options.shadow,x,s;ar(this.points,function(K){C=K.graphic;s=K.shapeArgs;A=K.group;x=K.shadowGroup;if(z&&!x){x=K.shadowGroup=o.g("shadow").attr({zIndex:4}).add()}if(!A){A=K.group=o.g("point").attr({zIndex:5}).add()}E=K.sliced?K.slicedTranslation:[p.plotLeft,p.plotTop];A.translate(E[0],E[1]);x&&x.translate(E[0],E[1]);C?C.animate(s):K.graphic=o.arc(s).attr(aO(K.pointAttr[af],{"stroke-linejoin":"round"})).add(K.group).shadow(z,x);K.visible===!1&&K.setVisible(!1)})},drawDataLabels:function(){var b1=this.data,b0,bZ=this.chart,bY=this.options.dataLabels,bX=aq(bY.connectorPadding,10),bW=aq(bY.connectorWidth,1),bV,bU,bT=aq(bY.softConnector,!0),bR=bY.distance,bS=this.center,bQ=bS[2]/2,bS=bS[1],ba=bR>0,S=[[],[]],aa,W,L,M,p=2,ab;if(bY.enabled){bu.prototype.drawDataLabels.apply(this);ar(b1,function(s){s.dataLabel&&S[s.labelPos[7]<N/2?0:1].push(s)});S[1].reverse();M=function(x,s){return s.y-x.y};for(b1=S[0][0]&&S[0][0].dataLabel&&S[0][0].dataLabel.getBBox().height;p--;){var K=[],ac=[],o=S[p],P=o.length,X;for(ab=bS-bQ-bR;ab<=bS+bQ+bR;ab+=b1){K.push(ab)}L=K.length;if(P>L){bU=[].concat(o);bU.sort(M);for(ab=P;ab--;){bU[ab].rank=ab}for(ab=P;ab--;){o[ab].rank>=L&&o.splice(ab,1)}P=o.length}for(ab=0;ab<P;ab++){b0=o[ab];bU=b0.labelPos;b0=9999;for(W=0;W<L;W++){bV=bn(K[W]-bU[1]),bV<b0&&(b0=bV,X=W)}if(X<ab&&K[ab]!==null){X=ab}else{for(L<P-ab+X&&K[ab]!==null&&(X=L-P+ab);K[X]===null;){X++}}ac.push({i:X,y:K[X]});K[X]=null}ac.sort(M);for(ab=0;ab<P;ab++){b0=o[ab];bU=b0.labelPos;bV=b0.dataLabel;W=ac.pop();aa=bU[1];L=b0.visible===!1?bh:f;X=W.i;W=W.y;if(aa>W&&K[X+1]!==null||aa<W&&K[X-1]!==null){W=aa}aa=this.getX(X===0||X===K.length-1?aa:W,p);bV.attr({visibility:L,align:bU[6]})[bV.moved?"animate":"attr"]({x:aa+bY.x+({left:bX,right:-bX}[bU[6]]||0),y:W+bY.y});bV.moved=!0;if(ba&&bW){bV=b0.connector,bU=bT?[D,aa+(bU[6]==="left"?5:-5),W,"C",aa,W,2*bU[2]-bU[4],2*bU[3]-bU[5],bU[2],bU[3],bE,bU[4],bU[5]]:[D,aa+(bU[6]==="left"?5:-5),W,bE,bU[2],bU[3],bE,bU[4],bU[5]],bV?(bV.animate({d:bU}),bV.attr("visibility",L)):b0.connector=bV=this.chart.renderer.path(bU).attr({"stroke-width":bW,stroke:bY.connectorColor||b0.color||"#606060",visibility:L,zIndex:3}).translate(bZ.plotLeft,bZ.plotTop).add()}}}}},drawTracker:bc.prototype.drawTracker,getSymbol:function(){}});bt.pie=an;aO(Highcharts,{Chart:v,dateFormat:bg,pathAnim:u,getOptions:function(){return U},hasBidiBug:ah,numberFormat:I,Point:bI,Color:br,Renderer:G,SVGRenderer:R,VMLRenderer:a2,CanVGRenderer:ay,seriesTypes:bt,setOptions:function(o){a0=aQ(a0,o.xAxis);g=aQ(g,o.yAxis);o.xAxis=o.yAxis=aH;U=aQ(U,o);ag();return U},Series:bu,addEvent:aR,removeEvent:ak,createElement:bG,discardElement:bz,css:aK,each:ar,extend:aO,map:aG,merge:aQ,pick:aq,splat:bs,extendClass:ae,placeBox:aD,product:"Highcharts",version:"2.2.1"})})();String.prototype.commafy=function(){return this.replace(/(^|[^\w.])(\d{4,})/g,function(b,a,c){return a+c.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})};Number.prototype.commafy=function(){return String(this).commafy()};var chart=new Highcharts.Chart({chart:{marginLeft:40,marginTop:5,spacingLeft:0,spacingRight:0,renderTo:"texas-drought",type:"area"},colors:["#f3d56a","#efc635","#e28d2b","#d9482b","#a33622"],credits:{enabled:false},legend:{enabled:false,align:"left",verticalAlign:"top",layout:"horizontal",floating:false,borderWidth:0,margin:0,symbolPadding:3,symbolWidth:10,itemStyle:{color:"#555"},itemHoverStyle:{color:"#555"}},plotOptions:{area:{lineWidth:0,marker:{enabled:false},stacking:null,fillOpacity:1}},title:{text:null},tooltip:{shared:true,borderWidth:0,borderRadius:0,crosshairs:[{width:1,color:"#444",zIndex:10},false],valueDecimals:1,formatter:function(){var a="<strong>"+this.x+"</strong>";$.each(this.points,function(c,b){a+='<br/><span style="font-weight: bold; color:'+b.series.color+';">'+b.series.name+":</span> "+Math.round(b.y)+"%"});return a}},xAxis:{minPadding:0,maxPadding:0,startOnTick:true,tickInterval:1,tickLength:0,tickmarkPlacement:"on",lineColor:"#ccc",labels:{y:15,align:"left",formatter:function(){var a;switch(this.value){case"January 4, 2000":a="2000";break;case"January 2, 2001":a="2001";break;case"January 1, 2002":a="2002";break;case"January 7, 2003":a="2003";break;case"January 6, 2004":a="2004";break;case"January 4, 2005":a="2005";break;case"January 3, 2006":a="2006";break;case"January 2, 2007":a="2007";break;case"January 1, 2008":a="2008";break;case"January 6, 2009":a="2009";break;case"January 5, 2010":a="2010";break;case"January 4, 2011":a="2011";break;case"January 3, 2012":a="2012";break;default:a=""}return a}},categories:["January 4, 2000","January 11, 2000","January 18, 2000","January 25, 2000","February 1, 2000","February 8, 2000","February 15, 2000","February 22, 2000","February 29, 2000","March 7, 2000","March 14, 2000","March 21, 2000","March 28, 2000","April 4, 2000","April 11, 2000","April 18, 2000","April 25, 2000","May 2, 2000","May 9, 2000","May 16, 2000","May 23, 2000","May 30, 2000","June 6, 2000","June 13, 2000","June 20, 2000","June 27, 2000","July 4, 2000","July 11, 2000","July 18, 2000","July 25, 2000","August 1, 2000","August 8, 2000","August 15, 2000","August 22, 2000","August 29, 2000","September 5, 2000","September 12, 2000","September 19, 2000","September 26, 2000","October 3, 2000","October 10, 2000","October 17, 2000","October 24, 2000","October 31, 2000","November 7, 2000","November 14, 2000","November 21, 2000","November 28, 2000","December 5, 2000","December 12, 2000","December 19, 2000","December 26, 2000","January 2, 2001","January 9, 2001","January 16, 2001","January 23, 2001","January 30, 2001","February 6, 2001","February 13, 2001","February 20, 2001","February 27, 2001","March 6, 2001","March 13, 2001","March 20, 2001","March 27, 2001","April 3, 2001","April 10, 2001","April 17, 2001","April 24, 2001","May 1, 2001","May 8, 2001","May 15, 2001","May 22, 2001","May 29, 2001","June 5, 2001","June 12, 2001","June 19, 2001","June 26, 2001","July 3, 2001","July 10, 2001","July 17, 2001","July 24, 2001","July 31, 2001","August 7, 2001","August 14, 2001","August 21, 2001","August 28, 2001","September 4, 2001","September 11, 2001","September 18, 2001","September 25, 2001","October 2, 2001","October 9, 2001","October 16, 2001","October 23, 2001","October 30, 2001","November 6, 2001","November 13, 2001","November 20, 2001","November 27, 2001","December 4, 2001","December 11, 2001","December 18, 2001","December 25, 2001","January 1, 2002","January 8, 2002","January 15, 2002","January 22, 2002","January 29, 2002","February 5, 2002","February 12, 2002","February 19, 2002","February 26, 2002","March 5, 2002","March 12, 2002","March 19, 2002","March 26, 2002","April 2, 2002","April 9, 2002","April 16, 2002","April 23, 2002","April 30, 2002","May 7, 2002","May 14, 2002","May 21, 2002","May 28, 2002","June 4, 2002","June 11, 2002","June 18, 2002","June 25, 2002","July 2, 2002","July 9, 2002","July 16, 2002","July 23, 2002","July 30, 2002","August 6, 2002","August 13, 2002","August 20, 2002","August 27, 2002","September 3, 2002","September 10, 2002","September 17, 2002","September 24, 2002","October 1, 2002","October 8, 2002","October 15, 2002","October 22, 2002","October 29, 2002","November 5, 2002","November 12, 2002","November 19, 2002","November 26, 2002","December 3, 2002","December 10, 2002","December 17, 2002","December 24, 2002","December 31, 2002","January 7, 2003","January 14, 2003","January 21, 2003","January 28, 2003","February 4, 2003","February 11, 2003","February 18, 2003","February 25, 2003","March 4, 2003","March 11, 2003","March 18, 2003","March 25, 2003","April 1, 2003","April 8, 2003","April 15, 2003","April 22, 2003","April 29, 2003","May 6, 2003","May 13, 2003","May 20, 2003","May 27, 2003","June 3, 2003","June 10, 2003","June 17, 2003","June 24, 2003","July 1, 2003","July 8, 2003","July 15, 2003","July 22, 2003","July 29, 2003","August 5, 2003","August 12, 2003","August 19, 2003","August 26, 2003","September 2, 2003","September 9, 2003","September 16, 2003","September 23, 2003","September 30, 2003","October 7, 2003","October 14, 2003","October 21, 2003","October 28, 2003","November 4, 2003","November 11, 2003","November 18, 2003","November 25, 2003","December 2, 2003","December 9, 2003","December 16, 2003","December 23, 2003","December 30, 2003","January 6, 2004","January 13, 2004","January 20, 2004","January 27, 2004","February 3, 2004","February 10, 2004","February 17, 2004","February 24, 2004","March 2, 2004","March 9, 2004","March 16, 2004","March 23, 2004","March 30, 2004","April 6, 2004","April 13, 2004","April 20, 2004","April 27, 2004","May 4, 2004","May 11, 2004","May 18, 2004","May 25, 2004","June 1, 2004","June 8, 2004","June 15, 2004","June 22, 2004","June 29, 2004","July 6, 2004","July 13, 2004","July 20, 2004","July 27, 2004","August 3, 2004","August 10, 2004","August 17, 2004","August 24, 2004","August 31, 2004","September 7, 2004","September 14, 2004","September 21, 2004","September 28, 2004","October 5, 2004","October 12, 2004","October 19, 2004","October 26, 2004","November 2, 2004","November 9, 2004","November 16, 2004","November 23, 2004","November 30, 2004","December 7, 2004","December 14, 2004","December 21, 2004","December 28, 2004","January 4, 2005","January 11, 2005","January 18, 2005","January 25, 2005","February 1, 2005","February 8, 2005","February 15, 2005","February 22, 2005","March 1, 2005","March 8, 2005","March 15, 2005","March 22, 2005","March 29, 2005","April 5, 2005","April 12, 2005","April 19, 2005","April 26, 2005","May 3, 2005","May 10, 2005","May 17, 2005","May 24, 2005","May 31, 2005","June 7, 2005","June 14, 2005","June 21, 2005","June 28, 2005","July 5, 2005","July 12, 2005","July 19, 2005","July 26, 2005","August 2, 2005","August 9, 2005","August 16, 2005","August 23, 2005","August 30, 2005","September 6, 2005","September 13, 2005","September 20, 2005","September 27, 2005","October 4, 2005","October 11, 2005","October 18, 2005","October 25, 2005","November 1, 2005","November 8, 2005","November 15, 2005","November 22, 2005","November 29, 2005","December 6, 2005","December 13, 2005","December 20, 2005","December 27, 2005","January 3, 2006","January 10, 2006","January 17, 2006","January 24, 2006","January 31, 2006","February 7, 2006","February 14, 2006","February 21, 2006","February 28, 2006","March 7, 2006","March 14, 2006","March 21, 2006","March 28, 2006","April 4, 2006","April 11, 2006","April 18, 2006","April 25, 2006","May 2, 2006","May 9, 2006","May 16, 2006","May 23, 2006","May 30, 2006","June 6, 2006","June 13, 2006","June 20, 2006","June 27, 2006","July 4, 2006","July 11, 2006","July 18, 2006","July 25, 2006","August 1, 2006","August 8, 2006","August 15, 2006","August 22, 2006","August 29, 2006","September 5, 2006","September 12, 2006","September 19, 2006","September 26, 2006","October 3, 2006","October 10, 2006","October 17, 2006","October 24, 2006","October 31, 2006","November 7, 2006","November 14, 2006","November 21, 2006","November 28, 2006","December 5, 2006","December 12, 2006","December 19, 2006","December 26, 2006","January 2, 2007","January 9, 2007","January 16, 2007","January 23, 2007","January 30, 2007","February 6, 2007","February 13, 2007","February 20, 2007","February 27, 2007","March 6, 2007","March 13, 2007","March 20, 2007","March 27, 2007","April 3, 2007","April 10, 2007","April 17, 2007","April 24, 2007","May 1, 2007","May 8, 2007","May 15, 2007","May 22, 2007","May 29, 2007","June 5, 2007","June 12, 2007","June 19, 2007","June 26, 2007","July 3, 2007","July 10, 2007","July 17, 2007","July 24, 2007","July 31, 2007","August 7, 2007","August 14, 2007","August 21, 2007","August 28, 2007","September 4, 2007","September 11, 2007","September 18, 2007","September 25, 2007","October 2, 2007","October 9, 2007","October 16, 2007","October 23, 2007","October 30, 2007","November 6, 2007","November 13, 2007","November 20, 2007","November 27, 2007","December 4, 2007","December 11, 2007","December 18, 2007","December 25, 2007","January 1, 2008","January 8, 2008","January 15, 2008","January 22, 2008","January 29, 2008","February 5, 2008","February 12, 2008","February 19, 2008","February 26, 2008","March 4, 2008","March 11, 2008","March 18, 2008","March 25, 2008","April 1, 2008","April 8, 2008","April 15, 2008","April 22, 2008","April 29, 2008","May 6, 2008","May 13, 2008","May 20, 2008","May 27, 2008","June 3, 2008","June 10, 2008","June 17, 2008","June 24, 2008","July 1, 2008","July 8, 2008","July 15, 2008","July 22, 2008","July 29, 2008","August 5, 2008","August 12, 2008","August 19, 2008","August 26, 2008","September 2, 2008","September 9, 2008","September 16, 2008","September 23, 2008","September 30, 2008","October 7, 2008","October 14, 2008","October 21, 2008","October 28, 2008","November 4, 2008","November 11, 2008","November 18, 2008","November 25, 2008","December 2, 2008","December 9, 2008","December 16, 2008","December 23, 2008","December 30, 2008","January 6, 2009","January 13, 2009","January 20, 2009","January 27, 2009","February 3, 2009","February 10, 2009","February 17, 2009","February 24, 2009","March 3, 2009","March 10, 2009","March 17, 2009","March 24, 2009","March 31, 2009","April 7, 2009","April 14, 2009","April 21, 2009","April 28, 2009","May 5, 2009","May 12, 2009","May 19, 2009","May 26, 2009","June 2, 2009","June 9, 2009","June 16, 2009","June 23, 2009","June 30, 2009","July 7, 2009","July 14, 2009","July 21, 2009","July 28, 2009","August 4, 2009","August 11, 2009","August 18, 2009","August 25, 2009","September 1, 2009","September 8, 2009","September 15, 2009","September 22, 2009","September 29, 2009","October 6, 2009","October 13, 2009","October 20, 2009","October 27, 2009","November 3, 2009","November 10, 2009","November 17, 2009","November 24, 2009","December 1, 2009","December 8, 2009","December 15, 2009","December 22, 2009","December 29, 2009","January 5, 2010","January 12, 2010","January 19, 2010","January 26, 2010","February 2, 2010","February 9, 2010","February 16, 2010","February 23, 2010","March 2, 2010","March 9, 2010","March 16, 2010","March 23, 2010","March 30, 2010","April 6, 2010","April 13, 2010","April 20, 2010","April 27, 2010","May 4, 2010","May 11, 2010","May 18, 2010","May 25, 2010","June 1, 2010","June 8, 2010","June 15, 2010","June 22, 2010","June 29, 2010","July 6, 2010","July 13, 2010","July 20, 2010","July 27, 2010","August 3, 2010","August 10, 2010","August 17, 2010","August 24, 2010","August 31, 2010","September 7, 2010","September 14, 2010","September 21, 2010","September 28, 2010","October 5, 2010","October 12, 2010","October 19, 2010","October 26, 2010","November 2, 2010","November 9, 2010","November 16, 2010","November 23, 2010","November 30, 2010","December 7, 2010","December 14, 2010","December 21, 2010","December 28, 2010","January 4, 2011","January 11, 2011","January 18, 2011","January 25, 2011","February 1, 2011","February 8, 2011","February 15, 2011","February 22, 2011","March 1, 2011","March 8, 2011","March 15, 2011","March 22, 2011","March 29, 2011","April 5, 2011","April 12, 2011","April 19, 2011","April 26, 2011","May 3, 2011","May 10, 2011","May 17, 2011","May 24, 2011","May 31, 2011","June 7, 2011","June 14, 2011","June 21, 2011","June 28, 2011","July 5, 2011","July 12, 2011","July 19, 2011","July 26, 2011","August 2, 2011","August 9, 2011","August 16, 2011","August 23, 2011","August 30, 2011","September 6, 2011","September 13, 2011","September 20, 2011","September 27, 2011","October 4, 2011","October 11, 2011","October 18, 2011","October 25, 2011","November 1, 2011","November 8, 2011","November 15, 2011","November 22, 2011","November 29, 2011","December 6, 2011","December 13, 2011","December 20, 2011","December 27, 2011","January 3, 2012","January 10, 2012","January 17, 2012","January 24, 2012","January 31, 2012","February 7, 2012","February 14, 2012","February 21, 2012","February 28, 2012","March 6, 2012","March 13, 2012","March 20, 2012","March 27, 2012","April 3, 2012","April 10, 2012","April 17, 2012","April 24, 2012","May 1, 2012","May 8, 2012","May 15, 2012","May 22, 2012","May 29, 2012","June 5, 2012","June 12, 2012","June 19, 2012","June 26, 2012","July 3, 2012","July 10, 2012"]},yAxis:{gridLineColor:"#eee",minorGridLineColor:"#eee",labels:{enabled:true,formatter:function(){return this.value+"%"},align:"right"},max:100,tickWidth:0,tickInterval:20,minorTickInterval:10,title:{text:null}},series:[{name:"Abnormally Dry",data:[42.71,51.73,56.74,57.96,54.4,53.5,52.83,47.41,45.65,45.27,40.56,40.26,38.03,40.65,37.84,39.36,36.8,37.39,37.13,39.79,35.37,31.85,31.4,36.99,35.76,38.88,42.2,43.68,44.36,43.19,39.66,42.89,43.3,42,47.15,47.94,47.14,48.9,48.42,50.63,49.81,50.08,53.76,50.01,37.93,30.89,29.95,29.79,28.39,27.79,24.61,23.28,24.47,26.65,25.29,36.49,32.67,32.41,31.25,28.96,29.22,27.95,28.55,28.62,31.55,31.95,29.74,29.35,29.48,30.92,39.74,40.65,38.72,37.58,33.25,31.65,35.89,37.99,40.35,36.14,41.41,44.62,44.2,43.06,40.95,38.51,39.78,42.09,42.57,40.54,36.65,37,39.7,38.69,43.49,46.36,48.54,51.25,51.07,47.21,46.77,45.46,44.52,44.61,44.72,45.54,47.07,47.19,47.87,48.18,49.02,50.71,53.39,53.15,58.8,57.45,57.49,55.8,54.71,54.09,54.87,53.84,55.72,53.91,52.41,54.01,60.01,59.07,57.3,58.32,59.06,59.62,59.99,65.07,65.86,65.89,65.6,60.86,59.04,60.93,59.38,59.68,56.9,59.27,59.53,56.57,54.04,50.96,50.86,49.46,49.29,49.04,49.32,51.39,48.36,47.41,46.12,48.38,48.52,50.37,51.3,52.06,53.25,51.89,52.39,52.79,54.54,56.85,55.59,55.31,53.3,54.78,53.29,57.61,54.21,49.95,48.86,48.25,51.03,49.98,49.72,49.73,46.07,42.81,48.71,46.95,46.58,48.36,49.79,54.67,56.48,54.2,54.55,52.7,53.12,51.93,49.91,50.67,52.27,53.73,52.72,53.78,52.5,51.4,50.7,51.22,49.19,49.46,49.17,51.65,50.34,48.62,48.02,48.02,49.21,49.18,48.24,47.47,44.68,44.4,47.57,48.31,48.9,50.02,52.03,50.14,48.87,49.26,48.23,51.16,49.01,46.15,43.34,40.99,42.08,42.67,43.35,45.26,46.28,47.42,46,43.5,41.86,40.86,39.6,40.66,41.31,39.25,43.38,40.16,38.19,38.18,36.61,36.46,37.02,36.44,34.09,33.57,32.87,34.21,32.4,30.91,33.34,32.59,32.72,32.66,32.37,32.77,33.16,32.08,33.51,33.72,33.36,31.29,30.62,27.42,29.87,29.82,37.09,39.72,33.69,37.36,37.79,37.57,33.77,33.98,41.07,39.98,37.93,40.27,43.12,43.78,43.49,41.43,38.51,37.61,39.51,42.51,42.71,40.43,40.09,36.09,35.69,38.93,45,45.14,45.04,43.17,41.11,39.37,40.46,40.12,38.64,37.48,39.61,41.66,39.77,39.62,40.27,39.48,39.64,42.75,44.42,42.96,48.61,48.57,49.78,46.86,48.42,47.43,47.33,48.32,43.57,41.46,44.79,44.16,48.45,48.25,47.27,47.33,53.13,53.13,54.05,53.42,54.93,55.25,54.01,53,51.04,48.31,47.51,45.98,46.45,45.82,44.55,42.01,40.2,36.6,37.7,36.37,35.75,38.69,40.01,49.68,48.52,46.44,44.96,42.42,39.37,40.71,43.02,43.3,45.01,42.35,41.51,48.27,49.22,52.81,47.89,48.34,46.03,46.37,46.39,45.55,47.4,47.67,48.9,49.59,47.99,49.63,50.58,50.79,53.61,54.44,57.02,58.34,60.11,59.31,58.84,56.52,56.17,53.84,52.04,52.13,52.62,52.47,51.98,48.83,44.92,47.6,51.33,53.53,50.02,51.91,49.49,47.77,47.77,50.73,52.21,53.27,51.7,52.2,51.82,54.12,51.52,48.57,47.08,46.04,46,45.83,46.85,44.1,43.52,43.51,45.59,45.1,44.08,42.76,37.08,38.36,43.67,40.21,40.47,40.1,40.43,40.42,43.95,42.89,44.63,43.42,42.93,44.59,43.67,40.41,40.82,41.35,42.87,42.34,39.52,40.9,38.24,40.05,38.83,39.69,40.76,43.37,43.49,43.15,42.1,38.86,39.26,38.83,38.8,41.82,40.77,44.63,42.97,43.18,45.94,45.52,45.33,47.91,42.33,39.01,38.04,37.87,39.1,33.95,31.06,30.11,27.57,30.08,30.83,30.61,28.11,30.64,32.15,33.58,34.78,32.09,30.98,33.55,32.05,30.06,29.17,30.88,29.38,29.46,31.59,29.85,28.4,26.52,23.55,22.14,22.79,21.74,23.66,23.64,23.67,25.73,25.61,28.06,28.06,32.4,32.15,29.8,29.11,29.16,30.22,29.88,29.49,31.11,29.49,28.84,29.22,30.54,33.09,32.83,34.11,32.73,32.19,28.09,26.48,29.33,24.77,25.61,28.68,28.52,27,27.31,28.92,26.53,24.49,25.18,27.09,25.76,29.6,27.46,29.43,33.65,38.08,35.08,36.48,38.07,34.82,36.76,37.88,39.08,38.26,38.88,38.81,38.56,37.86,37.78,36.57,36.5,37.59,38.5,41.65,40.9,41.72,39.44,38.73,36.88,35.71,35.89,35,34.39,34.29,33.69,31.68,31,31.02,29.77,29.22,28.99,31.28,31.89,31.6,34.79,34.69,33.25,33.95,37.03,39.97,39.95,39.84,40.12,40.74,36.95,37.92,35.91,36.55,37.65,35.4,34.15,34.46,36.12,37.05,36.82,36.09,34.42,34.14,35.93,35.82,41.12,41.53,44.97,47.67,48.78,48.75,47.8,48.06,47.98,48.17,47.88,48.76,46.95,47.25,50.33,50.96,49.77,49.75,49.67,46.99,45.88,52.17,53.6,53.6,52.38,60.58,67.1,70.7,71.7],zIndex:1},{name:"Moderate Drought",data:[19.61,20.93,21.74,21.39,24.29,24.65,26.76,25.74,27.28,26.97,25.6,25.01,22.27,21.5,22.19,22.35,20.42,21.59,20.76,23.81,19.99,20.32,17.97,19.72,19.13,19.95,14.98,17.11,18.87,19.25,18.28,20.61,23.12,24.45,27.02,29.07,32.28,33.37,32.08,34.31,34.34,34.29,32.84,29.05,16.67,15.81,14.81,13.58,14.02,14.26,12.83,12.05,11.65,11.96,12.07,10.87,9.92,10.15,18.67,18.26,18.22,17.88,17.7,18.05,17.76,17.26,17.79,17.9,18.55,20.9,23.89,26.7,26.73,25.26,22.62,21.28,20.52,21.86,22.56,21.62,21.95,23.17,25.95,26,25.88,25.92,25.47,23.89,25.15,24.78,23.78,23.64,24.41,23.97,26.29,29.86,31.16,32.73,32.76,31.75,32.33,31.03,30.88,30.39,30.62,29.01,28.13,27.55,27.05,26.82,28.25,29.58,30.26,30.53,36.7,34.07,34.66,34.43,35.58,36.1,36.06,35.84,36.73,39.07,37.04,38.02,37.22,37.76,39.23,39.94,40.22,39.92,40.54,43,42.15,41.84,42.19,40.98,41.19,41.73,45.64,44.7,44.04,40.59,41.94,41.61,40.47,39.1,40.23,35.81,34.99,34.65,35.12,36.59,35.57,35.19,34.46,35.58,36.79,37.02,37.12,37.11,37.9,37.05,36.35,37.46,37.45,40.56,40.11,37.28,35.89,36.31,35.84,36.55,35.82,35.07,35.7,35.12,35.12,32.89,29.71,29.33,25.75,24.76,26.73,32.12,39.44,40.24,40.91,41.46,45.87,43.88,45.44,42.08,42.09,40.51,40.48,38.95,39.04,40.81,40.11,40.9,40.54,40.15,39.96,40.07,39.77,39.77,38.33,38.4,37.09,36.62,35.55,34.98,34.36,34.49,34.22,32.73,32.14,31.5,32.05,31.21,30.09,30.42,31.99,32.45,33.16,32.67,31.18,33.36,32.87,32.21,31.4,30.14,28.19,28.19,27.96,28.73,28.05,28.37,29.05,30.78,30.1,29.74,27.22,25.86,25.58,25.49,27.01,26.47,25.76,24.88,23.89,23.85,23.88,23.76,22.55,22.57,22.45,22.66,22.64,21.42,20.35,20.26,20.59,23.76,23.33,22.76,22.7,22.31,22.36,22.41,22.41,21.66,21.03,19.58,18.52,18.5,18.2,18.81,17.83,18.7,19.91,22.58,20.23,19.18,21.06,22.5,22.09,23.69,24.08,24.47,23.18,21.19,19.59,18.32,18.53,20.46,21.75,19.82,20.91,15.81,15.5,16.89,18.35,20.02,19.49,18.72,17.78,18.45,18.88,19.05,18.9,17.8,18.58,21.31,21.1,22.76,23.81,23.54,23.87,25.15,26.36,26.14,25.01,26.23,26.06,26.4,27.39,27.05,25.08,21.79,20.93,22.7,24.55,26.13,29.38,28.34,29.36,31.78,33.88,40.49,41.73,40.46,41.24,41.07,40.08,36.72,34.48,33.54,30.74,27.52,28.82,29.33,27.63,26.37,25.05,22.8,23.01,21.8,21.84,20.99,21.43,22.15,21.33,21.41,21.6,20.86,20.87,21.39,21.07,21.84,22.63,21.09,19.69,22.11,22.53,27.56,25.59,26.59,26.25,26.49,27.16,26.41,27.44,28.31,28.34,28.29,28.11,28.58,28.79,28.96,32.88,35.46,36.65,38.62,39.31,40.33,40.81,38.29,38.07,37.21,36.68,36.8,36.63,36.63,36.76,32.53,29.37,29.77,30.19,30.91,31.28,30.37,29.71,28.97,28.85,29.21,29.58,29.81,28.8,26.37,26.1,25.04,24.82,24.38,23.77,22.72,24.76,23.61,23.69,22.25,22.37,22.49,22.8,21.4,20.52,21.05,18.01,19.31,19.83,25.29,24.55,23.5,23.07,22.75,23.05,23.63,23.7,22.9,21.17,19.47,20.1,19.07,18.4,19.22,19.82,19.48,17.78,18.87,18.17,18.24,17.77,17.61,18.01,18.2,18.33,17.55,17.12,16.16,16.14,16.34,16.22,17.71,18.27,18.43,17.71,20.14,21.55,21.57,20.54,22.3,20.73,18.8,17.45,16.23,15.35,14.48,14.37,14.37,12.52,12.33,12.48,11.89,11.35,11.84,12.36,13.26,12.75,11.93,11.18,10.73,10.82,11.9,11.94,12.62,12.32,12.83,12.61,12.27,11.95,10.79,10.06,10.7,10.94,10.65,11.08,11.05,10.86,10.61,10.54,10.46,11.16,11.62,11.5,7.75,7.21,6.64,7.5,7.69,7.52,8.13,7.88,7.97,7.63,7.69,7.72,8.54,9,9.17,9.56,8.72,8.14,8.59,8,7.62,7.86,7.51,6.6,6.67,7.03,7.61,6.96,7.08,7.19,6.82,8.1,7.79,8.73,10.33,11.13,9.93,10.58,12.53,12.87,13.28,13.89,13.89,14.38,14.02,14.97,16.62,19.57,19.91,18.23,19.4,19.23,20.14,20.2,20.34,20.9,23.64,23.44,23.07,21.77,22.95,23.6,24.11,23.88,22.98,22.29,22.13,22.14,22.09,21.34,21.41,22.42,22.69,22.83,23.49,24.49,24,23.76,24.67,27.06,27.52,25.97,25.93,27.51,25.14,25.85,25.52,24.42,25.14,25.54,25.04,25.39,27.32,27.8,26.74,26.15,24.61,23.63,23.52,23.09,23.89,26.73,27.28,27.25,30.34,31.73,31.73,31.69,31.78,32.38,32.68,33.3,32.09,30.09,30.79,32.11,30.94,31.05,31.98,30.06,28.19,29.58,31.31,32.33,33.24,39.12,42.8,46.84,50.92],zIndex:2},{name:"Severe Drought",data:[7.9,8.27,8.67,8.45,8.53,9.21,9.13,9.14,11.75,12.59,13.43,13.06,10.42,12.08,11.43,12.2,10.91,11.05,10.73,13.02,11.84,11.48,10.71,11.91,11.87,10.53,6.91,6.88,7.43,7.88,6.73,9.08,10.96,11.69,13.24,16.22,20.28,21.9,20.06,21.89,20.33,18.59,14.42,14.21,10.4,9.97,8.95,7.55,7.57,7.77,6.29,6.28,5.14,5.46,5.13,4.78,4.19,4.58,4.73,4.76,4.77,4.62,7.91,8.34,8.34,8.48,8.49,8.53,8.63,8.74,11.03,12.83,11.18,11.36,10.98,10.63,12.13,13.7,14.89,14.04,14.81,14.23,14.86,15.44,15.55,16.05,16.68,15.81,16.66,16.66,16.54,15.84,15.84,16.01,16.48,17.47,18.65,19.34,20.55,19.98,19.79,18.3,19.24,18.88,18.97,16.94,15.26,14.84,13.95,13.8,13.85,14.01,15.13,15.17,18.01,16.78,19.52,20.42,21.52,22.91,24.9,25.89,26.46,26.18,25.4,25.83,25.07,25.35,26.55,27.96,28.95,27.68,28.43,30,28.95,29.89,29.53,29.33,29.47,30.18,31.78,30.98,29.82,27.89,27.04,26.1,25.38,24.79,25.19,22.2,21.96,21.91,22.22,25.7,25.7,25.61,25.33,26.07,26.88,27.34,27.48,26.74,27.41,26.67,27.13,27.18,27.03,26.47,25.75,24.45,22.71,22.76,22.73,23.63,19.59,17.73,21.29,20.53,20.56,19.99,18.44,18.5,18.21,18.65,19.91,21.82,24.2,25.19,27.19,28.55,31.15,28.79,31.53,28.83,28.31,27.73,28.14,28.57,28.93,29.35,28.36,28.55,28.21,28.1,28.1,28.19,28.36,28.32,28.22,27.18,26.51,26.12,25.87,25.75,25.62,25.69,25.69,23.61,22.99,22.61,22.71,22.67,21.15,21.07,21.71,21.65,22.31,22.53,21.25,21.63,21.5,21.58,21.26,20.29,19.66,19.59,20.21,20.19,19.79,20.08,19.9,19.75,19.26,19,18.76,18.53,18.37,18.23,18.03,17.77,17.28,16.08,15.99,15.11,14.83,14.78,13.97,13.78,13.44,13.85,13.79,12.86,11.39,11.19,11.29,11.89,11.78,11.86,12.87,13.58,14.03,14.68,14.68,13.8,13.66,12.89,11.69,11.11,11.01,11.07,8.71,8.92,8.82,7.39,6.41,6.34,8.13,9.55,8.76,9.91,10.06,10.28,9.41,8.17,7.56,7.11,7.94,8.24,7.56,6.01,5.7,4.64,4.27,4.43,4.58,3.81,4.91,5.59,5.58,5.07,5.62,6.18,6.14,6.25,6.77,7.14,9.03,9.42,11.56,11.92,12.75,13.72,15.06,15.2,13.81,13.98,12.56,13.82,15.62,15.5,12.93,10.37,10.84,11.63,12.43,15.13,16.43,16.51,16.06,16.51,14.57,21.64,24.33,23.96,25.83,24.95,24.36,20.55,19.42,18.46,13.78,13.62,13.8,14.04,13.66,13.86,12.98,11.6,11.6,11.28,11.67,10.97,11.29,11.45,10.89,10.54,11.25,10.91,11.16,11.47,11.8,12.23,12.13,11.16,10.12,10.97,11.14,11.71,8.74,9.38,11.1,11.59,12.43,12.17,13.38,14.52,14.76,14.16,15.29,15.93,15.96,15.49,16.22,16.51,20.84,24.03,25.09,27.47,27.83,27.68,27.01,26.83,26.8,25.08,24.76,25.06,25.25,22.04,19.13,19.22,18.81,18.73,18.99,17.28,17.47,17.43,17.36,17.04,15.25,16.03,14.94,13.53,12.86,12.62,12.79,12.58,12.75,12,11.37,10.51,8.12,6.68,8.03,7.64,8.77,7.3,7.2,7.22,6.78,7.16,7.86,10.11,9.89,10.09,9.94,9.06,9.17,10.59,10.9,10.79,9.73,7.72,6.88,6.63,6.34,6.82,7.49,7.6,7.59,7.97,7.91,7.28,7.24,6.87,6.95,6.71,7.28,6.1,5.68,5.25,5.01,5.46,5.82,7.1,7.98,8.08,7.82,7.56,7.32,6.44,6.58,6.8,6.71,7.9,7.85,7.51,6.78,6.21,6.3,6.06,4.78,5.1,5.18,5,4.55,4.65,5.2,5.42,5.76,5.75,5.71,5.4,5.45,5.09,5.03,4.9,4.69,5.22,5.22,4.8,5.81,4.5,3.91,3.84,3.82,4.05,4.47,4.41,4.41,3.76,3.59,3.59,3.59,5.19,4.82,1.4,1.23,1.2,1.31,1.4,1.38,2.02,1.99,1.92,1.75,1.75,1.73,1.92,2.26,2.26,2.26,2.36,2.15,2.79,2.55,1.97,1.78,1.63,1.23,1.19,1.23,1.62,1.72,1.7,1.47,1.28,1.32,1.61,1.94,2.53,2.67,2.34,3.59,4.77,5.02,5.47,5.44,5.06,5.42,5.11,5.88,6.04,7.06,7.6,7.13,6.42,6.67,7.51,8.86,8.08,8.05,9.57,10.43,10.51,10.91,12.47,15.24,15.19,15.31,15.88,15.47,16.1,17.16,17.29,16.93,17.29,17.81,18.21,18.68,19.45,19.7,19.79,19.4,19.93,21.04,20.68,19.58,19.58,20.68,19.55,20.16,19.78,19.61,19.88,19.96,19.82,20.04,20.38,20.08,20.08,19.42,18.33,17.63,17.47,16.24,15.88,15.78,15.78,15.72,15.46,15.44,15.1,15.07,14.54,16.36,16.18,17.49,16.09,16.27,16.47,16.87,16.44,16.73,17.1,16.46,15.42,16.31,15.87,15.85,16.04,20.32,25.72,28.65,31.11],zIndex:3},{name:"Extreme Drought",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.24,1.39,1.39,2.5,3,4.25,4.52,6.13,5.62,3.78,3.61,3.92,4.57,4.36,2.11,3.75,3.69,4.52,5.74,6.76,7.44,7,5.76,5.84,4.91,5.92,6.42,7.6,6.26,4.87,2.21,0.6,0.68,0.92,0.74,0.8,0.8,1.19,1.29,0.81,0.74,0.86,1.35,1.44,1.46,1.39,1.34,1.27,1.23,1.2,1.2,1.29,1.29,1.29,1.66,2.34,2.15,2.06,1.96,1.7,1.61,1.66,3.35,3.17,2.97,2.95,4.37,4.37,4.18,6,7.11,7.42,7.82,7.82,7.84,8.06,8.36,8.36,8.36,8.32,9.53,9.53,9.24,9.13,7.87,7.26,7.22,6.79,7.31,5.27,4.82,4.71,4.43,4.6,4.41,4.71,4.81,4.73,5.65,5.53,5.37,4.37,4.68,5.64,7.82,9.98,9.52,13.73,14.1,14.72,14.08,13.93,14.98,16.64,17.48,17.13,17.81,18.84,18.8,19.4,19.56,19.81,19.63,17.9,17.14,16.64,15.7,14.9,14.09,13.25,12.92,12.62,12.32,11.31,11.34,11.31,11.07,11.41,11.61,11.62,11.91,13.62,15.34,17.16,17.43,17.16,17.26,16.8,16.64,16.63,16.13,16.02,14.29,13.03,12.35,12.09,11.99,10.88,9.08,8.67,8.48,8.56,8.46,8.55,9.13,8.94,9.05,9.57,10.45,12.4,12.62,12.47,12.82,14.52,15.76,14.29,15.09,14.35,14.08,14.1,13.99,14.64,14.43,15.27,15.34,15.41,14.79,14.74,14.43,14.36,14.67,14.74,13.35,13.57,13.3,13.02,12.99,12.5,12.11,12.06,12.29,10.47,10.41,10.31,10.56,10.93,8.6,8.65,9.1,8.82,10.04,10.32,10.15,10.79,10.7,10.58,10.49,9.33,9.22,8.83,8.87,8.87,8.96,9.14,9.48,10.02,9.72,9.64,8.94,8.58,8.11,8.1,7.86,8.05,8.03,6.96,6.97,6.73,6.69,6.59,5.42,5.42,5.23,5.34,5.45,4.94,4.05,4.01,4.18,4.07,4.7,4.82,4.88,4.6,4.64,5.59,5.59,4.87,4.75,4.6,4.82,3.97,3.87,2.75,1.58,1.58,1.58,0.9,0.42,0,0.59,1.37,1.15,1.25,1.62,1.54,1.53,0.83,0.7,0.7,0.95,1.16,0.83,0.62,0.68,0.7,0.67,0.84,0.84,0.75,0.8,0.8,0.88,1.16,1.39,2.34,2.34,2.47,3.06,3.13,3.82,3.63,5.1,5.32,5.5,5.98,6.94,6.74,4.21,3.53,3.41,3.31,4.64,5.67,4.64,5.81,5.71,5.95,5.75,6.91,8.18,7.99,7.51,7.07,4.46,6.13,9.46,9.48,10.1,9.47,9.22,8.32,7.99,8.6,6.28,5.52,5.69,5.58,5.29,5.1,5.05,4.76,4.87,5.34,6.2,5.13,5.2,5.18,4.89,4.95,5.24,5.02,4.43,4.45,4.45,4.69,4.51,3.86,3.23,4.57,4.49,3.91,2.54,2.51,2.88,3.38,3.95,4.28,4.59,5.55,5.76,5.4,5.4,6.3,6.15,5.92,5.29,5.27,5.27,5.66,6.97,8.36,10.44,10.7,10.16,10.29,10.22,9.86,10.02,10.35,10.97,8.85,6.59,6.69,6.31,6.73,6.72,5.14,5.36,5.36,5.35,4.81,3.93,3.71,3.47,3.67,3.4,3.41,3.36,2.8,2.74,2.22,2.21,2.1,2.38,2.19,1.97,2.1,2.08,1.83,1.74,1.3,1.37,1.48,1.96,3.57,3.8,3.65,3.47,2.9,3.34,3.65,3.63,3.7,2.59,1.61,1.32,1.21,1.17,1.28,1.56,1.47,1.47,1.47,1.45,1.57,1.57,1.5,1.74,1.79,1.87,1.33,1.15,1.05,1.02,1.38,1.9,2.06,2.41,2.41,2.36,2.27,1.92,1.79,1.59,1.59,1.82,1.82,1.92,1.79,1.71,1.77,2.21,1.59,1.28,1.22,1.29,1.22,1.14,1.47,1.65,1.83,1.82,1.82,2.14,2.14,2.15,1.95,1.95,1.84,1.17,1.31,1.09,0.63,0.54,0.58,0.4,0.4,0.33,0.33,0.45,0.41,0.34,0.17,0.17,0.17,0.17,0.32,0.32,0.13,0.02,0.02,0.02,0.02,0.03,0.05,0.05,0.05,0.05,0.04,0.04,0.04,0.05,0.05,0.05,0.07,0.2,0.44,0.45,0.45,0.45,0.38,0.26,0.26,0.26,0.29,0.3,0.3,0.18,0.18,0.18,0.24,0.24,0.31,0.31,0.32,0.49,0.95,1.05,1.15,1.17,1.08,0.99,0.68,1.1,1.2,1.64,1.98,2.17,1.99,1.82,1.74,1.35,1.2,1.2,1.73,1.92,2.24,2.8,3.99,5.36,7.31,7.52,8.25,9.07,9.74,10.43,11.01,11.24,12.27,13.15,13.72,15.04,15.35,15.55,15.6,15.06,15.19,15.28,15.44,14.51,14.4,15.26,15.08,15.48,15.02,14.87,15.04,14.3,14.57,14.42,14.82,14.63,14.39,13.8,12.51,11.55,10.75,9.33,8.37,8.51,8.15,8.53,8.19,8.02,7.67,7.79,6.39,6.39,6.06,6.1,5.75,5.63,5.57,5.64,5.5,5.58,5.8,5.67,4.78,4.98,4.38,3.86,3.29,4.35,7.15,8.64,9.71],zIndex:4},{name:"Exceptional Drought",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.22,0.25,1.28,1.37,1.39,1.05,1.38,1.77,2.16,0,1.78,1.66,2,2.06,2.18,1.43,1.37,0.62,0.62,0.39,0.87,1.41,2.2,0.83,0.6,0,0,0.11,0.21,0.25,0.3,0.28,0.28,0.28,0.29,0.29,0.28,0.51,0.53,0.61,0.59,0.59,0.57,0.54,0.15,0.17,0.22,0.22,0.22,0.22,0.38,0.41,0.41,0.33,0.08,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.23,0.51,0.54,0.51,2.28,2.26,1.73,2.07,2.93,4.42,4.6,4.61,5,5.1,5.83,6.22,6.56,6.19,5.2,4.18,3.24,2.75,2.62,1.75,1.12,1.12,1.13,1.11,0.93,0.96,0.93,0.91,1.05,1.07,1.07,1.07,1.41,2.15,1.97,2.09,1.88,1.93,1.74,1.74,1.67,1.41,1.41,1.02,0.49,0.22,0.19,0.22,0.22,0.22,0.52,0.5,0.5,0.51,0.85,0.84,0.74,0.63,0.68,0.68,1.39,1.8,1.65,1.63,1.77,1.84,1.61,1.85,1.83,1.73,1.75,1.73,1.71,1.7,2.12,2.18,2.79,2.65,2.75,2.8,2.76,2.82,3.11,2.84,3.1,2.63,2.41,2.52,2.48,2.36,2.36,2.36,1.74,1.61,1.61,1.61,1.61,0.54,0.68,0.7,0.7,0.9,0.91,0.93,0.67,0.67,0.49,1.07,1.02,1.02,1,1,1.19,1.15,1.15,1.05,1.05,1.03,1.01,0.99,0.81,0.78,0.78,0.78,0.83,0.81,0.78,0.78,0.78,0.78,0.78,0.78,0.78,0.75,0.77,0.77,0.64,0.63,0.6,0.6,0.6,0.87,0.87,0.87,1.1,1.11,1.31,1.31,1.26,1.21,1.24,1.28,0.71,0.56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.45,0.45,0.51,0.55,0.64,0.73,0.45,0.51,0.48,0.53,1.02,1.02,1.14,0.94,0.94,0.94,0.94,1.06,1.03,1.52,1.42,1.13,1.13,1.08,0.99,0.98,0.98,1.05,0.79,0.52,0.84,1.04,1.05,1.59,1.68,1.67,1.45,0.87,1.21,0.25,0.12,0.12,0.2,0.24,0,0,0,0,0.14,0.22,0.15,0.51,0.51,0.4,0.28,0.28,0.26,0.18,0.18,0.18,0.19,0.15,0.15,0.15,0.15,0.15,0,0,0,0,0,0,0,0,0,0,0.31,0.74,1,0.77,0.64,0.43,0.43,0.33,0.55,1.28,1.95,2.39,2.32,2,2.36,1.93,1.9,2.8,2.95,3.61,3.32,1.84,2.06,2.27,2.45,2.41,2.71,3.13,3.13,3.13,1.99,2.09,1.82,1.82,1.91,1.8,1.8,1.72,0.91,0.75,0.32,0.09,0,0,0,0.24,0.24,0.24,0,0,0,0,0,0,0.26,0.35,0.66,0.74,0.7,1.02,0.81,0.81,0.8,0.64,0.12,0.12,0.12,0.12,0.15,0.15,0.15,0.1,0.1,0.1,0.16,0.37,0.37,0.43,0.52,0.64,0.31,0.31,0.31,0.31,0.31,0.31,0.31,0.49,0.56,0.63,0.63,0.71,0.71,0.52,0.52,0.52,0.52,0.85,0.83,0.72,0.72,1.1,0.63,0.5,0.48,0.56,0.56,0.6,0.82,1.04,1.32,1.21,1.38,1.24,1.24,1.33,1.39,1.28,1.18,0.25,0.28,0.23,0.11,0.11,0.11,0.07,0.07,0.07,0.07,0.05,0,0,0,0,0,0,0,0,0,0,0,0,0,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.35,0.78,1.19,1.39,2.6,4.96,5.04,4.69,5.23,6.52,7.54,9.89,9.97,9.83,9.99,9.11,9.23,9.13,9.58,9.05,9.31,9.37,9.36,9.81,9.48,9.5,9.77,8.15,8.28,7.98,7.4,7.33,7.27,6.78,5,4.01,3.83,3.66,2.76,2.77,2.19,2.31,2.29,2.66,2.63,2.69,2.03,2.09,2.04,2.02,1.84,1.8,1.61,1.72,1.58,1.55,1.61,1.34,0.85,0.8,0.55,0.5,0.24,0.24,0.34,0.5,0.62],zIndex:5}]});var fireChart=new Highcharts.Chart({chart:{marginLeft:40,marginTop:5,spacingLeft:0,spacingRight:0,renderTo:"fires-chart",type:"column"},colors:["#d8472b"],credits:{enabled:false},legend:{enabled:false},plotOptions:{column:{borderWidth:0,shadow:false,pointPadding:0}},title:{text:null},series:[{name:"Fires",data:[23198,7629,20482,17488,11396,30457]}],tooltip:{borderWidth:0,borderRadius:0,valueDecimals:1,formatter:function(){return"<b>"+this.x+"</b><br />"+this.y.commafy()+" "+this.series.name.toLowerCase()}},xAxis:{minPadding:0,maxPadding:0,tickmarkPlacement:"on",lineColor:"#ccc",categories:["2006","2007","2008","2009","2010","2011"],offset:0},yAxis:{gridLineColor:"#eee",minorGridLineColor:"#eee",minPadding:0,offset:0,tickWidth:0,title:{text:null}}});var areaChart=new Highcharts.Chart({chart:{marginLeft:40,marginTop:5,spacingLeft:0,spacingRight:0,renderTo:"area-chart",type:"column"},colors:["#d8472b"],credits:{enabled:false},legend:{enabled:false},plotOptions:{column:{borderWidth:0,shadow:false,pointPadding:0}},title:{text:null},series:[{name:"Square miles",data:[3088,255,2513,1135,458,6240]}],tooltip:{borderWidth:0,borderRadius:0,valueDecimals:1,formatter:function(){return"<b>"+this.x+"</b><br />"+this.y.commafy()+" "+this.series.name.toLowerCase()}},xAxis:{minPadding:0,maxPadding:0,tickmarkPlacement:"on",lineColor:"#ccc",categories:["2006","2007","2008","2009","2010","2011"],offset:0},yAxis:{gridLineColor:"#eee",minorGridLineColor:"#eee",minPadding:0,offset:0,tickWidth:0,title:{text:null}}});var homesChart=new Highcharts.Chart({chart:{marginLeft:40,marginTop:5,spacingLeft:0,spacingRight:0,renderTo:"homes-chart",type:"column"},colors:["#d8472b"],credits:{enabled:false},legend:{enabled:false},plotOptions:{column:{borderWidth:0,shadow:false,pointPadding:0}},title:{text:null},tooltip:{borderWidth:0,borderRadius:0,valueDecimals:1,formatter:function(){return"<b>"+this.x+"</b><br />"+this.y.commafy()+" "+this.series.name.toLowerCase()}},series:[{name:"Homes",data:[413,37,256,436,100,3017]}],xAxis:{minPadding:0,maxPadding:0,tickmarkPlacement:"on",lineColor:"#ccc",categories:["2006","2007","2008","2009","2010","2011"],offset:0},yAxis:{gridLineColor:"#eee",minorGridLineColor:"#eee",minPadding:0,offset:0,tickWidth:0,title:{text:null}}});var deathsChart=new Highcharts.Chart({chart:{marginLeft:40,marginTop:5,spacingLeft:0,spacingRight:0,renderTo:"deaths-chart",type:"column"},colors:["#d8472b"],credits:{enabled:false},legend:{enabled:false},plotOptions:{column:{borderWidth:0,shadow:false,pointPadding:0}},title:{text:null},tooltip:{borderWidth:0,borderRadius:0,valueDecimals:1,formatter:function(){return"<b>"+this.x+"</b><br />"+this.y.commafy()+" "+this.series.name.toLowerCase()}},series:[{name:"Deaths",data:[41,5,41,68,11,117]}],xAxis:{minPadding:0,maxPadding:0,tickmarkPlacement:"on",lineColor:"#ccc",categories:["2006","2007","2008","2009","2010","2011"],offset:0},yAxis:{gridLineColor:"#eee",minorGridLineColor:"#eee",minPadding:0,max:120,offset:0,tickWidth:0,title:{text:null}}});var previousMM=MM;if(!com){var com={};if(!com.modestmaps){com.modestmaps={}}}var MM=com.modestmaps={noConflict:function(){MM=previousMM;return this}};(function(c){c.extend=function(a,f){for(var b in f.prototype){if(typeof a.prototype[b]=="undefined"){a.prototype[b]=f.prototype[b]}}return a};c.getFrame=function(){return function(a){(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(function(){b(+new Date())},10)})(a)}}();c.transformProperty=(function(a){if(!this.document){return}var b=document.documentElement.style;for(var f=0;f<a.length;f++){if(a[f] in b){return a[f]}}return false})(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]);c.matrixString=function(b){if(b.scale*b.width%1){b.scale+=(1-b.scale*b.width%1)/b.width}if(c._browser.webkit3d){return"matrix3d("+[(b.scale||"1"),"0,0,0,0",(b.scale||"1"),"0,0","0,0,1,0",(b.x+(((b.width*b.scale)-b.width)/2)).toFixed(4),(b.y+(((b.height*b.scale)-b.height)/2)).toFixed(4),0,1].join(",")+")"}else{var a=(c.transformProperty=="MozTransform")?"px":"";return"matrix("+[(b.scale||"1"),0,0,(b.scale||"1"),(b.x+(((b.width*b.scale)-b.width)/2))+a,(b.y+(((b.height*b.scale)-b.height)/2))+a].join(",")+")"}};c._browser=(function(a){return{webkit:("WebKitCSSMatrix" in a),webkit3d:("WebKitCSSMatrix" in a)&&("m11" in new WebKitCSSMatrix())}})(this);c.moveElement=function(a,f){if(c.transformProperty){if(!f.scale){f.scale=1}if(!f.width){f.width=0}if(!f.height){f.height=0}var b=c.matrixString(f);if(a[c.transformProperty]!==b){a.style[c.transformProperty]=a[c.transformProperty]=b}}else{a.style.left=f.x+"px";a.style.top=f.y+"px";if(f.width&&f.height&&f.scale){a.style.width=Math.ceil(f.width*f.scale)+"px";a.style.height=Math.ceil(f.height*f.scale)+"px"}}};c.cancelEvent=function(a){a.cancelBubble=true;a.cancel=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false};c.bind=function(h,b){var a=Array.prototype.slice;var j=Function.prototype.bind;if(h.bind===j&&j){return j.apply(h,a.call(arguments,1))}var k=a.call(arguments,2);return function(){return h.apply(b,k.concat(a.call(arguments)))}};c.coerceLayer=function(a){if(typeof a=="string"){return new c.Layer(new c.TemplatedMapProvider(a))}else{if("draw" in a&&typeof a.draw=="function"){return a}else{return new c.Layer(a)}}};c.addEvent=function(a,b,f){if(a.addEventListener){a.addEventListener(b,f,false);if(b=="mousewheel"){a.addEventListener("DOMMouseScroll",f,false)}}else{if(a.attachEvent){a["e"+b+f]=f;a[b+f]=function(){a["e"+b+f](window.event)};a.attachEvent("on"+b,a[b+f])}}};c.removeEvent=function(a,b,f){if(a.removeEventListener){a.removeEventListener(b,f,false);if(b=="mousewheel"){a.removeEventListener("DOMMouseScroll",f,false)}}else{if(a.detachEvent){a.detachEvent("on"+b,a[b+f]);a[b+f]=null}}};c.getStyle=function(a,b){if(a.currentStyle){return a.currentStyle[b]}else{if(window.getComputedStyle){return document.defaultView.getComputedStyle(a,null).getPropertyValue(b)}}};c.Point=function(b,a){this.x=parseFloat(b);this.y=parseFloat(a)};c.Point.prototype={x:0,y:0,toString:function(){return"("+this.x.toFixed(3)+", "+this.y.toFixed(3)+")"},copy:function(){return new c.Point(this.x,this.y)}};c.Point.distance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))};c.Point.interpolate=function(a,b,f){return new c.Point(a.x+(b.x-a.x)*f,a.y+(b.y-a.y)*f)};c.Coordinate=function(a,f,b){this.row=a;this.column=f;this.zoom=b};c.Coordinate.prototype={row:0,column:0,zoom:0,toString:function(){return"("+this.row.toFixed(3)+", "+this.column.toFixed(3)+" @"+this.zoom.toFixed(3)+")"},toKey:function(){return this.zoom+","+this.row+","+this.column},copy:function(){return new c.Coordinate(this.row,this.column,this.zoom)},container:function(){return new c.Coordinate(Math.floor(this.row),Math.floor(this.column),Math.floor(this.zoom))},zoomTo:function(b){var a=Math.pow(2,b-this.zoom);return new c.Coordinate(this.row*a,this.column*a,b)},zoomBy:function(a){var b=Math.pow(2,a);return new c.Coordinate(this.row*b,this.column*b,this.zoom+a)},up:function(a){if(a===undefined){a=1}return new c.Coordinate(this.row-a,this.column,this.zoom)},right:function(a){if(a===undefined){a=1}return new c.Coordinate(this.row,this.column+a,this.zoom)},down:function(a){if(a===undefined){a=1}return new c.Coordinate(this.row+a,this.column,this.zoom)},left:function(a){if(a===undefined){a=1}return new c.Coordinate(this.row,this.column-a,this.zoom)}};c.Location=function(b,a){this.lat=parseFloat(b);this.lon=parseFloat(a)};c.Location.prototype={lat:0,lon:0,toString:function(){return"("+this.lat.toFixed(3)+", "+this.lon.toFixed(3)+")"},copy:function(){return new c.Location(this.lat,this.lon)}};c.Location.distance=function(u,v,z){if(!z){z=6378000}var a=Math.PI/180,x=u.lat*a,b=u.lon*a,y=v.lat*a,e=v.lon*a,q=Math.cos(x)*Math.cos(b)*Math.cos(y)*Math.cos(e),s=Math.cos(x)*Math.sin(b)*Math.cos(y)*Math.sin(e),t=Math.sin(x)*Math.sin(y);return Math.acos(q+s+t)*z};c.Location.interpolate=function(B,D,x){if(B.lat===D.lat&&B.lon===D.lon){return new c.Location(B.lat,B.lon)}var I=Math.PI/180,z=B.lat*I,v=B.lon*I,A=D.lat*I,y=D.lon*I;var f=2*Math.asin(Math.sqrt(Math.pow(Math.sin((z-A)/2),2)+Math.cos(z)*Math.cos(A)*Math.pow(Math.sin((v-y)/2),2)));var H=Math.atan2(Math.sin(v-y)*Math.cos(A),Math.cos(z)*Math.sin(A)-Math.sin(z)*Math.cos(A)*Math.cos(v-y))/-(Math.PI/180);H=H<0?360+H:H;var E=Math.sin((1-x)*f)/Math.sin(f);var G=Math.sin(x*f)/Math.sin(f);var J=E*Math.cos(z)*Math.cos(v)+G*Math.cos(A)*Math.cos(y);var a=E*Math.cos(z)*Math.sin(v)+G*Math.cos(A)*Math.sin(y);var b=E*Math.sin(z)+G*Math.sin(A);var F=Math.atan2(b,Math.sqrt(Math.pow(J,2)+Math.pow(a,2)));var C=Math.atan2(a,J);return new c.Location(F/I,C/I)};c.Extent=function(a,m,b,j){if(arguments[0] instanceof c.Location){var k=arguments[0];a=k.lat;m=k.lon}if(arguments[1] instanceof c.Location){var n=arguments[1];b=n.lat;j=n.lon}if(isNaN(b)){b=a}if(isNaN(j)){j=m}this.north=Math.max(a,b);this.south=Math.min(a,b);this.east=Math.max(j,m);this.west=Math.min(j,m)};c.Extent.prototype={north:0,south:0,east:0,west:0,copy:function(){return new c.Extent(this.north,this.west,this.south,this.east)},toString:function(a){if(isNaN(a)){a=3}return[this.north.toFixed(a),this.west.toFixed(a),this.south.toFixed(a),this.east.toFixed(a)].join(", ")},northWest:function(){return new c.Location(this.north,this.west)},southEast:function(){return new c.Location(this.south,this.east)},northEast:function(){return new c.Location(this.north,this.east)},southWest:function(){return new c.Location(this.south,this.west)},center:function(){return new c.Location(this.south+(this.north-this.south)/2,this.east+(this.west-this.east)/2)},encloseLocation:function(a){if(a.lat>this.north){this.north=a.lat}if(a.lat<this.south){this.south=a.lat}if(a.lon>this.east){this.east=a.lon}if(a.lon<this.west){this.west=a.lon}},encloseLocations:function(b){var f=b.length;for(var a=0;a<f;a++){this.encloseLocation(b[a])}},setFromLocations:function(g){var h=g.length,a=g[0];this.north=this.south=a.lat;this.east=this.west=a.lon;for(var b=1;b<h;b++){this.encloseLocation(g[b])}},encloseExtent:function(a){if(a.north>this.north){this.north=a.north}if(a.south<this.south){this.south=a.south}if(a.east>this.east){this.east=a.east}if(a.west<this.west){this.west=a.west}},containsLocation:function(a){return a.lat>=this.south&&a.lat<=this.north&&a.lon>=this.west&&a.lon<=this.east},toArray:function(){return[this.northWest(),this.southEast()]}};c.Extent.fromString=function(a){var b=a.split(/\s*,\s*/);if(b.length!=4){throw"Invalid extent string (expecting 4 comma-separated numbers)"}return new c.Extent(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]))};c.Extent.fromArray=function(b){var a=new c.Extent();a.setFromLocations(b);return a};c.Transformation=function(k,b,n,m,j,a){this.ax=k;this.bx=b;this.cx=n;this.ay=m;this.by=j;this.cy=a};c.Transformation.prototype={ax:0,bx:0,cx:0,ay:0,by:0,cy:0,transform:function(a){return new c.Point(this.ax*a.x+this.bx*a.y+this.cx,this.ay*a.x+this.by*a.y+this.cy)},untransform:function(a){return new c.Point((a.x*this.by-a.y*this.bx-this.cx*this.by+this.cy*this.bx)/(this.ax*this.by-this.ay*this.bx),(a.x*this.ay-a.y*this.ax-this.cx*this.ay+this.cy*this.ax)/(this.bx*this.ay-this.by*this.ax))}};c.deriveTransformation=function(s,t,z,A,D,a,x,y,B,C,b,q){var u=c.linearSolution(s,t,z,D,a,x,B,C,b);var v=c.linearSolution(s,t,A,D,a,y,B,C,q);return new c.Transformation(u[0],u[1],u[2],v[0],v[1],v[2])};c.linearSolution=function(y,a,u,z,b,v,A,p,x){y=parseFloat(y);a=parseFloat(a);u=parseFloat(u);z=parseFloat(z);b=parseFloat(b);v=parseFloat(v);A=parseFloat(A);p=parseFloat(p);x=parseFloat(x);var q=(((v-x)*(a-b))-((u-v)*(b-p)))/(((z-A)*(a-b))-((y-z)*(b-p)));var s=(((v-x)*(y-z))-((u-v)*(z-A)))/(((b-p)*(y-z))-((a-b)*(z-A)));var t=u-(y*q)-(a*s);return[q,s,t]};c.Projection=function(a,b){if(!b){b=new c.Transformation(1,0,0,0,1,0)}this.zoom=a;this.transformation=b};c.Projection.prototype={zoom:0,transformation:null,rawProject:function(a){throw"Abstract method not implemented by subclass."},rawUnproject:function(a){throw"Abstract method not implemented by subclass."},project:function(a){a=this.rawProject(a);if(this.transformation){a=this.transformation.transform(a)}return a},unproject:function(a){if(this.transformation){a=this.transformation.untransform(a)}a=this.rawUnproject(a);return a},locationCoordinate:function(a){var b=new c.Point(Math.PI*a.lon/180,Math.PI*a.lat/180);b=this.project(b);return new c.Coordinate(b.y,b.x,this.zoom)},coordinateLocation:function(a){a=a.zoomTo(this.zoom);var b=new c.Point(a.column,a.row);b=this.unproject(b);return new c.Location(180*b.y/Math.PI,180*b.x/Math.PI)}};c.LinearProjection=function(a,b){c.Projection.call(this,a,b)};c.LinearProjection.prototype={rawProject:function(a){return new c.Point(a.x,a.y)},rawUnproject:function(a){return new c.Point(a.x,a.y)}};c.extend(c.LinearProjection,c.Projection);c.MercatorProjection=function(a,b){c.Projection.call(this,a,b)};c.MercatorProjection.prototype={rawProject:function(a){return new c.Point(a.x,Math.log(Math.tan(0.25*Math.PI+0.5*a.y)))},rawUnproject:function(a){return new c.Point(a.x,2*Math.atan(Math.pow(Math.E,a.y))-0.5*Math.PI)}};c.extend(c.MercatorProjection,c.Projection);c.MapProvider=function(a){if(a){this.getTile=a}};c.MapProvider.prototype={tileLimits:[new c.Coordinate(0,0,0),new c.Coordinate(1,1,0).zoomTo(18)],getTileUrl:function(a){throw"Abstract method not implemented by subclass."},getTile:function(a){throw"Abstract method not implemented by subclass."},releaseTile:function(a){},setZoomRange:function(a,b){this.tileLimits[0]=this.tileLimits[0].zoomTo(a);this.tileLimits[1]=this.tileLimits[1].zoomTo(b)},sourceCoordinate:function(a){var j=this.tileLimits[0].zoomTo(a.zoom),h=this.tileLimits[1].zoomTo(a.zoom),k=Math.pow(2,a.zoom),b;if(a.column<0){b=(a.column+k)%k}else{b=a.column%k}if(a.row<j.row||a.row>=h.row){return null}else{if(b<j.column||b>=h.column){return null}else{return new c.Coordinate(a.row,b,a.zoom)}}}};c.TemplatedMapProvider=function(h,k){var b=h.match(/{(Q|quadkey)}/);if(b){h=h.replace("{subdomains}","{S}").replace("{zoom}","{Z}").replace("{quadkey}","{Q}")}var j=(k&&k.length&&h.indexOf("{S}")>=0);var a=function(e){var f=this.sourceCoordinate(e);if(!f){return null}var g=h;if(j){var m=parseInt(f.zoom+f.row+f.column,10)%k.length;g=g.replace("{S}",k[m])}if(b){return g.replace("{Z}",f.zoom.toFixed(0)).replace("{Q}",this.quadKey(f.row,f.column,f.zoom))}else{return g.replace("{Z}",f.zoom.toFixed(0)).replace("{X}",f.column.toFixed(0)).replace("{Y}",f.row.toFixed(0))}};c.MapProvider.call(this,a)};c.TemplatedMapProvider.prototype={quadKey:function(a,h,b){var j="";for(var k=1;k<=b;k++){j+=(((a>>b-k)&1)<<1)|((h>>b-k)&1)}return j||"0"},getTile:function(a){return this.getTileUrl(a)}};c.extend(c.TemplatedMapProvider,c.MapProvider);c.TemplatedLayer=function(a,b){return new c.Layer(new c.TemplatedMapProvider(a,b))};c.getMousePoint=function(a,b){var h=new c.Point(a.clientX,a.clientY);h.x+=document.body.scrollLeft+document.documentElement.scrollLeft;h.y+=document.body.scrollTop+document.documentElement.scrollTop;for(var e=b.parent;e;e=e.offsetParent){h.x-=e.offsetLeft;h.y-=e.offsetTop}return h};c.MouseWheelHandler=function(a,b){if(a){this.init(a,b)}else{if(arguments.length>1){this.precise=b?true:false}}};c.MouseWheelHandler.prototype={precise:false,init:function(a){this.map=a;this._mouseWheel=c.bind(this.mouseWheel,this);this._zoomDiv=document.body.appendChild(document.createElement("div"));this._zoomDiv.style.cssText="visibility:hidden;top:0;height:0;width:0;overflow-y:scroll";var b=this._zoomDiv.appendChild(document.createElement("div"));b.style.height="2000px";c.addEvent(a.parent,"mousewheel",this._mouseWheel)},remove:function(){c.removeEvent(this.map.parent,"mousewheel",this._mouseWheel);this._zoomDiv.parentNode.removeChild(this._zoomDiv)},mouseWheel:function(b){var a=0;this.prevTime=this.prevTime||new Date().getTime();try{this._zoomDiv.scrollTop=1000;this._zoomDiv.dispatchEvent(b);a=1000-this._zoomDiv.scrollTop}catch(j){a=b.wheelDelta||(-b.detail*5)}var e=new Date().getTime()-this.prevTime;if(Math.abs(a)>0&&(e>200)&&!this.precise){var k=c.getMousePoint(b,this.map);this.map.zoomByAbout(a>0?1:-1,k);this.prevTime=new Date().getTime()}else{if(this.precise){var k=c.getMousePoint(b,this.map);this.map.zoomByAbout(a*0.001,k)}}return c.cancelEvent(b)}};c.DoubleClickHandler=function(a){if(a!==undefined){this.init(a)}};c.DoubleClickHandler.prototype={init:function(a){this.map=a;this._doubleClick=c.bind(this.doubleClick,this);c.addEvent(a.parent,"dblclick",this._doubleClick)},remove:function(){c.removeEvent(this.map.parent,"dblclick",this._doubleClick)},doubleClick:function(a){var b=c.getMousePoint(a,this.map);this.map.zoomByAbout(a.shiftKey?-1:1,b);return c.cancelEvent(a)}};c.DragHandler=function(a){if(a!==undefined){this.init(a)}};c.DragHandler.prototype={init:function(a){this.map=a;this._mouseDown=c.bind(this.mouseDown,this);c.addEvent(a.parent,"mousedown",this._mouseDown)},remove:function(){c.removeEvent(this.map.parent,"mousedown",this._mouseDown)},mouseDown:function(a){c.addEvent(document,"mouseup",this._mouseUp=c.bind(this.mouseUp,this));c.addEvent(document,"mousemove",this._mouseMove=c.bind(this.mouseMove,this));this.prevMouse=new c.Point(a.clientX,a.clientY);this.map.parent.style.cursor="move";return c.cancelEvent(a)},mouseMove:function(a){if(this.prevMouse){this.map.panBy(a.clientX-this.prevMouse.x,a.clientY-this.prevMouse.y);this.prevMouse.x=a.clientX;this.prevMouse.y=a.clientY;this.prevMouse.t=+new Date()}return c.cancelEvent(a)},mouseUp:function(a){c.removeEvent(document,"mouseup",this._mouseUp);c.removeEvent(document,"mousemove",this._mouseMove);this.prevMouse=null;this.map.parent.style.cursor="";return c.cancelEvent(a)}};c.MouseHandler=function(a){if(a!==undefined){this.init(a)}};c.MouseHandler.prototype={init:function(a){this.map=a;this.handlers=[new c.DragHandler(a),new c.DoubleClickHandler(a),new c.MouseWheelHandler(a)]},remove:function(){for(var a=0;a<this.handlers.length;a++){this.handlers[a].remove()}}};var d=(function(){var a=window.documentMode;return("onhashchange" in window)&&(a===undefined||a>7)})();c.Hash=function(a){this.onMapMove=c.bind(this.onMapMove,this);this.onHashChange=c.bind(this.onHashChange,this);if(a){this.init(a)}};c.Hash.prototype={map:null,lastHash:null,parseHash:function(b){var k=b.split("/");if(k.length==3){var j=parseInt(k[0],10),h=parseFloat(k[1]),a=parseFloat(k[2]);if(isNaN(j)||isNaN(h)||isNaN(a)){return false}else{return{center:new c.Location(h,a),zoom:j}}}else{return false}},formatHash:function(a){var h=a.getCenter(),b=a.getZoom(),g=Math.max(0,Math.ceil(Math.log(b)/Math.LN2));return"#"+[b,h.lat.toFixed(g),h.lon.toFixed(g)].join("/")},init:function(a){this.map=a;this.map.addCallback("drawn",this.onMapMove);this.lastHash=null;this.onHashChange();if(!this.isListening){this.startListening()}},remove:function(){this.map=null;if(this.isListening){this.stopListening()}},onMapMove:function(a){if(this.movingMap||this.map.zoom===0){return false}var b=this.formatHash(a);if(this.lastHash!=b){location.replace(b);this.lastHash=b}},movingMap:false,update:function(){var a=location.hash;if(a===this.lastHash){return}var b=a.substr(1),f=this.parseHash(b);if(f){this.movingMap=true;this.map.setCenterZoom(f.center,f.zoom);this.movingMap=false}else{this.onMapMove(this.map)}},changeDefer:100,changeTimeout:null,onHashChange:function(){if(!this.changeTimeout){var a=this;this.changeTimeout=setTimeout(function(){a.update();a.changeTimeout=null},this.changeDefer)}},isListening:false,hashChangeInterval:null,startListening:function(){if(d){window.addEventListener("hashchange",this.onHashChange,false)}else{clearInterval(this.hashChangeInterval);this.hashChangeInterval=setInterval(this.onHashChange,50)}this.isListening=true},stopListening:function(){if(d){window.removeEventListener("hashchange",this.onHashChange)}else{clearInterval(this.hashChangeInterval)}this.isListening=false}};c.TouchHandler=function(a,b){if(a){this.init(a,b)}};c.TouchHandler.prototype={maxTapTime:250,maxTapDistance:30,maxDoubleTapDelay:350,locations:{},taps:[],wasPinching:false,lastPinchCenter:null,init:function(a,b){this.map=a;b=b||{};if(!this.isTouchable()){return false}this._touchStartMachine=c.bind(this.touchStartMachine,this);this._touchMoveMachine=c.bind(this.touchMoveMachine,this);this._touchEndMachine=c.bind(this.touchEndMachine,this);c.addEvent(a.parent,"touchstart",this._touchStartMachine);c.addEvent(a.parent,"touchmove",this._touchMoveMachine);c.addEvent(a.parent,"touchend",this._touchEndMachine);this.options={};this.options.snapToZoom=b.snapToZoom||true},isTouchable:function(){var a=document.createElement("div");a.setAttribute("ongesturestart","return;");return(typeof a.ongesturestart==="function")},remove:function(){if(!this.isTouchable()){return false}c.removeEvent(this.map.parent,"touchstart",this._touchStartMachine);c.removeEvent(this.map.parent,"touchmove",this._touchMoveMachine);c.removeEvent(this.map.parent,"touchend",this._touchEndMachine)},updateTouches:function(a){for(var b=0;b<a.touches.length;b+=1){var e=a.touches[b];if(e.identifier in this.locations){var h=this.locations[e.identifier];h.x=e.screenX;h.y=e.screenY;h.scale=a.scale}else{this.locations[e.identifier]={scale:a.scale,startPos:{x:e.screenX,y:e.screenY},x:e.screenX,y:e.screenY,time:new Date().getTime()}}}},sameTouch:function(b,a){return(b&&b.touch)&&(a.identifier==b.touch.identifier)},touchStartMachine:function(a){this.updateTouches(a);return c.cancelEvent(a)},touchMoveMachine:function(a){switch(a.touches.length){case 1:this.onPanning(a.touches[0]);break;case 2:this.onPinching(a);break}this.updateTouches(a);return c.cancelEvent(a)},touchEndMachine:function(j){var x=new Date().getTime();if(j.touches.length===0&&this.wasPinching){this.onPinched(this.lastPinchCenter)}for(var s=0;s<j.changedTouches.length;s+=1){var a=j.changedTouches[s],q=this.locations[a.identifier];if(!q||q.wasPinch){continue}var b={x:a.screenX,y:a.screenY},u=x-q.time,v=c.Point.distance(b,q.startPos);if(v>this.maxTapDistance){}else{if(u>this.maxTapTime){b.end=x;b.duration=u;this.onHold(b)}else{b.time=x;this.onTap(b)}}}var e={};for(var t=0;t<j.touches.length;t++){e[j.touches[t].identifier]=true}for(var y in this.locations){if(!(y in e)){delete e[y]}}return c.cancelEvent(j)},onHold:function(a){},onTap:function(a){if(this.taps.length&&(a.time-this.taps[0].time)<this.maxDoubleTapDelay){this.onDoubleTap(a);this.taps=[];return}this.taps=[a]},onDoubleTap:function(j){var b=this.map.getZoom(),a=Math.round(b)+1,k=a-b;var h=new c.Point(j.x,j.y);this.map.zoomByAbout(k,h)},onPanning:function(a){var b={x:a.screenX,y:a.screenY},f=this.locations[a.identifier];this.map.panBy(b.x-f.x,b.y-f.y)},onPinching:function(e){var m=e.touches[0],n=e.touches[1],a=new c.Point(m.screenX,m.screenY),b=new c.Point(n.screenX,n.screenY),p=this.locations[m.identifier],q=this.locations[n.identifier];p.wasPinch=true;q.wasPinch=true;var s=c.Point.interpolate(a,b,0.5);this.map.zoomByAbout(Math.log(e.scale)/Math.LN2-Math.log(p.scale)/Math.LN2,s);var o=c.Point.interpolate(p,q,0.5);this.map.panBy(s.x-o.x,s.y-o.y);this.wasPinching=true;this.lastPinchCenter=s},onPinched:function(f){if(this.options.snapToZoom){var b=this.map.getZoom(),a=Math.round(b);this.map.zoomByAbout(a-b,f)}this.wasPinching=false}};c.CallbackManager=function(f,a){this.owner=f;this.callbacks={};for(var b=0;b<a.length;b++){this.callbacks[a[b]]=[]}};c.CallbackManager.prototype={owner:null,callbacks:null,addCallback:function(b,a){if(typeof(a)=="function"&&this.callbacks[b]){this.callbacks[b].push(a)}},removeCallback:function(b,a){if(typeof(a)=="function"&&this.callbacks[b]){var j=this.callbacks[b],k=j.length;for(var h=0;h<k;h++){if(j[h]===a){j.splice(h,1);break}}}},dispatchCallback:function(b,e){if(this.callbacks[b]){for(var h=0;h<this.callbacks[b].length;h+=1){try{this.callbacks[b][h](this.owner,e)}catch(a){}}}}};c.RequestManager=function(){this.loadingBay=document.createDocumentFragment();this.requestsById={};this.openRequestCount=0;this.maxOpenRequests=4;this.requestQueue=[];this.callbackManager=new c.CallbackManager(this,["requestcomplete","requesterror"])};c.RequestManager.prototype={loadingBay:null,requestsById:null,requestQueue:null,openRequestCount:null,maxOpenRequests:null,callbackManager:null,addCallback:function(b,a){this.callbackManager.addCallback(b,a)},removeCallback:function(b,a){this.callbackManager.removeCallback(b,a)},dispatchCallback:function(a,b){this.callbackManager.dispatchCallback(a,b)},clear:function(){this.clearExcept({})},clearRequest:function(a){if(a in this.requestsById){delete this.requestsById[a]}for(var f=0;f<this.requestQueue.length;f++){var b=this.requestQueue[f];if(b&&b.id==a){this.requestQueue[f]=null}}},clearExcept:function(m){for(var n=0;n<this.requestQueue.length;n++){var j=this.requestQueue[n];if(j&&!(j.id in m)){this.requestQueue[n]=null}}var q=this.loadingBay.childNodes;for(var o=q.length-1;o>=0;o--){var p=q[o];if(!(p.id in m)){this.loadingBay.removeChild(p);this.openRequestCount--;p.src=p.coord=p.onload=p.onerror=null}}for(var a in this.requestsById){if(!(a in m)){if(this.requestsById.hasOwnProperty(a)){var b=this.requestsById[a];delete this.requestsById[a];if(b!==null){b=b.id=b.coord=b.url=null}}}}},hasRequest:function(a){return(a in this.requestsById)},requestTile:function(a,b,h){if(!(a in this.requestsById)){var g={id:a,coord:b.copy(),url:h};this.requestsById[a]=g;if(h){this.requestQueue.push(g)}}},getProcessQueue:function(){if(!this._processQueue){var a=this;this._processQueue=function(){a.processQueue()}}return this._processQueue},processQueue:function(a){if(a&&this.requestQueue.length>8){this.requestQueue.sort(a)}while(this.openRequestCount<this.maxOpenRequests&&this.requestQueue.length>0){var b=this.requestQueue.pop();if(b){this.openRequestCount++;var f=document.createElement("img");f.id=b.id;f.style.position="absolute";f.coord=b.coord;this.loadingBay.appendChild(f);f.onload=f.onerror=this.getLoadComplete();f.src=b.url;b=b.id=b.coord=b.url=null}}},_loadComplete:null,getLoadComplete:function(){if(!this._loadComplete){var a=this;this._loadComplete=function(b){b=b||window.event;var e=b.srcElement||b.target;e.onload=e.onerror=null;a.loadingBay.removeChild(e);a.openRequestCount--;delete a.requestsById[e.id];if(b.type==="load"&&(e.complete||(e.readyState&&e.readyState=="complete"))){a.dispatchCallback("requestcomplete",e)}else{a.dispatchCallback("requesterror",e.src);e.src=null}setTimeout(a.getProcessQueue(),0)}}return this._loadComplete}};c.Layer=function(a,b){this.parent=b||document.createElement("div");this.parent.style.cssText="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; margin: 0; padding: 0; z-index: 0";this.levels={};this.requestManager=new c.RequestManager();this.requestManager.addCallback("requestcomplete",this.getTileComplete());if(a){this.setProvider(a)}};c.Layer.prototype={map:null,parent:null,tiles:null,levels:null,requestManager:null,tileCacheSize:null,maxTileCacheSize:null,provider:null,recentTiles:null,recentTilesById:{},enablePyramidLoading:false,_tileComplete:null,getTileComplete:function(){if(!this._tileComplete){var a=this;this._tileComplete=function(g,b){a.tiles[b.id]=b;a.tileCacheSize++;var h={id:b.id,lastTouchedTime:new Date().getTime()};a.recentTilesById[b.id]=h;a.recentTiles.push(h);a.positionTile(b)}}return this._tileComplete},draw:function(){var b=Math.round(this.map.coordinate.zoom);var q=this.map.pointCoordinate(new c.Point(0,0)).zoomTo(b).container();var x=this.map.pointCoordinate(this.map.dimensions).zoomTo(b).container().right().down();var u={};var s=this.createOrGetLevel(q.zoom);var y=q.copy();for(y.column=q.column;y.column<=x.column;y.column++){for(y.row=q.row;y.row<=x.row;y.row++){var C=this.inventoryVisibleTile(s,y);while(C.length){u[C.pop()]=true}}}for(var A in this.levels){if(this.levels.hasOwnProperty(A)){var a=parseInt(A,10);if(a>=q.zoom-5&&a<q.zoom+2){continue}var B=this.levels[A];B.style.display="none";var z=this.tileElementsInLevel(B);while(z.length){this.provider.releaseTile(z[0].coord);this.requestManager.clearRequest(z[0].coord.toKey());B.removeChild(z[0]);z.shift()}}}var D=q.zoom-5;var t=q.zoom+2;for(var v=D;v<t;v++){this.adjustVisibleLevel(this.levels[v],v,u)}this.requestManager.clearExcept(u);this.requestManager.processQueue(this.getCenterDistanceCompare());this.checkCache()},inventoryVisibleTile:function(a,E){var z=E.toKey(),D=[z];if(z in this.tiles){var A=this.tiles[z];if(A.parentNode!=a){a.appendChild(A);if("reAddTile" in this.provider){this.provider.reAddTile(z,E,A)}}return D}if(!this.requestManager.hasRequest(z)){var b=this.provider.getTile(E);if(typeof b=="string"){this.addTileImage(z,E,b)}else{if(b){this.addTileElement(z,E,b)}}}var C=false;var t=E.zoom;for(var y=1;y<=t;y++){var F=E.zoomBy(-y).container();var s=F.toKey();if(this.enablePyramidLoading){D.push(s);var u=this.createOrGetLevel(F.zoom);if(s in this.tiles){var v=this.tiles[s];if(v.parentNode!=u){u.appendChild(v)}}else{if(!this.requestManager.hasRequest(s)){var B=this.provider.getTile(F);if(typeof B=="string"){this.addTileImage(s,F,B)}else{this.addTileElement(s,F,B)}}}}else{if(s in this.tiles){D.push(s);C=true;break}}}if(!C&&!this.enablePyramidLoading){var x=E.zoomBy(1);D.push(x.toKey());x.column+=1;D.push(x.toKey());x.row+=1;D.push(x.toKey());x.column-=1;D.push(x.toKey())}return D},tileElementsInLevel:function(a){var f=[];for(var b=a.firstChild;b;b=b.nextSibling){if(b.nodeType==1){f.push(b)}}return f},adjustVisibleLevel:function(v,a,t){var u=new Date().getTime();if(!v){return}var s=1;var b=this.map.coordinate.copy();if(v.childNodes.length>0){v.style.display="block";s=Math.pow(2,this.map.coordinate.zoom-a);b=b.zoomTo(a)}else{v.style.display="none"}var o=this.map.tileSize.x*s;var q=this.map.tileSize.y*s;var x=new c.Point(this.map.dimensions.x/2,this.map.dimensions.y/2);var n=this.tileElementsInLevel(v);while(n.length){var p=n.pop();if(!t[p.id]){this.provider.releaseTile(p.coord);this.requestManager.clearRequest(p.coord.toKey());v.removeChild(p)}this.recentTilesById[p.id].lastTouchedTime=u}c.moveElement(v,{x:Math.round(x.x-(b.column*o)),y:Math.round(x.y-(b.row*q)),scale:s,width:Math.pow(2,b.zoom)*this.map.tileSize.x,height:Math.pow(2,b.zoom)*this.map.tileSize.y})},createOrGetLevel:function(b){if(b in this.levels){return this.levels[b]}var a=document.createElement("div");a.id=this.parent.id+"-zoom-"+b;a.style.cssText=this.parent.style.cssText;a.style.zIndex=b;this.parent.appendChild(a);this.levels[b]=a;return a},addTileImage:function(b,a,f){this.requestManager.requestTile(b,a,f)},addTileElement:function(b,a,g){g.id=b;g.coord=a.copy();this.tiles[b]=g;this.tileCacheSize++;var h={id:b,lastTouchedTime:new Date().getTime()};this.recentTilesById[b]=h;this.recentTiles.push(h);this.positionTile(g)},positionTile:function(a){var b=this.map.coordinate.zoomTo(a.coord.zoom);a.style.cssText="position:absolute;-webkit-user-select: none;-webkit-user-drag: none;-moz-user-drag: none;";a.ondragstart=function(){return false};var j=a.coord.column*this.map.tileSize.x;var k=a.coord.row*this.map.tileSize.y;c.moveElement(a,{x:Math.round(j),y:Math.round(k),width:this.map.tileSize.x,height:this.map.tileSize.y});var h=this.levels[a.coord.zoom];h.appendChild(a);a.className="map-tile-loaded";if(Math.round(this.map.coordinate.zoom)==a.coord.zoom){h.style.display="block"}this.requestRedraw()},_redrawTimer:undefined,requestRedraw:function(){if(!this._redrawTimer){this._redrawTimer=setTimeout(this.getRedraw(),1000)}},_redraw:null,getRedraw:function(){if(!this._redraw){var a=this;this._redraw=function(){a.draw();a._redrawTimer=0}}return this._redraw},checkCache:function(){var a=this.parent.getElementsByTagName("img").length;var h=Math.max(a,this.maxTileCacheSize);if(this.tileCacheSize>h){this.recentTiles.sort(function(e,f){return f.lastTouchedTime<e.lastTouchedTime?-1:f.lastTouchedTime>e.lastTouchedTime?1:0})}while(this.recentTiles.length&&this.tileCacheSize>h){var j=this.recentTiles.pop();var k=new Date().getTime();delete this.recentTilesById[j.id];var b=this.tiles[j.id];if(b.parentNode){alert("Gah: trying to removing cached tile even though it's still in the DOM")}else{delete this.tiles[j.id];this.tileCacheSize--}}},setProvider:function(g){var b=(this.provider===null);if(!b){this.requestManager.clear();for(var h in this.levels){if(this.levels.hasOwnProperty(h)){var a=this.levels[h];while(a.firstChild){this.provider.releaseTile(a.firstChild.coord);a.removeChild(a.firstChild)}}}}this.tiles={};this.tileCacheSize=0;this.maxTileCacheSize=64;this.recentTilesById={};this.recentTiles=[];this.provider=g;if(!b){this.draw()}},getCenterDistanceCompare:function(){var a=this.map.coordinate.zoomTo(Math.round(this.map.coordinate.zoom));return function(m,n){if(m&&n){var j=m.coord;var k=n.coord;if(j.zoom==k.zoom){var o=Math.abs(a.row-j.row-0.5)+Math.abs(a.column-j.column-0.5);var b=Math.abs(a.row-k.row-0.5)+Math.abs(a.column-k.column-0.5);return o<b?1:o>b?-1:0}else{return j.zoom<k.zoom?1:j.zoom>k.zoom?-1:0}}return m?1:n?-1:0}},destroy:function(){this.requestManager.clear();this.requestManager.removeCallback("requestcomplete",this.getTileComplete());this.provider=null;if(this.parent.parentNode){this.parent.parentNode.removeChild(this.parent)}this.map=null}};c.Map=function(j,m,b,a){if(typeof j=="string"){j=document.getElementById(j);if(!j){throw"The ID provided to modest maps could not be found."}}this.parent=j;this.parent.style.padding="0";this.parent.style.overflow="hidden";var p=c.getStyle(this.parent,"position");if(p!="relative"&&p!="absolute"){this.parent.style.position="relative"}this.layers=[];if(!(m instanceof Array)){m=[m]}for(var n=0;n<m.length;n++){this.addLayer(m[n])}this.projection=new c.MercatorProjection(0,c.deriveTransformation(-Math.PI,Math.PI,0,0,Math.PI,Math.PI,1,0,-Math.PI,-Math.PI,0,1));this.tileSize=new c.Point(256,256);this.coordLimits=[new c.Coordinate(0,-Infinity,0),new c.Coordinate(1,Infinity,0).zoomTo(18)];this.coordinate=new c.Coordinate(0.5,0.5,0);if(!b){b=new c.Point(this.parent.offsetWidth,this.parent.offsetHeight);this.autoSize=true;c.addEvent(window,"resize",this.windowResize())}else{this.autoSize=false;this.parent.style.width=Math.round(b.x)+"px";this.parent.style.height=Math.round(b.y)+"px"}this.dimensions=b;this.callbackManager=new c.CallbackManager(this,["zoomed","panned","centered","extentset","resized","drawn"]);if(a===undefined){this.eventHandlers=[new c.MouseHandler(this),new c.TouchHandler(this)]}else{this.eventHandlers=a;if(a instanceof Array){for(var o=0;o<a.length;o++){a[o].init(this)}}}};c.Map.prototype={parent:null,dimensions:null,projection:null,coordinate:null,tileSize:null,coordLimits:null,layers:null,callbackManager:null,eventHandlers:null,autoSize:null,toString:function(){return"Map(#"+this.parent.id+")"},addCallback:function(b,a){this.callbackManager.addCallback(b,a);return this},removeCallback:function(b,a){this.callbackManager.removeCallback(b,a);return this},dispatchCallback:function(a,b){this.callbackManager.dispatchCallback(a,b);return this},windowResize:function(){if(!this._windowResize){var a=this;this._windowResize=function(b){a.dimensions=new c.Point(a.parent.offsetWidth,a.parent.offsetHeight);a.draw();a.dispatchCallback("resized",[a.dimensions])}}return this._windowResize},setZoomRange:function(a,b){this.coordLimits[0]=this.coordLimits[0].zoomTo(a);this.coordLimits[1]=this.coordLimits[1].zoomTo(b)},zoomBy:function(a){this.coordinate=this.enforceLimits(this.coordinate.zoomBy(a));c.getFrame(this.getRedraw());this.dispatchCallback("zoomed",a);return this},zoomIn:function(){return this.zoomBy(1)},zoomOut:function(){return this.zoomBy(-1)},setZoom:function(a){return this.zoomBy(a-this.coordinate.zoom)},zoomByAbout:function(g,h){var a=this.pointLocation(h);this.coordinate=this.enforceLimits(this.coordinate.zoomBy(g));var b=this.locationPoint(a);this.dispatchCallback("zoomed",g);return this.panBy(h.x-b.x,h.y-b.y)},panBy:function(a,b){this.coordinate.column-=a/this.tileSize.x;this.coordinate.row-=b/this.tileSize.y;this.coordinate=this.enforceLimits(this.coordinate);c.getFrame(this.getRedraw());this.dispatchCallback("panned",[a,b]);return this},panLeft:function(){return this.panBy(100,0)},panRight:function(){return this.panBy(-100,0)},panDown:function(){return this.panBy(0,-100)},panUp:function(){return this.panBy(0,100)},setCenter:function(a){return this.setCenterZoom(a,this.coordinate.zoom)},setCenterZoom:function(b,a){this.coordinate=this.projection.locationCoordinate(b).zoomTo(parseFloat(a)||0);c.getFrame(this.getRedraw());this.dispatchCallback("centered",[b,a]);return this},setExtent:function(y,x){if(y instanceof c.Extent){y=y.toArray()}var a,E;for(var D=0;D<y.length;D++){var C=this.projection.locationCoordinate(y[D]);if(a){a.row=Math.min(a.row,C.row);a.column=Math.min(a.column,C.column);a.zoom=Math.min(a.zoom,C.zoom);E.row=Math.max(E.row,C.row);E.column=Math.max(E.column,C.column);E.zoom=Math.max(E.zoom,C.zoom)}else{a=C.copy();E=C.copy()}}var F=this.dimensions.x+1;var G=this.dimensions.y+1;var B=(E.column-a.column)/(F/this.tileSize.x);var v=Math.log(B)/Math.log(2);var A=a.zoom-(x?v:Math.ceil(v));var z=(E.row-a.row)/(G/this.tileSize.y);var J=Math.log(z)/Math.log(2);var I=a.zoom-(x?J:Math.ceil(J));var L=Math.min(A,I);L=Math.min(L,this.coordLimits[1].zoom);L=Math.max(L,this.coordLimits[0].zoom);var K=(a.row+E.row)/2;var b=(a.column+E.column)/2;var H=a.zoom;this.coordinate=new c.Coordinate(K,b,H).zoomTo(L);this.draw();this.dispatchCallback("extentset",y);return this},setSize:function(a){this.dimensions=new c.Point(a.x,a.y);this.parent.style.width=Math.round(this.dimensions.x)+"px";this.parent.style.height=Math.round(this.dimensions.y)+"px";if(this.autoSize){c.removeEvent(window,"resize",this.windowResize());this.autoSize=false}this.draw();this.dispatchCallback("resized",this.dimensions);return this},coordinatePoint:function(a){if(a.zoom!=this.coordinate.zoom){a=a.zoomTo(this.coordinate.zoom)}var b=new c.Point(this.dimensions.x/2,this.dimensions.y/2);b.x+=this.tileSize.x*(a.column-this.coordinate.column);b.y+=this.tileSize.y*(a.row-this.coordinate.row);return b},pointCoordinate:function(b){var a=this.coordinate.copy();a.column+=(b.x-this.dimensions.x/2)/this.tileSize.x;a.row+=(b.y-this.dimensions.y/2)/this.tileSize.y;return a},locationCoordinate:function(a){return this.projection.locationCoordinate(a)},coordinateLocation:function(a){return this.projection.coordinateLocation(a)},locationPoint:function(a){return this.coordinatePoint(this.locationCoordinate(a))},pointLocation:function(a){return this.coordinateLocation(this.pointCoordinate(a))},getExtent:function(){return new c.Extent(this.pointLocation(new c.Point(0,0)),this.pointLocation(this.dimensions))},extent:function(b,a){if(b){return this.setExtent(b,a)}else{return this.getExtent()}},getCenter:function(){return this.projection.coordinateLocation(this.coordinate)},center:function(a){if(a){return this.setCenter(a)}else{return this.getCenter()}},getZoom:function(){return this.coordinate.zoom},zoom:function(a){if(a!==undefined){return this.setZoom(a)}else{return this.getZoom()}},getLayers:function(){return this.layers.slice()},getLayerAt:function(a){return this.layers[a]},addLayer:function(a){this.layers.push(a);this.parent.appendChild(a.parent);a.map=this;return this},removeLayer:function(a){for(var b=0;b<this.layers.length;b++){if(a==this.layers[b]){this.removeLayerAt(b);break}}return this},setLayerAt:function(b,a){if(b<0||b>=this.layers.length){throw new Error("invalid index in setLayerAt(): "+b)}if(this.layers[b]!=a){if(b<this.layers.length){this.layers[b].destroy()}this.layers[b]=a;this.parent.appendChild(a.parent);a.map=this;c.getFrame(this.getRedraw())}return this},insertLayerAt:function(b,a){if(b<0||b>this.layers.length){throw new Error("invalid index in insertLayerAt(): "+b)}if(b==this.layers.length){this.layers.push(a);this.parent.appendChild(a.parent)}else{var f=this.layers[b];this.parent.insertBefore(a.parent,f.parent);this.layers.splice(b,0,a)}a.map=this;c.getFrame(this.getRedraw());return this},removeLayerAt:function(a){if(a<0||a>=this.layers.length){throw new Error("invalid index in removeLayer(): "+a)}var b=this.layers[a];this.layers.splice(a,1);b.destroy();return this},swapLayersAt:function(j,k){if(j<0||j>=this.layers.length||k<0||k>=this.layers.length){throw new Error("invalid index in swapLayersAt(): "+index)}var a=this.layers[j],h=this.layers[k],b=document.createElement("div");this.parent.replaceChild(b,h.parent);this.parent.replaceChild(h.parent,a.parent);this.parent.replaceChild(a.parent,b);this.layers[j]=h;this.layers[k]=a;return this},enforceZoomLimits:function(a){var g=this.coordLimits;if(g){var b=g[0].zoom;var h=g[1].zoom;if(a.zoom<b){a=a.zoomTo(b)}else{if(a.zoom>h){a=a.zoomTo(h)}}}return a},enforcePanLimits:function(a){var m=this.coordLimits;if(m){a=a.copy();var j=m[0].zoomTo(a.zoom);var n=m[1].zoomTo(a.zoom);var k=this.pointCoordinate(new c.Point(0,0));var b=this.pointCoordinate(this.dimensions);if(n.row-j.row<b.row-k.row){a.row=(n.row+j.row)/2}else{if(k.row<j.row){a.row+=j.row-k.row}else{if(b.row>n.row){a.row-=b.row-n.row}}}if(n.column-j.column<b.column-k.column){a.column=(n.column+j.column)/2}else{if(k.column<j.column){a.column+=j.column-k.column}else{if(b.column>n.column){a.column-=b.column-n.column}}}}return a},enforceLimits:function(a){return this.enforcePanLimits(this.enforceZoomLimits(a))},draw:function(){this.coordinate=this.enforceLimits(this.coordinate);if(this.dimensions.x<=0||this.dimensions.y<=0){if(this.autoSize){var f=this.parent.offsetWidth,a=this.parent.offsetHeight;this.dimensions=new c.Point(f,a);if(f<=0||a<=0){return}}else{return}}for(var b=0;b<this.layers.length;b++){this.layers[b].draw()}this.dispatchCallback("drawn")},_redrawTimer:undefined,requestRedraw:function(){if(!this._redrawTimer){this._redrawTimer=setTimeout(this.getRedraw(),1000)}},_redraw:null,getRedraw:function(){if(!this._redraw){var a=this;this._redraw=function(){a.draw();a._redrawTimer=0}}return this._redraw},destroy:function(){for(var b=0;b<this.layers.length;b++){this.layers[b].destroy()}this.layers=[];this.projection=null;for(var a=0;a<this.eventHandlers.length;a++){this.eventHandlers[a].remove()}if(this.autoSize){c.removeEvent(window,"resize",this.windowResize())}}};c.mapByCenterZoom=function(k,b,n,j){var m=c.coerceLayer(b),a=new c.Map(k,m,false);a.setCenterZoom(n,j).draw();return a};c.mapByExtent=function(k,b,j,m){var n=c.coerceLayer(b),a=new c.Map(k,n,false);a.setExtent([j,m]).draw();return a};if(typeof module!=="undefined"&&module.exports){module.exports={Point:c.Point,Projection:c.Projection,MercatorProjection:c.MercatorProjection,LinearProjection:c.LinearProjection,Transformation:c.Transformation,Location:c.Location,MapProvider:c.MapProvider,TemplatedMapProvider:c.TemplatedMapProvider,Coordinate:c.Coordinate,deriveTransformation:c.deriveTransformation}}})(MM);
/*!
  * Reqwest! A general purpose XHR connection manager
  * copyright Dustin Diaz 2011
  * https://github.com/ded/reqwest
  * license MIT
  */
!function(context,win){function serial(a){var b=a.name;if(a.disabled||!b){return""}b=enc(b);switch(a.tagName.toLowerCase()){case"input":switch(a.type){case"reset":case"button":case"image":case"file":return"";case"checkbox":case"radio":return a.checked?b+"="+(a.value?enc(a.value):!0)+"&":"";default:return b+"="+(a.value?enc(a.value):"")+"&"}break;case"textarea":return b+"="+enc(a.value)+"&";case"select":return b+"="+enc(a.options[a.selectedIndex].value)+"&"}return""}function enc(a){return encodeURIComponent(a)}function reqwest(a,b){return new Reqwest(a,b)}function init(o,fn){function error(a){o.error&&o.error(a),complete(a)}function success(resp){o.timeout&&clearTimeout(self.timeout)&&(self.timeout=null);var r=resp.responseText;if(r){switch(type){case"json":resp=win.JSON?win.JSON.parse(r):eval("("+r+")");break;case"js":resp=eval(r);break;case"html":resp=r}}fn(resp),o.success&&o.success(resp),complete(resp)}function complete(a){o.complete&&o.complete(a)}this.url=typeof o=="string"?o:o.url,this.timeout=null;var type=o.type||setType(this.url),self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort(),error()},o.timeout)),this.request=getRequest(o,success,error)}function setType(a){if(/\.json$/.test(a)){return"json"}if(/\.jsonp$/.test(a)){return"jsonp"}if(/\.js$/.test(a)){return"js"}if(/\.html?$/.test(a)){return"html"}if(/\.xml$/.test(a)){return"xml"}return"js"}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function getRequest(a,b,c){if(a.type!="jsonp"){var f=xhr();f.open(a.method||"GET",typeof a=="string"?a:a.url,!0),setHeaders(f,a),f.onreadystatechange=handleReadyState(f,b,c),a.before&&a.before(f),f.send(a.data||null);return f}var d=doc.createElement("script"),e=0;win[getCallbackName(a)]=generalCallback,d.type="text/javascript",d.src=a.url,d.async=!0,d.onload=d.onreadystatechange=function(){if(d[readyState]&&d[readyState]!=="complete"&&d[readyState]!=="loaded"||e){return !1}d.onload=d.onreadystatechange=null,a.success&&a.success(lastValue),lastValue=undefined,head.removeChild(d),e=1},head.appendChild(d)}function generalCallback(a){lastValue=a}function getCallbackName(a){var b=a.jsonpCallback||"callback";if(a.url.slice(-(b.length+2))==b+"=?"){var c="reqwest_"+uniqid++;a.url=a.url.substr(0,a.url.length-1)+c;return c}var d=new RegExp(b+"=([\\w]+)");return a.url.match(d)[1]}function setHeaders(a,b){var c=b.headers||{};c.Accept=c.Accept||"text/javascript, text/html, application/xml, text/xml, */*",b.crossOrigin||(c["X-Requested-With"]=c["X-Requested-With"]||"XMLHttpRequest"),c[contentType]=c[contentType]||"application/x-www-form-urlencoded";for(var d in c){c.hasOwnProperty(d)&&a.setRequestHeader(d,c[d],!1)}}function handleReadyState(a,b,c){return function(){a&&a[readyState]==4&&(twoHundo.test(a.status)?b(a):c(a))}}var twoHundo=/^20\d$/,doc=document,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",head=doc[byTag]("head")[0],uniqid=0,lastValue,xhr="XMLHttpRequest" in win?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};Reqwest.prototype={abort:function(){this.request.abort()},retry:function(){init.call(this,this.o,this.fn)}},reqwest.serialize=function(a){var b=[a[byTag]("input"),a[byTag]("select"),a[byTag]("textarea")],c=[],d,e;for(d=0,l=b.length;d<l;++d){for(e=0,l2=b[d].length;e<l2;++e){c.push(serial(b[d][e]))}}return c.join("").replace(/&$/,"")},reqwest.serializeArray=function(a){for(var b=this.serialize(a).split("&"),c=0,d=b.length,e=[],f;c<d;c++){b[c]&&(f=b[c].split("="))&&e.push({name:f[0],value:f[1]})}return e};var old=context.reqwest;reqwest.noConflict=function(){context.reqwest=old;return this},typeof module!="undefined"?module.exports=reqwest:context.reqwest=reqwest}(this,window);var html4={};html4.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};html4.ATTRIBS={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};html4.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};html4.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,nobr:0,noembed:4,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0};html4.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};html4.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"body::background":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0};html4.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};html4.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"body::background":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2};var html=(function(m){var b;if("script"==="SCRIPT".toLowerCase()){b=function(E){return E.toLowerCase()}}else{b=function(E){return E.replace(/[A-Z]/g,function(F){return String.fromCharCode(F.charCodeAt(0)|32)})}}var t={lt:"<",gt:">",amp:"&",nbsp:"\240",quot:'"',apos:"'"};var q=/^(?:https?|mailto|data)$/i;var o=/^#(\d+)$/;var A=/^#x([0-9A-Fa-f]+)$/;function j(F){F=b(F);if(t.hasOwnProperty(F)){return t[F]}var E=F.match(o);if(E){return String.fromCharCode(parseInt(E[1],10))}else{if(!!(E=F.match(A))){return String.fromCharCode(parseInt(E[1],16))}}return""}function c(F,E){return j(E)}var x=/\0/g;function n(E){return E.replace(x,"")}var y=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function e(E){return E.replace(y,c)}var v=/&/g;var D=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var a=/</g;var f=/>/g;var p=/\"/g;var h=/\=/g;function g(E){return E.replace(v,"&amp;").replace(a,"&lt;").replace(f,"&gt;").replace(p,"&#34;").replace(h,"&#61;")}function k(E){return E.replace(D,"&amp;$1").replace(a,"&lt;").replace(f,"&gt;")}var B=new RegExp("^\\s*(?:"+("(?:([a-z][a-z-]*)"+("(\\s*=\\s*"+("(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*)")+")")+"?)")+"|(/?>)|[\\s\\S][^a-z\\s>]*)","i");var C=new RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<!--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");function s(E){return function F(Q,O){Q=String(Q);var R=null;var J=false;var H=[];var K=void 0;var L=void 0;var I=void 0;if(E.startDoc){E.startDoc(O)}while(Q){var N=Q.match(J?B:C);Q=Q.substring(N[0].length);if(J){if(N[1]){var M=b(N[1]);var T;if(N[2]){var P=N[3];switch(P.charCodeAt(0)){case 34:case 39:P=P.substring(1,P.length-1);break}T=e(n(P))}else{T=M}H.push(M,T)}else{if(N[4]){if(L!==void 0){if(I){if(E.startTag){E.startTag(K,H,O)}}else{if(E.endTag){E.endTag(K,O)}}}if(I&&(L&(m.eflags.CDATA|m.eflags.RCDATA))){if(R===null){R=b(Q)}else{R=R.substring(R.length-Q.length)}var S=R.indexOf("</"+K);if(S<0){S=Q.length}if(S){if(L&m.eflags.CDATA){if(E.cdata){E.cdata(Q.substring(0,S),O)}}else{if(E.rcdata){E.rcdata(k(Q.substring(0,S)),O)}}Q=Q.substring(S)}}K=L=I=void 0;H.length=0;J=false}}}else{if(N[1]){if(E.pcdata){E.pcdata(N[0],O)}}else{if(N[3]){I=!N[2];J=true;K=b(N[3]);L=m.ELEMENTS.hasOwnProperty(K)?m.ELEMENTS[K]:void 0}else{if(N[4]){if(E.pcdata){E.pcdata(N[4],O)}}else{if(N[5]){if(E.pcdata){var G=N[5];E.pcdata(G==="<"?"&lt;":G===">"?"&gt;":"&amp;",O)}}}}}}}if(E.endDoc){E.endDoc(O)}}}function z(F){var E;var G;return s({startDoc:function(H){E=[];G=false},startTag:function(K,N,I){if(G){return}if(!m.ELEMENTS.hasOwnProperty(K)){return}var H=m.ELEMENTS[K];if(H&m.eflags.FOLDABLE){return}else{if(H&m.eflags.UNSAFE){G=!(H&m.eflags.EMPTY);return}}N=F(K,N);if(N){if(!(H&m.eflags.EMPTY)){E.push(K)}I.push("<",K);for(var J=0,O=N.length;J<O;J+=2){var L=N[J],M=N[J+1];if(M!==null&&M!==void 0){I.push(" ",L,'="',g(M),'"')}}I.push(">")}},endTag:function(L,J){if(G){G=false;return}if(!m.ELEMENTS.hasOwnProperty(L)){return}var H=m.ELEMENTS[L];if(!(H&(m.eflags.UNSAFE|m.eflags.EMPTY|m.eflags.FOLDABLE))){var I;if(H&m.eflags.OPTIONAL_ENDTAG){for(I=E.length;--I>=0;){var M=E[I];if(M===L){break}if(!(m.ELEMENTS[M]&m.eflags.OPTIONAL_ENDTAG)){return}}}else{for(I=E.length;--I>=0;){if(E[I]===L){break}}}if(I<0){return}for(var K=E.length;--K>I;){var M=E[K];if(!(m.ELEMENTS[M]&m.eflags.OPTIONAL_ENDTAG)){J.push("</",M,">")}}E.length=I;J.push("</",L,">")}},pcdata:function(I,H){if(!G){H.push(I)}},rcdata:function(I,H){if(!G){H.push(I)}},cdata:function(I,H){if(!G){H.push(I)}},endDoc:function(H){for(var I=E.length;--I>=0;){H.push("</",E[I],">")}E.length=0}})}var u=new RegExp("^(?:([^:/?#]+):)?");function d(I,G,H){var E=[];z(function F(M,Q){for(var L=0;L<Q.length;L+=2){var N=Q[L];var O=Q[L+1];var K=null,J;if((J=M+"::"+N,m.ATTRIBS.hasOwnProperty(J))||(J="*::"+N,m.ATTRIBS.hasOwnProperty(J))){K=m.ATTRIBS[J]}if(K!==null){switch(K){case m.atype.NONE:break;case m.atype.SCRIPT:case m.atype.STYLE:O=null;break;case m.atype.ID:case m.atype.IDREF:case m.atype.IDREFS:case m.atype.GLOBAL_NAME:case m.atype.LOCAL_NAME:case m.atype.CLASSES:O=H?H(O):O;break;case m.atype.URI:var P=(""+O).match(u);if(!P){O=null}else{if(!P[1]||q.test(P[1])){O=G&&G(O)}else{O=null}}break;case m.atype.URI_FRAGMENT:if(O&&"#"===O.charAt(0)){O=H?H(O):O;if(O){O="#"+O}}else{O=null}break;default:O=null;break}}else{O=null}Q[L+1]=O}return Q})(I,E);return E.join("")}return{escapeAttrib:g,makeHtmlSanitizer:z,makeSaxParser:s,normalizeRCData:k,sanitize:d,unescapeEntities:e}})(html4);var html_sanitize=html.sanitize;if(typeof window!=="undefined"){window.html=html;window.html_sanitize=html_sanitize}html4.ATTRIBS["*::style"]=0;html4.ELEMENTS.style=0;var Mustache=function(){var a={};var b=function(){};b.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(f,e,d,g){if(!g){this.context=e;this.buffer=[]}if(!this.includes("",f)){if(g){return f}else{this.send(f);return}}f=this.render_pragmas(f);var c=this.render_section(f,e,d);if(c===false){c=this.render_tags(f,e,d,g)}if(g){return c}else{this.sendLines(c)}},send:function(c){if(c!==""){this.buffer.push(c)}},sendLines:function(e){if(e){var c=e.split("\n");for(var d=0;d<c.length;d++){this.send(c[d])}}},render_pragmas:function(c){if(!this.includes("%",c)){return c}var e=this;var d=this.getCachedRegex("render_pragmas",function(g,f){return new RegExp(g+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+f,"g")});return c.replace(d,function(h,f,g){if(!e.pragmas_implemented[f]){throw ({message:"This implementation of mustache doesn't understand the '"+f+"' pragma"})}e.pragmas[f]={};if(g){var j=g.split("=");e.pragmas[f][j[0]]=j[1]}return""})},render_partial:function(c,e,d){c=this.trim(c);if(!d||d[c]===undefined){throw ({message:"unknown_partial '"+c+"'"})}if(typeof(e[c])!="object"){return this.render(d[c],e,d,true)}return this.render(d[c],e[c],d,true)},render_section:function(e,d,c){if(!this.includes("#",e)&&!this.includes("^",e)){return false}var g=this;var f=this.getCachedRegex("render_section",function(j,h){return new RegExp("^([\\s\\S]*?)"+j+"(\\^|\\#)\\s*(.+)\\s*"+h+"\n*([\\s\\S]*?)"+j+"\\/\\s*\\3\\s*"+h+"\\s*([\\s\\S]*)$","g")});return e.replace(f,function(m,q,p,k,n,j){var t=q?g.render_tags(q,d,c,true):"",o=j?g.render(j,d,c,true):"",h,s=g.find(k,d);if(p==="^"){if(!s||g.is_array(s)&&s.length===0){h=g.render(n,d,c,true)}else{h=""}}else{if(p==="#"){if(g.is_array(s)){h=g.map(s,function(u){return g.render(n,g.create_context(u),c,true)}).join("")}else{if(g.is_object(s)){h=g.render(n,g.create_context(s),c,true)}else{if(typeof s==="function"){h=s.call(d,n,function(u){return g.render(u,d,c,true)})}else{if(s){h=g.render(n,d,c,true)}else{h=""}}}}}}return t+h+o})},render_tags:function(m,c,e,g){var f=this;var k=function(){return f.getCachedRegex("render_tags",function(p,o){return new RegExp(p+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+o+"+","g")})};var h=k();var j=function(q,o,p){switch(o){case"!":return"";case"=":f.set_delimiters(p);h=k();return"";case">":return f.render_partial(p,c,e);case"{":return f.find(p,c);default:return f.escape(f.find(p,c))}};var n=m.split("\n");for(var d=0;d<n.length;d++){n[d]=n[d].replace(h,j,this);if(!g){this.send(n[d])}}if(g){return n.join("\n")}},set_delimiters:function(d){var c=d.split(" ");this.otag=this.escape_regex(c[0]);this.ctag=this.escape_regex(c[1])},escape_regex:function(d){if(!arguments.callee.sRE){var c=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+c.join("|\\")+")","g")}return d.replace(arguments.callee.sRE,"\\$1")},find:function(d,e){d=this.trim(d);function c(g){return g===false||g===0||g}var f;if(c(e[d])){f=e[d]}else{if(c(this.context[d])){f=this.context[d]}}if(typeof f==="function"){return f.apply(e)}if(f!==undefined){return f}return""},includes:function(d,c){return c.indexOf(this.otag+d)!=-1},escape:function(c){c=String(c===null?"":c);return c.replace(/&(?!\w+;)|["'<>\\]/g,function(d){switch(d){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return d}})},create_context:function(d){if(this.is_object(d)){return d}else{var e=".";if(this.pragmas["IMPLICIT-ITERATOR"]){e=this.pragmas["IMPLICIT-ITERATOR"].iterator}var c={};c[e]=d;return c}},is_object:function(c){return c&&typeof c=="object"},is_array:function(c){return Object.prototype.toString.call(c)==="[object Array]"},trim:function(c){return c.replace(/^\s*|\s*$/g,"")},map:function(g,e){if(typeof g.map=="function"){return g.map(e)}else{var f=[];var c=g.length;for(var d=0;d<c;d++){f.push(e(g[d]))}return f}},getCachedRegex:function(d,g){var f=a[this.otag];if(!f){f=a[this.otag]={}}var c=f[this.ctag];if(!c){c=f[this.ctag]={}}var e=c[d];if(!e){e=c[d]=g(this.otag,this.ctag)}return e}};return({name:"mustache.js",version:"0.4.0-dev",to_html:function(e,c,d,g){var f=new b();if(g){f.send=g}f.render(e,c||{},d);if(!g){return f.buffer.join("\n")}}})}();wax=wax||{};wax.attribution=function(){var c,b={};function d(a){if(/^(https?:\/\/|data:image)/.test(a)){return a}}function e(a){return a}b.set=function(a){if(typeof a==="undefined"){return}c.innerHTML=html_sanitize(a,d,e);return this};b.element=function(){return c};b.init=function(){c=document.createElement("div");c.className="wax-attribution";return this};return b.init()};wax=wax||{};wax.bwdetect=function(b,h){var e={},a=b.threshold||400,d="http://a.tiles.mapbox.com/mapbox/1.0.0/blue-marble-topo-bathy-jul/0/0/0.png?preventcache="+(+new Date()),g=1,f=b.auto===undefined?true:b.auto;function c(){wax.bw=-1;var j=new Image();j.src=d;var m=true;var k=setTimeout(function(){if(m&&wax.bw==-1){e.bw(0);m=false}},a);j.onload=function(){if(m&&wax.bw==-1){clearTimeout(k);e.bw(1);m=false}}}e.bw=function(j){if(!arguments.length){return g}var k=g;if(wax.bwlisteners&&wax.bwlisteners.length){(function(){listeners=wax.bwlisteners;wax.bwlisteners=[];for(i=0;i<listeners;i++){listeners[i](j)}})()}wax.bw=j;if(g!=(g=j)){h(j)}};e.add=function(){if(f){c()}return this};if(wax.bw==-1){wax.bwlisteners=wax.bwlisteners||[];wax.bwlisteners.push(e.bw)}else{if(wax.bw!==undefined){e.bw(wax.bw)}else{e.add()}}return e};wax.formatter=function(x){var formatter={},f;if(x&&typeof x==="string"){try{eval("f = "+x)}catch(e){if(console){console.log(e)}}}else{if(x&&typeof x==="function"){f=x}else{f=function(){}}}function urlX(url){if(/^(https?:\/\/|data:image)/.test(url)){return url}}function idX(id){return id}formatter.format=function(options,data){try{return html_sanitize(f(options,data),urlX,idX)}catch(e){if(console){console.log(e)}}};return formatter};wax.GridInstance=function(b,e,d){d=d||{};var a={},c=d.resolution||4,g=d.tileSize||256;function f(h){if(h>=93){h--}if(h>=35){h--}h-=32;return h}a.grid_tile=function(){return b};a.getKey=function(h,j){if(!(b&&b.grid)){return}if((j<0)||(h<0)){return}if((Math.floor(j)>=g)||(Math.floor(h)>=g)){return}return f(b.grid[Math.floor((j)/c)].charCodeAt(Math.floor((h)/c)))};a.gridFeature=function(h,m){var j=this.getKey(h,m),k=b.keys;if(k&&k[j]&&b.data[k[j]]){return b.data[k[j]]}};a.tileFeature=function(j,n,h,k){if(!b){return}var m=wax.util.offset(h);feature=this.gridFeature(j-m.left,n-m.top);if(feature){return e.format(k,feature)}};return a};wax.GridManager=function(e){e=e||{};var d=e.resolution||4,b=e.version||"1.1",h={},g={},f;var c=function(j){return j.replace(/(\.png|\.jpg|\.jpeg)(\d*)/,".grid.json")};function a(k){if(typeof k==="string"){k=[k]}return function j(n){if(!n){return}var m=/(\d+)\/(\d+)\/(\d+)\.[\w\._]+/g.exec(n);if(!m){return}return k[parseInt(m[2],10)%k.length].replace("{z}",m[1]).replace("{x}",m[2]).replace("{y}",m[3])}}g.formatter=function(j){if(!arguments.length){return f}f=wax.formatter(j);return g};g.template=function(j){if(!arguments.length){return f}f=wax.template(j);return g};g.gridUrl=function(j){if(!arguments.length){return c}c=typeof j==="function"?j:a(j);return g};g.getGrid=function(k,m){var j=c(k);if(!f||!j){return m(null,null)}wax.request.get(j,function(o,n){if(o){return m(o,null)}m(null,wax.GridInstance(n,f,{resolution:d||4}))});return g};g.add=function(j){if(j.template){g.template(j.template)}else{if(j.formatter){g.formatter(j.formatter)}}if(j.grids){g.gridUrl(j.grids)}return this};return g.add(e)};wax=wax||{};wax.hash=function(k){k=k||{};function f(){return location.hash.substring(1)}function e(m){location.hash="#"+m}var h,d={},g=90-1e-8;function a(o){var m=o.split("/");for(var n=0;n<m.length;n++){m[n]=Number(m[n]);if(isNaN(m[n])){return true}}if(m.length<3){return true}else{if(m.length==3){k.setCenterZoom(m)}}}function b(){var m=k.getCenterZoom();if(h!==m){h=m;e(h)}}function c(m){if(m===h){return}if(a(h=m)){b()}}var j=wax.util.throttle(b,500);d.add=function(){c(f());k.bindChange(j);return this};d.remove=function(){k.unbindChange(j);return this};return d.add()};var wax=wax||{};wax.legend=function(){var c,d={},a;function b(f){if(/^(https?:\/\/|data:image)/.test(f)){return f}}function e(f){return f}d.element=function(){return a};d.content=function(f){if(!arguments.length){return c.innerHTML}if(f){c.innerHTML=html_sanitize(f,b,e);c.style.display="block"}else{c.innerHTML="";c.style.display="none"}return this};d.add=function(){a=document.createElement("div");a.className="wax-legends";c=document.createElement("div");c.className="wax-legend";c.style.display="none";a.appendChild(c);return this};return d.add()};var w=function(a){a.melt=function(b,c){return b.apply(c,[a,c])};return a};var wax=wax||{};wax.movetip={};wax.movetip=function(k){k=k||{};var j={},b=undefined,a=undefined,c=k.animationOut,g=k.animationIn;function m(n){return n&&n.className.indexOf("wax-popup")!==-1}function f(o,n){var p=document.createElement("div");p.className="wax-movetip";p.style.cssText="position:absolute;";p.innerHTML=o;n.appendChild(p);a=n;_tooltipOffset=wax.util.offset(p);_contextOffset=wax.util.offset(a);return p}function d(o){if(!b){return}var n=wax.util.eventoffset(o);b.className="wax-movetip";if((_tooltipOffset.height+n.y)>(_contextOffset.top+_contextOffset.height)&&(_contextOffset.height>_tooltipOffset.height)){n.y-=_tooltipOffset.height;b.className+=" flip-y"}if((_tooltipOffset.width+n.x)>(_contextOffset.left+_contextOffset.width)){n.x-=_tooltipOffset.width;b.className+=" flip-x"}b.style.left=n.x+"px";b.style.top=n.y+"px"}function e(o){if(!o){return}var p,n=function(){if(this.parentNode){this.parentNode.removeChild(this)}};if(o.style["-webkit-transition"]!==undefined&&c){p="webkitTransitionEnd"}else{if(o.style.MozTransition!==undefined&&c){p="transitionend"}}if(p){o.addEventListener(p,n,false);o.addEventListener("transitionend",n,false);o.className+=" "+c}else{if(o.parentNode){o.parentNode.removeChild(o)}}}function h(o,n){if(b){e(b);b=undefined}var q=f(o,n);q.className+=" wax-popup";q.innerHTML=o;var s=document.createElement("a");s.href="#close";s.className="close";s.innerHTML="Close";q.appendChild(s);var p=function(t){e(q);b=undefined;t.returnValue=false;if(t.stopPropagation){t.stopPropagation()}if(t.preventDefault){t.preventDefault()}return false};if(s.addEventListener){s.addEventListener("click",p,false)}else{if(s.attachEvent){s.attachEvent("onclick",p)}}b=q}j.over=function(o,n,p){if(!o){return}n.style.cursor="pointer";if(m(b)){return}else{b=f(o,n);d(p);if(n.addEventListener){n.addEventListener("mousemove",d)}}};j.out=function(n){n.style.cursor="default";if(m(b)){return}else{if(b){e(b);if(n.removeEventListener){n.removeEventListener("mousemove",d)}b=undefined}}};return j};var wax=wax||{};wax.request={cache:{},locks:{},promises:{},get:function(a,c){if(this.cache[a]){return c(this.cache[a][0],this.cache[a][1])}else{this.promises[a]=this.promises[a]||[];this.promises[a].push(c);if(this.locks[a]){return}var b=this;this.locks[a]=true;reqwest({url:a+(~a.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:function(e){b.locks[a]=false;b.cache[a]=[null,e];for(var d=0;d<b.promises[a].length;d++){b.promises[a][d](b.cache[a][0],b.cache[a][1])}},error:function(e){b.locks[a]=false;b.cache[a]=[e,null];for(var d=0;d<b.promises[a].length;d++){b.promises[a][d](b.cache[a][0],b.cache[a][1])}}})}}};wax.template=function(a){var c={};function b(e){if(/^(https?:\/\/|data:image)/.test(e)){return e}}function d(e){return e}c.format=function(e,g){var h={};for(var f in g){h[f]=g[f]}if(e.format){h["__"+e.format+"__"]=true}return html_sanitize(Mustache.to_html(a,h),b,d)};return c};if(!wax){var wax={}}wax.tilejson=function(a,b){reqwest({url:a+(~a.indexOf("?")?"&":"?")+"callback=grid",type:"jsonp",jsonpCallback:"callback",success:b,error:b})};var wax=wax||{};wax.tooltip={};wax.tooltip=function(a){this._currentTooltip=undefined;a=a||{};if(a.animationOut){this.animationOut=a.animationOut}if(a.animationIn){this.animationIn=a.animationIn}};wax.tooltip.prototype.isPopup=function(a){return a&&a.className.indexOf("wax-popup")!==-1};wax.tooltip.prototype.getTooltip=function(b,a){var c=document.createElement("div");c.className="wax-tooltip wax-tooltip-0";c.innerHTML=b;a.appendChild(c);return c};wax.tooltip.prototype.hideTooltip=function(b){if(!b){return}var c,a=function(){if(this.parentNode){this.parentNode.removeChild(this)}};if(b.style["-webkit-transition"]!==undefined&&this.animationOut){c="webkitTransitionEnd"}else{if(b.style.MozTransition!==undefined&&this.animationOut){c="transitionend"}}if(c){b.addEventListener(c,a,false);b.addEventListener("transitionend",a,false);b.className+=" "+this.animationOut}else{if(b.parentNode){b.parentNode.removeChild(b)}}};wax.tooltip.prototype.click=function(b,a){if(this._currentTooltip){this.hideTooltip(this._currentTooltip);this._currentTooltip=undefined}var d=this.getTooltip(b,a);d.className+=" wax-popup";d.innerHTML=b;var e=document.createElement("a");e.href="#close";e.className="close";e.innerHTML="Close";d.appendChild(e);var c=wax.util.bind(function(f){this.hideTooltip(d);this._currentTooltip=undefined;f.returnValue=false;if(f.stopPropagation){f.stopPropagation()}if(f.preventDefault){f.preventDefault()}return false},this);if(e.addEventListener){e.addEventListener("click",c,false);e.addEventListener("touchend",c,false)}else{if(e.attachEvent){e.attachEvent("onclick",c)}}this._currentTooltip=d};wax.tooltip.prototype.over=function(b,a){if(!b){return}a.style.cursor="pointer";if(this.isPopup(this._currentTooltip)){return}else{this._currentTooltip=this.getTooltip(b,a)}};wax.tooltip.prototype.out=function(a){a.style.cursor="default";if(this.isPopup(this._currentTooltip)){return}else{if(this._currentTooltip){this.hideTooltip(this._currentTooltip);this._currentTooltip=undefined}}};var wax=wax||{};wax.util=wax.util||{};wax.util={offset:function(b){var a=b.offsetWidth||parseInt(b.style.width,10),j=b.offsetHeight||parseInt(b.style.height,10),h=document.body,g=0,c=0;var k=function(m){if(m===h||m===document.documentElement){return}g+=m.offsetTop;c+=m.offsetLeft;var e=m.style.transform||m.style.WebkitTransform||m.style.OTransform||m.style.MozTransform||m.style.msTransform;if(e){if(match=e.match(/translate\((.+)px, (.+)px\)/)){g+=parseInt(match[2],10);c+=parseInt(match[1],10)}else{if(match=e.match(/translate3d\((.+)px, (.+)px, (.+)px\)/)){g+=parseInt(match[2],10);c+=parseInt(match[1],10)}else{if(match=e.match(/matrix3d\(([\-\d,\s]+)\)/)){var n=match[1].split(",");g+=parseInt(n[13],10);c+=parseInt(n[12],10)}else{if(match=e.match(/matrix\(.+, .+, .+, .+, (.+), (.+)\)/)){g+=parseInt(match[2],10);c+=parseInt(match[1],10)}}}}}};k(b);try{while(b=b.offsetParent){k(b)}}catch(f){}g+=h.offsetTop;c+=h.offsetLeft;g+=h.parentNode.offsetTop;c+=h.parentNode.offsetLeft;var d=document.defaultView?window.getComputedStyle(h.parentNode,null):h.parentNode.currentStyle;if(h.parentNode.offsetTop!==parseInt(d.marginTop,10)&&!isNaN(parseInt(d.marginTop,10))){g+=parseInt(d.marginTop,10);c+=parseInt(d.marginLeft,10)}return{top:g,left:c,height:j,width:a}},"$":function(a){return(typeof a==="string")?document.getElementById(a):a},bind:function(b,c){var a=Array.prototype.slice.call(arguments,2);return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}},isString:function(a){return !!(a===""||(a&&a.charCodeAt&&a.substr))},indexOf:function(e,d){var a=Array.prototype.indexOf;if(e===null){return -1}var c,b;if(a&&e.indexOf===a){return e.indexOf(d)}for(c=0,b=e.length;c<b;c++){if(e[c]===d){return c}}return -1},isArray:Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},keys:Object.keys||function(d){var c=Object.prototype.hasOwnProperty;if(d!==Object(d)){throw new TypeError("Invalid object")}var b=[];for(var a in d){if(c.call(d,a)){b[b.length]=a}}return b},eventoffset:function(h){var b=0;var j=0;if(!h){var h=window.event}if(h.pageX||h.pageY){return{x:h.pageX,y:h.pageY}}else{if(h.clientX||h.clientY){var g=document.documentElement,a=document.body;var d=document.body.parentNode.currentStyle;var c=parseInt(d.marginTop,10)||0;var f=parseInt(d.marginLeft,10)||0;return{x:h.clientX+(g&&g.scrollLeft||a&&a.scrollLeft||0)-(g&&g.clientLeft||a&&a.clientLeft||0)+f,y:h.clientY+(g&&g.scrollTop||a&&a.scrollTop||0)-(g&&g.clientTop||a&&a.clientTop||0)+c}}else{if(h.touches&&h.touches.length===1){return{x:h.touches[0].pageX,y:h.touches[0].pageY}}}}},limit:function(b,d,a){var c;return function(){var f=this,e=arguments;var g=function(){c=null;b.apply(f,e)};if(a){clearTimeout(c)}if(a||!c){c=setTimeout(g,d)}}},throttle:function(a,b){return this.limit(a,b,false)}};wax=wax||{};wax.mm=wax.mm||{};wax.mm.attribution=function(d,e){e=e||{};var c,b={};b.element=function(){return c.element()};b.appendTo=function(a){wax.util.$(a).appendChild(c.element());return this};b.init=function(){c=wax.attribution();c.set(e.attribution);c.element().className="wax-attribution wax-mm";return this};return b.init()};wax=wax||{};wax.mm=wax.mm||{};wax.mm.boxselector=function(b,n,a){var d=null,q=((typeof a==="function")?a:a.callback),f,h=MM.addEvent,o=MM.removeEvent,k,e={};function g(u){var s=new MM.Point(u.clientX,u.clientY);s.x+=document.body.scrollLeft+document.documentElement.scrollLeft;s.y+=document.body.scrollTop+document.documentElement.scrollTop;for(var t=b.parent;t;t=t.offsetParent){s.x-=t.offsetLeft;s.y-=t.offsetTop}return s}function j(s){if(!s.shiftKey){return}d=g(s);f.style.left=d.x+"px";f.style.top=d.y+"px";h(b.parent,"mousemove",p);h(b.parent,"mouseup",m);b.parent.style.cursor="crosshair";return MM.cancelEvent(s)}function p(u){var s=g(u),t=f.style;t.display="block";if(s.x<d.x){t.left=s.x+"px"}else{t.left=d.x+"px"}if(s.y<d.y){t.top=s.y+"px"}else{t.top=d.y+"px"}t.width=Math.abs(s.x-d.x)+"px";t.height=Math.abs(s.y-d.y)+"px";return MM.cancelEvent(u)}function m(v){var t=g(v),u=b.pointLocation(t),s=b.pointLocation(d);e.extent([new MM.Location(Math.max(u.lat,s.lat),Math.min(u.lon,s.lon)),new MM.Location(Math.min(u.lat,s.lat),Math.max(u.lon,s.lon))]);o(b.parent,"mousemove",p);o(b.parent,"mouseup",m);b.parent.style.cursor="auto"}function c(x,v){if(!f||!k){return}var t=x.locationPoint(k[1]),s=x.locationPoint(k[0]),u=f.style;u.display="block";u.height="auto";u.width="auto";u.left=Math.max(0,s.x)+"px";u.top=Math.max(0,s.y)+"px";u.right=Math.max(0,x.dimensions.x-t.x)+"px";u.bottom=Math.max(0,x.dimensions.y-t.y)+"px"}e.extent=function(s,t){if(!s){return k}k=[new MM.Location(Math.max(s[0].lat,s[1].lat),Math.min(s[0].lon,s[1].lon)),new MM.Location(Math.min(s[0].lat,s[1].lat),Math.max(s[0].lon,s[1].lon))];c(b);if(!t){q(k)}};e.add=function(s){f=f||document.createElement("div");f.id=s.parent.id+"-boxselector-box";f.className="boxselector-box";s.parent.appendChild(f);h(s.parent,"mousedown",j);s.addCallback("drawn",c);return this};e.remove=function(){b.parent.removeChild(f);o(b.parent,"mousedown",j);b.removeCallback("drawn",c)};return e.add(b)};wax=wax||{};wax.mm=wax.mm||{};wax._={};wax.mm.bwdetect=function(c,b){b=b||{};var a=b.png||".png128",d=b.jpg||".jpg70",e=false;wax._.bw_png=a;wax._.bw_jpg=d;return wax.bwdetect(b,function(f){wax._.bw=!f;for(var g=0;g<c.layers.length;g++){if(c.getLayerAt(g).provider instanceof wax.mm.connector){c.getLayerAt(g).setProvider(c.getLayerAt(g).provider)}}})};wax=wax||{};wax.mm=wax.mm||{};wax.mm.fullscreen=function(j){var c=false,h={},d,b=document.body,f;function g(a){if(a){MM.cancelEvent(a)}if(c){h.original()}else{h.full()}}function e(a,k){j.dimensions=new MM.Point(a,k);j.parent.style.width=Math.round(j.dimensions.x)+"px";j.parent.style.height=Math.round(j.dimensions.y)+"px";j.dispatchCallback("resized",j.dimensions)}h.add=function(a){d=document.createElement("a");d.className="wax-fullscreen";d.href="#fullscreen";d.innerHTML="fullscreen";MM.addEvent(d,"click",g);return this};h.full=function(){if(c){return}else{c=true}f=[j.parent.offsetWidth,j.parent.offsetHeight];j.parent.className+=" wax-fullscreen-map";b.className+=" wax-fullscreen-view";e(j.parent.offsetWidth,j.parent.offsetHeight)};h.original=function(){if(!c){return}else{c=false}j.parent.className=j.parent.className.replace(" wax-fullscreen-map","");b.className=b.className.replace(" wax-fullscreen-view","");e(f[0],f[1])};h.appendTo=function(a){wax.util.$(a).appendChild(d);return this};return h.add(j)};wax=wax||{};wax.mm=wax.mm||{};wax.mm.hash=function(b){return wax.hash({getCenterZoom:function(){var c=b.getCenter(),e=b.getZoom(),d=Math.max(0,Math.ceil(Math.log(e)/Math.LN2));return[e.toFixed(2),c.lat.toFixed(d),c.lon.toFixed(d)].join("/")},setCenterZoom:function a(c){b.setCenterZoom(new MM.Location(c[1],c[2]),c[0])},bindChange:function(c){b.addCallback("drawn",c)},unbindChange:function(c){b.removeCallback("drawn",c)}})};wax=wax||{};wax.mm=wax.mm||{};wax.mm.interaction=function(D,s,d){d=d||{};s=s||{};var A=wax.GridManager(s),F=d.callbacks||new wax.tooltip(d),E=d.clickAction||["full","location"],p=d.clickHandler||function(G){window.top.location=G},t=wax.util.eventoffset,y=MM.addEvent,z=MM.removeEvent,h={},a=false,b=false,e=("ontouchstart" in document.documentElement),m,f,v=4,C,n=["zoomed","panned","centered","extentset","resized","drawn"];function o(){var G=D.getLayerAt(0).levels[Math.round(D.getZoom())];return C||(C=(function(I){var K=[];for(var H in I){if(I[H].parentNode===G){var J=wax.util.offset(I[H]);K.push([J.top,J.left,I[H]])}}return K})(D.getLayerAt(0).tiles))}function u(H,G){C=null}function q(I){for(var H=0,G=o();H<G.length;H++){if((G[H][0]<I.y)&&((G[H][0]+256)>I.y)&&(G[H][1]<I.x)&&((G[H][1]+256)>I.x)){return G[H][2]}}return false}function k(){if(b){window.clearTimeout(b);b=null;return true}else{return false}}function j(J){if(a){return}var H=J.target||J.srcElement;if(H.className!=="map-tile-loaded"){return}var K=t(J),I=q(K),G;if(I){A.getGrid(I.src,function(M,L){if(M||!L){return}G=L.tileFeature(K.x,K.y,I,{format:"teaser"});if(G){if(G&&m!==G){m=G;F.out(D.parent);F.over(G,D.parent,J)}else{if(!G){m=null;F.out(D.parent)}}}else{m=null;F.out(D.parent)}})}}function c(G){if(G.target.className!=="map-tile-loaded"){return}if(k()){return}a=true;f=t(G);if(G.type==="mousedown"){y(document.body,"mouseup",B)}else{if(G.type==="touchstart"&&G.touches.length===1){E=["full","teaser"];if(F._currentTooltip){F.hideTooltip(F._currentTooltip)}y(D.parent,"touchend",B);y(D.parent,"touchmove",g);y(D.parent,"touchcancel",g)}}}function g(){z(D.parent,"touchend",B);z(D.parent,"touchmove",B);z(D.parent,"touchcancel",g);a=false}function B(I){var G={},J=t(I);a=false;for(var H in I){G[H]=I[H]}z(document.body,"mouseup",B);if(e){z(D.parent,"touchend",B);z(D.parent,"touchmove",g);z(D.parent,"touchcancel",g)}if(I.type==="touchend"){x(I,f)}else{if(Math.round(J.y/v)===Math.round(f.y/v)&&Math.round(J.x/v)===Math.round(f.x/v)){b=window.setTimeout(function(){b=null;x(G,J)},300)}}return B}function x(I,J){var H=q(J),G;if(H){A.getGrid(H.src,function(M,L){for(var K=0;L&&(K<E.length);K++){G=L.tileFeature(J.x,J.y,H,{format:E[K]});if(G){switch(E[K]){case"full":case"teaser":return F.click(G,D.parent,I);case"location":return p(G)}}}})}}h.add=function(){for(var G=0;G<n.length;G++){D.addCallback(n[G],u)}y(D.parent,"mousemove",j);y(D.parent,"mousedown",c);if(e){y(D.parent,"touchstart",c)}return this};h.remove=function(){for(var G=0;G<n.length;G++){D.removeCallback(n[G],u)}z(D.parent,"mousemove",j);z(D.parent,"mousedown",c);if(e){z(D.parent,"touchstart",c)}if(F._currentTooltip){F.hideTooltip(F._currentTooltip)}return this};return h.add(D)};wax=wax||{};wax.mm=wax.mm||{};wax.mm.latlngtooltip=function(d){var a,c=false,h={};function e(m){var j=new MM.Point(m.clientX,m.clientY);j.x+=document.body.scrollLeft+document.documentElement.scrollLeft;j.y+=document.body.scrollTop+document.documentElement.scrollTop;for(var k=d.parent;k;k=k.offsetParent){j.x-=k.offsetLeft;j.y-=k.offsetTop}return j}function b(j){console.log("here");c=true}function g(j){c=false}function f(n){if(!n.shiftKey||c){if(a.parentNode===d.parent){d.parent.removeChild(a)}return}var m=e(n),k=d.pointLocation(m),j=k.lat.toFixed(2)+", "+k.lon.toFixed(2);a.innerHTML=j;m.scale=m.width=m.height=1;m.x+=10;MM.moveElement(a,m);d.parent.appendChild(a)}h.add=function(){MM.addEvent(d.parent,"mousemove",f);MM.addEvent(d.parent,"mousedown",b);MM.addEvent(d.parent,"mouseup",g);a=document.createElement("div");a.className="wax-latlngtooltip";return this};h.remove=function(){MM.removeEvent(d.parent,"mousemove",f);MM.removeEvent(d.parent,"mousedown",b);MM.removeEvent(d.parent,"mouseup",g);return this};return h.add()};wax=wax||{};wax.mm=wax.mm||{};wax.mm.legend=function(c,d){d=d||{};var a,b={};b.add=function(){a=wax.legend().content(d.legend||"");return this};b.content=function(e){if(e){a.content(e.legend||"")}};b.element=function(){return a.element()};b.appendTo=function(e){wax.util.$(e).appendChild(a.element());return this};return b.add()};wax=wax||{};wax.mm=wax.mm||{};wax.mm.mobile=function(u,k,m){m=m||{};var q=navigator.userAgent.toLowerCase(),h=q.indexOf("webkit")!=-1,n=q.indexOf("mobile")!=-1,v=n&&h;var a=function(y){var A=document.createElement("canvas");var z=parseInt(y.style.width,10),E=parseInt(y.style.height,10),C=z/2,D=E/2,G=Math.min(z,E)/4,F=A.getContext("2d");A.setAttribute("width",z);A.setAttribute("height",E);F.globalAlpha=0.7;var B=F.createLinearGradient(0,0,300,225);B.addColorStop(0,"black");B.addColorStop(1,"rgb(144, 144, 144)");F.fillStyle=B;F.fillRect(0,0,z,E);F.beginPath();F.arc(C-G*0.3,D,G*1.3,G*1.3,Math.PI*2,true);F.closePath();F.fillStyle="rgb(100, 100, 100)";F.fill();F.fillStyle="rgb(255, 255, 255)";F.lineWidth=5;F.beginPath();F.moveTo(C-G*0.8,D-G);F.lineTo(C-G*0.8,D+G);F.lineTo(C+G*0.8,D);F.fill();y.appendChild(A)};function d(){return((Math.abs(window.orientation)==90)?Math.max(480,screen.height):screen.width)/window.innerWidth}var e=function(A){A.style.position="absolute";A.style.height="50px";A.style.left=A.style.right="0";var z=document.createElement("canvas");z.setAttribute("width",A.offsetWidth);z.setAttribute("height",A.offsetHeight);var y=z.getContext("2d");y.globalAlpha=1;y.fillStyle="rgba(255, 255, 255, 0.5)";y.fillRect(0,0,A.offsetWidth,A.offsetHeight);y.fillStyle="rgb(0, 0, 0)";y.font="bold 20px sans-serif";y.fillText("back",20,30);A.appendChild(z)};var b=function(y){y.style.position="absolute";y.style.width=y.style.height="auto";y.style.top=(window.pageYOffset)+"px";y.style.left=y.style.right="0px"};var s=function(y){y.style.position="relative";y.style.width=y.style.height=y.style.top=y.style.left=y.style.right="auto"};var p,g,t,j,o,f=m.overlayDraw||a,x=m.backDraw||e;bodyDraw=m.bodyDraw||function(){};var c={add:function(y){if(v){j=document.createElement("meta");j.id="wax-touch";j.setAttribute("name","viewport");p=document.createElement("div");p.id=y.parent.id+"-mobileoverlay";p.className="wax-mobileoverlay";p.style.position="absolute";p.style.width=y.dimensions.x+"px";p.style.height=y.dimensions.y+"px";y.parent.appendChild(p);f(p);t=document.createElement("div");backDiv=document.createElement("div");g=document.body;newBody=document.createElement("body");newBody.className="wax-mobile-body";newBody.appendChild(backDiv);MM.addEvent(p,"touchstart",this.toTouch);MM.addEvent(backDiv,"touchstart",this.toPage)}return this},toTouch:function(){u.parent.parentNode.replaceChild(t,u.parent);newBody.insertBefore(u.parent,backDiv);document.body=newBody;o=d();document.head.appendChild(j);bodyDraw(newBody);x(backDiv);j.setAttribute("content","initial-scale=1.0,minimum-scale=0, maximum-scale=10");u._smallSize=[u.parent.clientWidth,u.parent.clientHeight];b(u.parent);u.setSize(u.parent.offsetWidth,window.innerHeight);backDiv.style.display="block";p.style.display="none"},toPage:function(){document.body=g;j.setAttribute("content","user-scalable=yes, width=device-width,initial-scale="+o);t.parentNode.replaceChild(u.parent,t);s(u.parent);u.setSize(u._smallSize[0],u._smallSize[1]);backDiv.style.display="none";p.style.display="block"}};return c.add(u)};wax=wax||{};wax.mm=wax.mm||{};wax.mm.pointselector=function(c,m,a){var e=null,d=null,o=5,p,b={},n=[];var q=(typeof a==="function")?a:a.callback;function g(x){var v=wax.util.eventoffset(x);var t=new MM.Point(v.x,v.y);var s={x:parseFloat(MM.getStyle(document.documentElement,"margin-left")),y:parseFloat(MM.getStyle(document.documentElement,"margin-top"))};if(!isNaN(s.x)){t.x-=s.x}if(!isNaN(s.y)){t.y-=s.y}for(var u=c.parent;u;u=u.offsetParent){t.x-=u.offsetLeft;t.y-=u.offsetTop}return t}function f(s){var u=[];for(var t=0;t<s.length;t++){u.push(new MM.Location(s[t].lat,s[t].lon))}return u}function j(){var v=new MM.Point(0,0);for(var u=0;u<n.length;u++){var s=c.locationPoint(n[u]);if(!n[u].pointDiv){n[u].pointDiv=document.createElement("div");n[u].pointDiv.className="wax-point-div";n[u].pointDiv.style.position="absolute";n[u].pointDiv.style.display="block";n[u].pointDiv.location=n[u];MM.addEvent(n[u].pointDiv,"mouseup",(function t(y){var x=n[u];return function(z){MM.removeEvent(c.parent,"mouseup",k);b.deleteLocation(x,z)}})());c.parent.appendChild(n[u].pointDiv)}n[u].pointDiv.style.left=s.x+"px";n[u].pointDiv.style.top=s.y+"px"}}function h(s){e=g(s);MM.addEvent(c.parent,"mouseup",k)}function k(s){if(!e){return}d=g(s);if(MM.Point.distance(e,d)<o){b.addLocation(c.pointLocation(e));q(f(n))}e=null}b.addLocation=function(s){n.push(s);j();q(f(n))};b.locations=function(s){return n};b.add=function(s){MM.addEvent(s.parent,"mousedown",h);s.addCallback("drawn",j);return this};b.remove=function(t){MM.removeEvent(t.parent,"mousedown",h);t.removeCallback("drawn",j);for(var s=n.length-1;s>-1;s--){b.deleteLocation(n[s])}return this};b.deleteLocation=function(s,t){if(!t||confirm("Delete this point?")){s.pointDiv.parentNode.removeChild(s.pointDiv);n.splice(wax.util.indexOf(n,s),1);q(f(n))}};return b.add(c)};wax=wax||{};wax.mm=wax.mm||{};wax.mm.zoombox=function(a){var f={},h=false,d,b=null;function c(n){var k=new MM.Point(n.clientX,n.clientY);k.x+=document.body.scrollLeft+document.documentElement.scrollLeft;k.y+=document.body.scrollTop+document.documentElement.scrollTop;for(var m=a.parent;m;m=m.offsetParent){k.x-=m.offsetLeft;k.y-=m.offsetTop}return k}function g(o){if(!h){return}h=false;var m=c(o);var n=a.pointLocation(m),k=a.pointLocation(b);a.setExtent([n,k]);d.style.display="none";MM.removeEvent(a.parent,"mousemove",j);MM.removeEvent(a.parent,"mouseup",g);a.parent.style.cursor="auto"}function e(k){if(!(k.shiftKey&&!this.drawing)){return}h=true;b=c(k);d.style.left=b.x+"px";d.style.top=b.y+"px";MM.addEvent(a.parent,"mousemove",j);MM.addEvent(a.parent,"mouseup",g);a.parent.style.cursor="crosshair";return MM.cancelEvent(k)}function j(m){if(!h){return}var k=c(m);d.style.display="block";if(k.x<b.x){d.style.left=k.x+"px"}else{d.style.left=b.x+"px"}d.style.width=Math.abs(k.x-b.x)+"px";if(k.y<b.y){d.style.top=k.y+"px"}else{d.style.top=b.y+"px"}d.style.height=Math.abs(k.y-b.y)+"px";return MM.cancelEvent(m)}f.add=function(k){d=d||document.createElement("div");d.id=k.parent.id+"-zoombox-box";d.className="zoombox-box";k.parent.appendChild(d);MM.addEvent(k.parent,"mousedown",e);return this};f.remove=function(){a.parent.removeChild(d);MM.removeEvent(a.parent,"mousedown",e)};return f.add(a)};wax=wax||{};wax.mm=wax.mm||{};wax.mm.zoomer=function(d){var e=com.modestmaps;var c=document.createElement("a");c.innerHTML="+";c.href="#";c.className="zoomer zoomin";e.addEvent(c,"mousedown",function(f){e.cancelEvent(f)});e.addEvent(c,"dblclick",function(f){e.cancelEvent(f)});e.addEvent(c,"click",function(f){e.cancelEvent(f);d.zoomIn()},false);var a=document.createElement("a");a.innerHTML="-";a.href="#";a.className="zoomer zoomout";e.addEvent(a,"mousedown",function(f){e.cancelEvent(f)});e.addEvent(a,"dblclick",function(f){e.cancelEvent(f)});e.addEvent(a,"click",function(f){e.cancelEvent(f);d.zoomOut()},false);var b={add:function(f){f.addCallback("drawn",function(h,g){if(h.coordinate.zoom===h.coordLimits[0].zoom){a.className="zoomer zoomout zoomdisabled"}else{if(h.coordinate.zoom===h.coordLimits[1].zoom){c.className="zoomer zoomin zoomdisabled"}else{c.className="zoomer zoomin";a.className="zoomer zoomout"}}});return this},appendTo:function(f){wax.util.$(f).appendChild(c);wax.util.$(f).appendChild(a);return this}};return b.add(d)};var wax=wax||{};wax.mm=wax.mm||{};wax.mm._provider=function(a){this.options={tiles:a.tiles,scheme:a.scheme||"xyz",minzoom:a.minzoom||0,maxzoom:a.maxzoom||22,bounds:a.bounds||[-180,-90,180,90]}};wax.mm._provider.prototype={outerLimits:function(){return[this.locationCoordinate(new MM.Location(this.options.bounds[0],this.options.bounds[1])).zoomTo(this.options.minzoom),this.locationCoordinate(new MM.Location(this.options.bounds[2],this.options.bounds[3])).zoomTo(this.options.maxzoom)]},getTile:function(b){if(!(coord=this.sourceCoordinate(b))){return null}if(coord.zoom<this.options.minzoom||coord.zoom>this.options.maxzoom){return null}coord.row=(this.options.scheme==="tms")?Math.pow(2,coord.zoom)-coord.row-1:coord.row;var a=this.options.tiles[parseInt(Math.pow(2,coord.zoom)*coord.row+coord.column,10)%this.options.tiles.length].replace("{z}",coord.zoom.toFixed(0)).replace("{x}",coord.column.toFixed(0)).replace("{y}",coord.row.toFixed(0));if(wax._&&wax._.bw){a=a.replace(".png",wax._.bw_png).replace(".jpg",wax._.bw_jpg)}return a}};if(MM){MM.extend(wax.mm._provider,MM.MapProvider)}wax.mm.connector=function(b){var a=new wax.mm._provider(b);return new MM.Layer(a)};var loadMap=function(a){var c,d=com.modestmaps,b=a;wax.tilejson(b,function(e){window.tilejson=e;c=new d.Map("map",new wax.mm.connector(e),new d.Point(620,580),null);c.setCenterZoom(new d.Location(31.3,-100.2),6);if(window.legend){$(window.legend.element()).remove()}window.legend=wax.mm.legend(c,e).appendTo(c.parent);if(window.attribution){$(window.attribution.element()).remove()}window.attribution=wax.mm.attribution(c,e).appendTo(c.parent);if(window.interaction){window.interaction.remove()}window.interaction=wax.mm.interaction(c,e)})};loadMap("http://a.tiles.mapbox.com/v3/npr.texas-wildfires-homes.jsonp");$("#impact .nav-pills a").click(function(a){if(!$(this).parent().hasClass("active")){$("#impact .nav-pills li").toggleClass("active");if($("#impact .legend .metric").hasClass("houses")){$("#impact .legend .metric").html("<span></span> Larger symbols represent relative fire size, not actual area.")}else{$("#impact .legend .metric").html("<span></span> Larger symbols represent more homes lost.")}$("#impact .legend .metric").toggleClass("houses acres");loadMap($(this).attr("data-target"))}});jQuery(function(a){a("#map").mousemove(function(g){var f=a("#map"),b=f.offset(),d=a(".wax-tooltip"),c=15;d.css({display:"block"});if(g.pageX-b.left+d.width()+40>f.width()){d.css({right:f.width()-(g.pageX-b.left)+c,left:"auto"})}else{d.css({left:g.pageX-b.left+c,right:"auto"})}if(g.pageY-b.top+d.height()>f.height()){d.css({bottom:f.height()-(g.pageY-b.top)+c-10,top:"auto"})}else{a(".wax-tooltip").css({top:g.pageY-b.top+c,bottom:"auto"})}});a("a,header,.wax-legends").mouseover(function(){a(".wax-tooltip").css("opacity","0 !important")}).mouseleave(function(){a(".wax-tooltip").css("opacity","1")})});jQuery(function(b){var a="Texas Drought";window._gaq=window._gaq||[];slider.bind("slidestart",function(d,c){_gaq.push(["_trackEvent",a,"Slider start"])});player.button.on("click",function(c){_gaq.push(["_trackEvent",a,"Play map slider"])});b("#myCarousel").find("a.btn").on("click",function(c){_gaq.push(["_trackEvent",a,"Timeline slideshow"])});b("#map").find("li a").on("click",function(c){_gaq.push(["_trackEvent",a,"Fire map switch"])})});